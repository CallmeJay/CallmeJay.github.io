<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[åŸºç¡€çŸ¥è¯†æ€»ç»“-3]]></title>
    <url>%2F2019%2F06%2F10%2F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93-3%2F</url>
    <content type="text"><![CDATA[ä¸»è¦æ˜¯é’ˆå¯¹é¢è¯•ä¸­å£è¿°é—®é¢˜ è¯´ä¸€ä¸‹JSçš„Event Loopç®€å•æ€»ç»“å¦‚ä¸‹ï¼š JSæ˜¯å•çº¿ç¨‹çš„ï¼Œå…¶ä¸Šé¢çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯åœ¨ä¸¤ä¸ªåœ°æ–¹æ‰§è¡Œï¼šæ‰§è¡Œæ ˆå’Œä»»åŠ¡é˜Ÿåˆ—ã€‚å‰è€…æ˜¯å­˜æ”¾åŒæ­¥ä»»åŠ¡ï¼›åŽè€…æ˜¯å¼‚æ­¥ä»»åŠ¡æœ‰ç»“æžœåŽï¼Œå°±åœ¨å…¶ä¸­æ”¾å…¥ä¸€ä¸ªäº‹ä»¶ã€‚ å½“æ‰§è¡Œæ ˆçš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œäº†ï¼ˆæ ˆç©ºï¼‰ï¼Œjsä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¹¶å°†å¯ä»¥æ‰§è¡Œçš„ä»»åŠ¡ä»Žä»»åŠ¡é˜Ÿåˆ—ä¸¢åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚ è¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªçŽ¯è¿›è¡Œï¼Œæ‰€ä»¥ç§°ä½œLoopã€‚ è§£é‡Šä¸‹jsçš„é—­åŒ…ç›´æŽ¥ä¸ŠMDNçš„è§£é‡Šï¼šé—­åŒ…æ˜¯å‡½æ•°å’Œå£°æ˜Žè¯¥å‡½æ•°çš„è¯æ³•çŽ¯å¢ƒçš„ç»„åˆã€‚ è€Œåœ¨JavaScriptä¸­ï¼Œå‡½æ•°æ˜¯è¢«ä½œä¸ºä¸€çº§å¯¹è±¡ä½¿ç”¨çš„ï¼Œå®ƒæ—¢å¯ä»¥æœ¬å½“ä½œå€¼è¿”å›žï¼Œè¿˜å¯ä»¥å½“ä½œå‚æ•°ä¼ é€’ã€‚ç†è§£äº†ï¼šâ€œJsä¸­çš„å‡½æ•°è¿è¡Œåœ¨å®ƒä»¬è¢«å®šä¹‰çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯å®ƒä»¬è¢«æ‰§è¡Œçš„ä½œç”¨åŸŸâ€ï¼ˆæ‘˜è‡ªã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ï¼‰ è¿™å¥è¯å³å¯ã€‚ è§£é‡Šä¸‹Setå’ŒMap Setå…ƒç´ ä¸å…è®¸é‡å¤ Mapç±»ä¼¼å¯¹è±¡ï¼Œä½†æ˜¯å®ƒçš„é”®ï¼ˆkeyï¼‰å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»åž‹ Setçš„å¸¸ç”¨æ–¹æ³• 12345678910111213141516171819202122// å®žä¾‹åŒ–ä¸€ä¸ªsetconst set = new Set([1, 2, 3, 4]);// éåŽ†setfor (let item of set) &#123; console.log(item);&#125;// æ·»åŠ å…ƒç´ ï¼Œè¿”å›žSetæœ¬èº«set.add(5).add(6);// Setå¤§å°console.log(set.size);// æ£€æŸ¥å…ƒç´ å­˜åœ¨console.log(set.has(0));// åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œè¿”å›žboollet success = set.delete(1);console.log(success);set.clear(); MapæŽ¥å£åŸºæœ¬å’ŒSetä¸€è‡´ã€‚ä¸åŒçš„æ˜¯å¢žåŠ /èŽ·å–æ–°å…ƒç´ çš„APIæ˜¯ï¼šset/get(key, value) 12345678const map = new Map();// ä»¥ä»»æ„å¯¹è±¡ä¸º Key å€¼// è¿™é‡Œä»¥ Date å¯¹è±¡ä¸ºä¾‹let key = new Date();map.set(key, "today");console.log(map.get(key)); JSéšå¼è½¬æ¢åŠåº”ç”¨åœºæ™¯ -ã€*ã€/ã€% ï¼šä¸€å¾‹è½¬æ¢æˆæ•°å€¼åŽè®¡ç®— +ï¼š æ•°å­— + å­—ç¬¦ä¸² = å­—ç¬¦ä¸²ï¼Œ è¿ç®—é¡ºåºæ˜¯ä»Žå·¦åˆ°å³ æ•°å­— + å¯¹è±¡ï¼Œ ä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„valueOf -&gt; toString æ•°å­— + boolean/null -&gt; æ•°å­— æ•°å­— + undefined -&gt; NaN [1].toString() === â€˜1â€™ {}.toString() === â€˜[object object]â€™ NaN !== NaN ã€+undefined ä¸º NaN nullæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„å¯¹è±¡ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸º0ï¼›undefinedæ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€æ— â€çš„åŽŸå§‹å€¼ï¼Œè½¬ä¸ºæ•°å€¼æ—¶ä¸ºNaN BFCBFC(Block formatting context)ç›´è¯‘ä¸ºâ€å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ã€‚å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œåªæœ‰Block-level boxå‚ä¸Žï¼Œ å®ƒè§„å®šäº†å†…éƒ¨çš„Block-level Boxå¦‚ä½•å¸ƒå±€ï¼Œå¹¶ä¸”ä¸Žè¿™ä¸ªåŒºåŸŸå¤–éƒ¨æ¯«ä¸ç›¸å¹²ã€‚ å“ªäº›å…ƒç´ å¯ä»¥äº§ç”ŸBFC æ ¹å…ƒç´  floatå±žæ€§ä¸ä¸ºnone positionä¸ºabsoluteæˆ–fixed displayä¸ºinline-block, table-cell, table-caption, flex, inline-flex overflowä¸ä¸ºvisible BFCçš„å¸ƒå±€è§„åˆ™ å†…éƒ¨çš„Boxä¼šåœ¨åž‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæŽ¥ä¸€ä¸ªåœ°æ”¾ç½® Boxåž‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±žäºŽåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å  æ¯ä¸ªå…ƒç´ çš„margin-boxçš„å·¦è¾¹ï¼Œ ä¸ŽåŒ…å«å—border-boxçš„å·¦è¾¹ç›¸æŽ¥è§¦(å¯¹äºŽä»Žå·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ BFCçš„åŒºåŸŸä¸ä¼šä¸Žfloat boxé‡å ã€‚ è°ƒç”¨æ ˆè°ƒç”¨æ ˆæ˜¯è§£æžå™¨(å¦‚æµè§ˆå™¨ä¸­çš„çš„javascriptè§£æžå™¨)çš„ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥åœ¨è„šæœ¬è°ƒç”¨å¤šä¸ªå‡½æ•°æ—¶ï¼Œè·Ÿè¸ªæ¯ä¸ªå‡½æ•°åœ¨å®Œæˆæ‰§è¡Œæ—¶åº”è¯¥è¿”å›žæŽ§åˆ¶çš„ç‚¹ã€‚ï¼ˆå¦‚ä»€ä¹ˆå‡½æ•°æ­£åœ¨æ‰§è¡Œï¼Œä»€ä¹ˆå‡½æ•°è¢«è¿™ä¸ªå‡½æ•°è°ƒç”¨ï¼Œä¸‹ä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°æ˜¯è°ï¼‰ å½“è„šæœ¬è¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè§£æžå™¨æŠŠè¯¥å‡½æ•°æ·»åŠ åˆ°æ ˆä¸­å¹¶ä¸”æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚ ä»»ä½•è¢«è¿™ä¸ªå‡½æ•°è°ƒç”¨çš„å‡½æ•°ä¼šè¿›ä¸€æ­¥æ·»åŠ åˆ°è°ƒç”¨æ ˆä¸­ï¼Œå¹¶ä¸”è¿è¡Œåˆ°å®ƒä»¬è¢«ä¸Šä¸ªç¨‹åºè°ƒç”¨çš„ä½ç½®ã€‚ å½“å‡½æ•°è¿è¡Œç»“æŸåŽï¼Œè§£é‡Šå™¨å°†å®ƒä»Žå †æ ˆä¸­ç§»é™¤ï¼Œå¹¶åœ¨ä¸»ä»£ç åˆ—è¡¨ä¸­ç»§ç»­æ‰§è¡Œä»£ç ã€‚ å¦‚æžœæ ˆå ç”¨çš„ç©ºé—´æ¯”åˆ†é…ç»™å®ƒçš„ç©ºé—´è¿˜å¤§ï¼Œé‚£ä¹ˆåˆ™ä¼šå¯¼è‡´â€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚]]></content>
      <tags>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å­¦ä¹ react]]></title>
    <url>%2F2019%2F05%2F29%2F%E5%AD%A6%E4%B9%A0react%2F</url>
    <content type="text"><![CDATA[ç»„ä»¶çš„æŒ‚è½½æŒ‡çš„æ˜¯å°†ç»„ä»¶æ¸²æŸ“å¹¶ä¸”æž„é€  DOM å…ƒç´ ç„¶åŽæ’å…¥é¡µé¢çš„è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªä»Žæ— åˆ°æœ‰çš„è¿‡ç¨‹ï¼ŒReact.js æä¾›ä¸€äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯ä»¥ç»™æˆ‘ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åšä¸€äº›æ“ä½œã€‚ æŒ‚è½½è¿‡ç¨‹ï¼š 123456789-&gt; constructor()-&gt; componentWillMount()-&gt; render()// ç„¶åŽæž„é€  DOM å…ƒç´ æ’å…¥é¡µé¢-&gt; componentDidMount()// ...// å³å°†ä»Žé¡µé¢ä¸­åˆ é™¤-&gt; componentWillUnmount()// ä»Žé¡µé¢ä¸­åˆ é™¤ ç»„ä»¶çš„ç§æœ‰æ–¹æ³•éƒ½ç”¨ _ å¼€å¤´ï¼Œæ‰€æœ‰äº‹ä»¶ç›‘å¬çš„æ–¹æ³•éƒ½ç”¨ handle å¼€å¤´ã€‚æŠŠäº‹ä»¶ç›‘å¬æ–¹æ³•ä¼ ç»™ç»„ä»¶çš„æ—¶å€™ï¼Œå±žæ€§åç”¨ on å¼€å¤´ã€‚ ç»„ä»¶çš„å†…å®¹ç¼–å†™é¡ºåºå¦‚ä¸‹ static å¼€å¤´çš„ç±»å±žæ€§ï¼Œå¦‚ defaultPropsã€propTypesã€‚ æž„é€ å‡½æ•°ï¼Œconstructorã€‚ getter/setterï¼ˆè¿˜ä¸äº†è§£çš„åŒå­¦å¯ä»¥æš‚æ—¶å¿½ç•¥ï¼‰ã€‚ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€‚ _ å¼€å¤´çš„ç§æœ‰æ–¹æ³•ã€‚ äº‹ä»¶ç›‘å¬æ–¹æ³•ï¼Œhandle*ã€‚ render*å¼€å¤´çš„æ–¹æ³•ï¼Œæœ‰æ—¶å€™ render() æ–¹æ³•é‡Œé¢çš„å†…å®¹ä¼šåˆ†å¼€åˆ°ä¸åŒå‡½æ•°é‡Œé¢è¿›è¡Œï¼Œè¿™äº›å‡½æ•°éƒ½ä»¥ render* å¼€å¤´ã€‚ render() æ–¹æ³•ã€‚ ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentï¼‰ é«˜é˜¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼ ç»™å®ƒä¸€ä¸ªç»„ä»¶ï¼Œå®ƒè¿”å›žä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚æ–°çš„ç»„ä»¶ä½¿ç”¨ä¼ å…¥çš„ç»„ä»¶ä½œä¸ºå­ç»„ä»¶ã€‚ ä½œç”¨ï¼šé«˜é˜¶ç»„ä»¶çš„ä½œç”¨æ˜¯ç”¨äºŽä»£ç å¤ç”¨ï¼Œå¯ä»¥æŠŠç»„ä»¶ä¹‹é—´å¯å¤ç”¨çš„ä»£ç ã€é€»è¾‘æŠ½ç¦»åˆ°é«˜é˜¶ç»„ä»¶å½“ä¸­ã€‚æ–°çš„ç»„ä»¶å’Œä¼ å…¥çš„ç»„ä»¶é€šè¿‡ props ä¼ é€’ä¿¡æ¯ã€‚ çº¯å‡½æ•°ï¼ˆPure Functionï¼‰ ä¸€ä¸ªå‡½æ•°çš„è¿”å›žç»“æžœåªä¾èµ–äºŽå®ƒçš„å‚æ•°ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œè¿‡ç¨‹é‡Œé¢æ²¡æœ‰å‰¯ä½œç”¨ é™¤äº†ä¿®æ”¹å¤–éƒ¨çš„å˜é‡ï¼Œä¸€ä¸ªå‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¿˜æœ‰å¾ˆå¤šæ–¹å¼äº§ç”Ÿå¤–éƒ¨å¯è§‚å¯Ÿçš„å˜åŒ–ï¼Œæ¯”å¦‚è¯´è°ƒç”¨ DOM API ä¿®æ”¹é¡µé¢ï¼Œæˆ–è€…ä½ å‘é€äº† Ajax è¯·æ±‚ï¼Œè¿˜æœ‰è°ƒç”¨ window.reload åˆ·æ–°æµè§ˆå™¨ï¼Œç”šè‡³æ˜¯ console.log å¾€æŽ§åˆ¶å°æ‰“å°æ•°æ®ä¹Ÿæ˜¯å‰¯ä½œç”¨ã€‚ çº¯å‡½æ•°å¾ˆä¸¥æ ¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å‡ ä¹Žé™¤äº†è®¡ç®—æ•°æ®ä»¥å¤–ä»€ä¹ˆéƒ½ä¸èƒ½å¹²ï¼Œè®¡ç®—çš„æ—¶å€™è¿˜ä¸èƒ½ä¾èµ–é™¤äº†å‡½æ•°å‚æ•°ä»¥å¤–çš„æ•°æ®ã€‚ ä¸ºä»€ä¹ˆè¦ç…žè´¹è‹¦å¿ƒåœ°æž„å»ºçº¯å‡½æ•°ï¼Ÿå› ä¸ºçº¯å‡½æ•°éžå¸¸â€œé è°±â€ï¼Œæ‰§è¡Œä¸€ä¸ªçº¯å‡½æ•°ä½ ä¸ç”¨æ‹…å¿ƒå®ƒä¼šå¹²ä»€ä¹ˆåäº‹ï¼Œå®ƒä¸ä¼šäº§ç”Ÿä¸å¯é¢„æ–™çš„è¡Œä¸ºï¼Œä¹Ÿä¸ä¼šå¯¹å¤–éƒ¨äº§ç”Ÿå½±å“ã€‚ä¸ç®¡ä½•æ—¶ä½•åœ°ï¼Œä½ ç»™å®ƒä»€ä¹ˆå®ƒå°±ä¼šä¹–ä¹–åœ°åå‡ºä»€ä¹ˆã€‚å¦‚æžœä½ çš„åº”ç”¨ç¨‹åºå¤§å¤šæ•°å‡½æ•°éƒ½æ˜¯ç”±çº¯å‡½æ•°ç»„æˆï¼Œé‚£ä¹ˆä½ çš„ç¨‹åºæµ‹è¯•ã€è°ƒè¯•èµ·æ¥ä¼šéžå¸¸æ–¹ä¾¿ã€‚]]></content>
      <tags>
        <tag>react</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿…ä¼šçš„æ‰‹å†™é¢è¯•é¢˜]]></title>
    <url>%2F2019%2F04%2F09%2F%E5%BF%85%E4%BC%9A%E7%9A%84%E6%89%8B%E5%86%99%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å‡½æ•°æŸ¯é‡ŒåŒ– åªä¼ é€’ç»™å‡½æ•°ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›žä¸€ä¸ªå‡½æ•°åŽ»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚ ç”¨é€”æ˜¯å®žçŽ°å¤šå‚å‡½æ•°ã€‚ 12 å®žçŽ°æ·±æ‹·è´æµ…æ‹·è´çš„æ–¹æ³•æœ‰ï¼š Object.assign(),Array.from(),Array.slice(),Array.concat() é€’å½’æ–¹æ³•å®žçŽ°æ·±åº¦å…‹éš†åŽŸç†ï¼šéåŽ†å¯¹è±¡ã€æ•°ç»„ç›´åˆ°é‡Œè¾¹éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»åž‹ï¼Œç„¶åŽå†åŽ»å¤åˆ¶ï¼Œå°±æ˜¯æ·±åº¦æ‹·è´ 123456789101112131415161718192021222324252627282930313233//å®šä¹‰æ£€æµ‹æ•°æ®ç±»åž‹çš„åŠŸèƒ½å‡½æ•°function checkedType(target) &#123; return Object.prototype.toString.call(target).slice(8, -1)&#125;//å®žçŽ°æ·±åº¦å…‹éš†---å¯¹è±¡/æ•°ç»„function clone(target) &#123; //åˆ¤æ–­æ‹·è´çš„æ•°æ®ç±»åž‹ //åˆå§‹åŒ–å˜é‡result æˆä¸ºæœ€ç»ˆå…‹éš†çš„æ•°æ® let result, targetType = checkedType(target) if (targetType === 'Object') &#123; result = &#123;&#125; &#125; else if (targetType === 'Array') &#123; result = [] &#125; else &#123; return target &#125; //éåŽ†ç›®æ ‡æ•°æ® for (let i in target) &#123; //èŽ·å–éåŽ†æ•°æ®ç»“æž„çš„æ¯ä¸€é¡¹å€¼ã€‚ let value = target[i] //åˆ¤æ–­ç›®æ ‡ç»“æž„é‡Œçš„æ¯ä¸€å€¼æ˜¯å¦å­˜åœ¨å¯¹è±¡/æ•°ç»„ if (checkedType(value) === 'Object' || checkedType(value) === 'Array') &#123; //å¯¹è±¡/æ•°ç»„é‡ŒåµŒå¥—äº†å¯¹è±¡/æ•°ç»„ //ç»§ç»­éåŽ†èŽ·å–åˆ°valueå€¼ result[i] = clone(value) &#125; else &#123; //èŽ·å–åˆ°valueå€¼æ˜¯åŸºæœ¬çš„æ•°æ®ç±»åž‹æˆ–è€…æ˜¯å‡½æ•°ã€‚ result[i] = value &#125; &#125; return result&#125;]]></content>
      <tags>
        <tag>æ‰‹å†™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€çŸ¥è¯†æ€»ç»“-2]]></title>
    <url>%2F2019%2F02%2F18%2F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93-2%2F</url>
    <content type="text"><![CDATA[å‰ç«¯åŸºç¡€è¿›é˜¶ç³»åˆ— æ‰§è¡Œä¸Šä¸‹æ–‡æ¯æ¬¡å½“æŽ§åˆ¶å™¨è½¬åˆ°å¯æ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œå°±ä¼šè¿›å…¥ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºå½“å‰ä»£ç çš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œå®ƒä¼šå½¢æˆä¸€ä¸ªä½œç”¨åŸŸã€‚JavaScriptä¸­çš„è¿è¡ŒçŽ¯å¢ƒå¤§æ¦‚åŒ…æ‹¬ä¸‰ç§æƒ…å†µã€‚ å…¨å±€çŽ¯å¢ƒï¼šJavaScriptä»£ç è¿è¡Œèµ·æ¥ä¼šé¦–å…ˆè¿›å…¥è¯¥çŽ¯å¢ƒ å‡½æ•°çŽ¯å¢ƒï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œä¼šè¿›å…¥å½“å‰å‡½æ•°ä¸­æ‰§è¡Œä»£ç  evalï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼Œå¯å¿½ç•¥ï¼‰ å› æ­¤åœ¨ä¸€ä¸ªJavaScriptç¨‹åºä¸­ï¼Œå¿…å®šä¼šäº§ç”Ÿå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒJavaScriptå¼•æ“Žä¼šä»¥æ ˆçš„æ–¹å¼æ¥å¤„ç†å®ƒä»¬ï¼Œè¿™ä¸ªæ ˆï¼Œæˆ‘ä»¬ç§°å…¶ä¸º å‡½æ•°è°ƒç”¨æ ˆ(call stack)ã€‚æ ˆåº•æ°¸è¿œéƒ½æ˜¯å…¨å±€ä¸Šä¸‹æ–‡ï¼Œè€Œæ ˆé¡¶å°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ã€‚ å½“ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä»¥ä¸Šä¸‰ç§æƒ…å†µï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ”¾å…¥æ ˆä¸­ï¼Œè€Œå¤„äºŽæ ˆé¡¶çš„ä¸Šä¸‹æ–‡æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œå°±ä¼šè‡ªåŠ¨å‡ºæ ˆã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºå‡½æ•°æ‰§è¡Œçš„çŽ¯å¢ƒï¼Œæ¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šç»™å¯¹åº”çš„å‡½æ•°åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ‰§è¡ŒçŽ¯å¢ƒã€‚æ³¨æ„ï¼šå‡½æ•°ä¸­ï¼Œé‡åˆ°returnèƒ½ç›´æŽ¥ç»ˆæ­¢å¯æ‰§è¡Œä»£ç çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šç›´æŽ¥å°†å½“å‰ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆã€‚ 123456789101112131415var color = 'blue';function changeColor() &#123; var anotherColor = 'red'; function swapColors() &#123; var tempColor = anotherColor; anotherColor = color; color = tempColor; &#125; swapColors();&#125;changeColor(); è¯¦ç»†äº†è§£äº†è¿™ä¸ªè¿‡ç¨‹ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡æ€»ç»“ä¸€äº›ç»“è®ºäº†ã€‚ å•çº¿ç¨‹ åŒæ­¥æ‰§è¡Œï¼Œåªæœ‰æ ˆé¡¶çš„ä¸Šä¸‹æ–‡å¤„äºŽæ‰§è¡Œä¸­ï¼Œå…¶ä»–ä¸Šä¸‹æ–‡éœ€è¦ç­‰å¾… å…¨å±€ä¸Šä¸‹æ–‡åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªï¼Œå®ƒåœ¨æµè§ˆå™¨å…³é—­æ—¶å‡ºæ ˆ å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸ªæ•°æ²¡æœ‰é™åˆ¶ æ¯æ¬¡æŸä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼Œå°±ä¼šæœ‰ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ºå…¶åˆ›å»ºï¼Œå³ä½¿æ˜¯è°ƒç”¨çš„è‡ªèº«å‡½æ•°ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼ˆæ¿€æ´»ï¼‰ï¼Œä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šè¢«åˆ›å»ºã€‚è€Œä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚ åˆ›å»ºé˜¶æ®µåœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šåˆ†åˆ«åˆ›å»ºå˜é‡å¯¹è±¡ï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ï¼Œä»¥åŠç¡®å®šthisçš„æŒ‡å‘ã€‚ ä»£ç æ‰§è¡Œé˜¶æ®µåˆ›å»ºå®Œæˆä¹‹åŽï¼Œå°±ä¼šå¼€å§‹æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¼šå®Œæˆå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ï¼Œä»¥åŠæ‰§è¡Œå…¶ä»–ä»£ç ã€‚ å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼‰å˜é‡å¯¹è±¡çš„å˜åŒ–çš„åˆ›å»ºï¼Œä¾æ¬¡ç»åŽ†äº†ä¸‹é¢è¿‡ç¨‹ï¼š å»ºç«‹argumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±žæ€§ä¸Žå±žæ€§å€¼ã€‚ æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°å£°æ˜Žï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨functionå…³é”®å­—å£°æ˜Žçš„å‡½æ•°ã€‚åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±žæ€§ï¼Œå±žæ€§å€¼ä¸ºæŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚å¦‚æžœå‡½æ•°åçš„å±žæ€§å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥å±žæ€§å°†ä¼šè¢«æ–°çš„å¼•ç”¨æ‰€è¦†ç›–ã€‚ æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜Žï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå˜é‡å£°æ˜Žï¼Œå°±åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±žæ€§ï¼Œå±žæ€§å€¼ä¸ºundefinedã€‚å¦‚æžœè¯¥å˜é‡åçš„å±žæ€§å·²ç»å­˜åœ¨ï¼Œä¸ºäº†é˜²æ­¢åŒåçš„å‡½æ•°è¢«ä¿®æ”¹ä¸ºundefinedï¼Œåˆ™ä¼šç›´æŽ¥è·³è¿‡ï¼ŒåŽŸå±žæ€§å€¼ä¸ä¼šè¢«ä¿®æ”¹ï¼ˆæ³¨æ„åªæ˜¯åˆ›å»ºè¿‡ç¨‹ï¼Œä¸æ˜¯æ‰§è¡Œè¿‡ç¨‹ï¼‰ã€‚ 12345678910111213console.log(foo); // function foofunction foo() &#123; console.log('function foo') &#125;var foo = 20;// é¦–å…ˆå°†æ‰€æœ‰å‡½æ•°å£°æ˜Žæ”¾å…¥å˜é‡å¯¹è±¡ä¸­function foo() &#123; console.log('function foo') &#125;// å…¶æ¬¡å°†æ‰€æœ‰å˜é‡å£°æ˜Žæ”¾å…¥å˜é‡å¯¹è±¡ä¸­ï¼Œä½†æ˜¯å› ä¸ºfooå·²ç»å­˜åœ¨åŒåå‡½æ•°ï¼Œå› æ­¤æ­¤æ—¶ä¼šè·³è¿‡undefinedçš„èµ‹å€¼// var foo = undefined;// ç„¶åŽå¼€å§‹æ‰§è¡Œé˜¶æ®µä»£ç çš„æ‰§è¡Œconsole.log(foo); // function foofoo = 20; åœ¨ä¸Šé¢çš„è§„åˆ™ä¸­æˆ‘ä»¬çœ‹å‡ºï¼Œfunctionå£°æ˜Žä¼šæ¯”varå£°æ˜Žä¼˜å…ˆçº§æ›´é«˜ä¸€ç‚¹ã€‚ä¸ºäº†å¸®åŠ©å¤§å®¶æ›´å¥½çš„ç†è§£å˜é‡å¯¹è±¡ï¼Œæˆ‘ä»¬ç»“åˆä¸€äº›ç®€å•çš„ä¾‹å­æ¥è¿›è¡ŒæŽ¢è®¨ã€‚ 123456789101112// demo01function test() &#123; console.log(a); console.log(foo()); var a = 1; function foo() &#123; return 2; &#125;&#125;test(); åœ¨ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ç›´æŽ¥ä»Žtest()çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¼€å§‹ç†è§£ã€‚å…¨å±€ä½œç”¨åŸŸä¸­è¿è¡Œtest()æ—¶ï¼Œtest()çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¼€å§‹åˆ›å»ºã€‚ä¸ºäº†ä¾¿äºŽç†è§£ï¼Œæˆ‘ä»¬ç”¨å¦‚ä¸‹çš„å½¢å¼æ¥è¡¨ç¤º 12345678910111213// åˆ›å»ºé˜¶æ®µtestEC = &#123; VO: &#123;&#125;, //å˜é‡å¯¹è±¡ scopeChain: &#123;&#125; // ä½œç”¨åŸŸé“¾&#125;// å› ä¸ºæœ¬æ–‡æš‚æ—¶ä¸è¯¦ç»†è§£é‡Šä½œç”¨åŸŸé“¾ï¼Œæ‰€ä»¥æŠŠå˜é‡å¯¹è±¡ä¸“é—¨æå‡ºæ¥è¯´æ˜ŽVO = &#123; arguments: &#123;...&#125;, //æ³¨ï¼šåœ¨æµè§ˆå™¨çš„å±•ç¤ºä¸­ï¼Œå‡½æ•°çš„å‚æ•°å¯èƒ½å¹¶ä¸æ˜¯æ”¾åœ¨argumentså¯¹è±¡ä¸­ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘åšäº†è¿™æ ·çš„å¤„ç† foo: &lt;foo reference&gt;, // è¡¨ç¤ºfooçš„åœ°å€å¼•ç”¨ a: undefined&#125; æœªè¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹å‰ï¼Œå˜é‡å¯¹è±¡ä¸­çš„å±žæ€§éƒ½ä¸èƒ½è®¿é—®ï¼ä½†æ˜¯è¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹åŽï¼Œå˜é‡å¯¹è±¡è½¬å˜ä¸ºäº†æ´»åŠ¨å¯¹è±¡ï¼Œé‡Œé¢çš„å±žæ€§éƒ½èƒ½è¢«è®¿é—®äº†ï¼Œç„¶åŽå¼€å§‹è¿›è¡Œæ‰§è¡Œé˜¶æ®µçš„æ“ä½œã€‚ è¿™æ ·ï¼Œå¦‚æžœå†é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°å˜é‡å¯¹è±¡å’Œæ´»åŠ¨å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå°±åˆå¯ä»¥è‡ªå¦‚çš„åº”ç­”äº†ï¼Œä»–ä»¬å…¶å®žéƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºŽæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚ä¸è¿‡åªæœ‰å¤„äºŽå‡½æ•°è°ƒç”¨æ ˆæ ˆé¡¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ï¼Œæ‰ä¼šå˜æˆæ´»åŠ¨å¯¹è±¡ 12345678// æ‰§è¡Œé˜¶æ®µVO -&gt; AO // Active ObjectAO = &#123; arguments: &#123;...&#125;, foo: &lt;foo reference&gt;, a: 1, this: Window&#125; å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä»¥æµè§ˆå™¨ä¸­ä¸ºä¾‹ï¼Œå…¨å±€å¯¹è±¡ä¸ºwindowã€‚å…¨å±€ä¸Šä¸‹æ–‡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åœ°æ–¹ï¼Œå®ƒçš„å˜é‡å¯¹è±¡ï¼Œå°±æ˜¯windowå¯¹è±¡ã€‚è€Œè¿™ä¸ªç‰¹æ®Šï¼Œåœ¨thisæŒ‡å‘ä¸Šä¹ŸåŒæ ·é€‚ç”¨ï¼Œthisä¹Ÿæ˜¯æŒ‡å‘windowã€‚ 1234567// ä»¥æµè§ˆå™¨ä¸­ä¸ºä¾‹ï¼Œå…¨å±€å¯¹è±¡ä¸ºwindow// å…¨å±€ä¸Šä¸‹æ–‡windowEC = &#123; VO: Window, scopeChain: &#123;&#125;, this: Window&#125; ä½œç”¨åŸŸ åœ¨JavaScriptä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä½œç”¨åŸŸå®šä¹‰ä¸ºä¸€å¥—è§„åˆ™,è¿™å¥—è§„åˆ™ç”¨æ¥ç®¡ç†å¼•æ“Žå¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸä»¥åŠåµŒå¥—çš„å­ä½œç”¨åŸŸä¸­æ ¹æ®æ ‡è¯†ç¬¦åç§°è¿›è¡Œå˜é‡æŸ¥æ‰¾ã€‚ è¿™é‡Œçš„æ ‡è¯†ç¬¦ï¼ŒæŒ‡çš„æ˜¯å˜é‡åæˆ–è€…å‡½æ•°å JavaScriptä¸­åªæœ‰å…¨å±€ä½œç”¨åŸŸä¸Žå‡½æ•°ä½œç”¨åŸŸ(å› ä¸ºevalæˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­å‡ ä¹Žä¸ä¼šç”¨åˆ°å®ƒï¼Œè¿™é‡Œä¸è®¨è®º)ã€‚ ä½œç”¨åŸŸä¸Žæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªæ¦‚å¿µã€‚æˆ‘çŸ¥é“å¾ˆå¤šäººä¼šæ··æ·†ä»–ä»¬ï¼Œä½†æ˜¯ä¸€å®šè¦ä»”ç»†åŒºåˆ†ã€‚ JavaScriptä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä»£ç ç¼–è¯‘é˜¶æ®µä¸Žä»£ç æ‰§è¡Œé˜¶æ®µã€‚ç¼–è¯‘é˜¶æ®µç”±ç¼–è¯‘å™¨å®Œæˆï¼Œå°†ä»£ç ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªé˜¶æ®µä½œç”¨åŸŸè§„åˆ™ä¼šç¡®å®šã€‚æ‰§è¡Œé˜¶æ®µç”±å¼•æ“Žå®Œæˆï¼Œä¸»è¦ä»»åŠ¡æ˜¯æ‰§è¡Œå¯æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡åœ¨è¿™ä¸ªé˜¶æ®µåˆ›å»ºã€‚ ä½œç”¨åŸŸé“¾ ä½œç”¨åŸŸé“¾ï¼Œæ˜¯ç”±å½“å‰çŽ¯å¢ƒä¸Žä¸Šå±‚çŽ¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆï¼Œå®ƒä¿è¯äº†å½“å‰æ‰§è¡ŒçŽ¯å¢ƒå¯¹ç¬¦åˆè®¿é—®æƒé™çš„å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚ ä¸¾ä¸ªæ —å­ 1234567891011121314var a = 20;function test() &#123; var b = a + 10; function innerTest() &#123; var c = 10; return b + c; &#125; return innerTest();&#125;test(); åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…¨å±€ï¼Œå‡½æ•°testï¼Œå‡½æ•°innerTestçš„æ‰§è¡Œä¸Šä¸‹æ–‡å…ˆåŽåˆ›å»ºã€‚æˆ‘ä»¬è®¾å®šä»–ä»¬çš„å˜é‡å¯¹è±¡åˆ†åˆ«ä¸ºVO(global)ï¼ŒVO(test), VO(innerTest)ã€‚è€ŒinnerTestçš„ä½œç”¨åŸŸé“¾ï¼Œåˆ™åŒæ—¶åŒ…å«äº†è¿™ä¸‰ä¸ªå˜é‡å¯¹è±¡ï¼Œæ‰€ä»¥innerTestçš„æ‰§è¡Œä¸Šä¸‹æ–‡å¯å¦‚ä¸‹è¡¨ç¤ºã€‚ 1234innerTestEC = &#123; VO: &#123;...&#125;, // å˜é‡å¯¹è±¡ scopeChain: [VO(innerTest), VO(test), VO(global)], // ä½œç”¨åŸŸé“¾&#125; æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç”¨ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºä½œç”¨åŸŸé“¾ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹scopeChain[0]ä¸ºä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯ï¼Œè€Œæ•°ç»„çš„æœ€åŽä¸€é¡¹ï¼Œä¸ºä½œç”¨åŸŸé“¾çš„æœ€æœ«ç«¯ï¼Œæ‰€æœ‰çš„æœ€æœ«ç«¯éƒ½ä¸ºå…¨å±€å˜é‡å¯¹è±¡ã€‚å¾ˆå¤šäººä¼šè¯¯è§£ä¸ºå½“å‰ä½œç”¨åŸŸä¸Žä¸Šå±‚ä½œç”¨åŸŸä¸ºåŒ…å«å…³ç³»ï¼Œä½†å…¶å®žå¹¶ä¸æ˜¯ã€‚ä»¥æœ€å‰ç«¯ä¸ºèµ·ç‚¹ï¼Œæœ€æœ«ç«¯ä¸ºç»ˆç‚¹çš„å•æ–¹å‘é€šé“æˆ‘è®¤ä¸ºæ˜¯æ›´åŠ è´´åˆ‡çš„å½¢å®¹ã€‚å¦‚å›¾ã€‚ æ³¨æ„ï¼Œå› ä¸ºå˜é‡å¯¹è±¡åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡è¿›å…¥æ‰§è¡Œé˜¶æ®µæ—¶ï¼Œå°±å˜æˆäº†æ´»åŠ¨å¯¹è±¡ï¼Œè¿™ä¸€ç‚¹åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­å·²ç»è®²è¿‡ï¼Œå› æ­¤å›¾ä¸­ä½¿ç”¨äº†AOæ¥è¡¨ç¤ºã€‚Active Object ä½œç”¨åŸŸé“¾æ˜¯ç”±ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªå•å‘é€šé“ä¸­ï¼ŒæŸ¥è¯¢å˜é‡å¯¹è±¡ä¸­çš„æ ‡è¯†ç¬¦ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®åˆ°ä¸Šä¸€å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡äº†ã€‚ é—­åŒ…é—­åŒ…æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚ å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚æ‰§è¡Œä¸Šä¸‹æ–‡A,ä»¥åŠåœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„å‡½æ•°Bã€‚ å½“Bæ‰§è¡Œæ—¶ï¼Œå¦‚æžœè®¿é—®äº†Aä¸­å˜é‡å¯¹è±¡ä¸­çš„å€¼ï¼Œé‚£ä¹ˆé—­åŒ…å°±ä¼šäº§ç”Ÿã€‚ å› æ­¤ï¼Œé—­åŒ…çš„å½¢æˆéœ€è¦ä¸¤ä¸ªæ¡ä»¶: é—­åŒ…æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œçš„æ—¶å€™æ‰è¢«ç¡®è®¤åˆ›å»ºçš„ã€‚ åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºæ–°çš„å‡½æ•°; æ–°çš„å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œè®¿é—®äº†å‡½æ•°çš„å˜é‡å¯¹è±¡ã€‚ åœ¨å¤§å¤šæ•°ç†è§£ä¸­ï¼Œæ–‡ç« é‡Œéƒ½ä»¥å‡½æ•°Bçš„åå­—ä»£æŒ‡è¿™é‡Œç”Ÿæˆçš„é—­åŒ…ã€‚è€Œåœ¨chromeä¸­ï¼Œåˆ™ä»¥æ‰§è¡Œä¸Šä¸‹æ–‡Açš„å‡½æ•°åä»£æŒ‡é—­åŒ…ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œé‚£ä¹ˆè¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šå¤±åŽ»å¼•ç”¨ã€‚å…¶å ç”¨çš„å†…å­˜ç©ºé—´å¾ˆå¿«å°±ä¼šè¢«åžƒåœ¾å›žæ”¶å™¨é‡Šæ”¾ã€‚å¯æ˜¯é—­åŒ…çš„å­˜åœ¨ï¼Œä¼šé˜»æ­¢è¿™ä¸€è¿‡ç¨‹ã€‚ 123456789101112131415var fn = null;function foo() &#123; var a = 2; function innnerFoo() &#123; console.log(a); &#125; fn = innnerFoo; // å°† innnerFooçš„å¼•ç”¨ï¼Œèµ‹å€¼ç»™å…¨å±€å˜é‡ä¸­çš„fn&#125;function bar() &#123; fn(); // æ­¤å¤„çš„ä¿ç•™çš„innerFooçš„å¼•ç”¨&#125;foo();bar(); // 2 foo()æ‰§è¡Œå®Œæ¯•ä¹‹åŽï¼ŒæŒ‰ç…§å¸¸ç†ï¼Œå…¶æ‰§è¡ŒçŽ¯å¢ƒç”Ÿå‘½å‘¨æœŸä¼šç»“æŸï¼Œæ‰€å å†…å­˜è¢«åžƒåœ¾æ”¶é›†å™¨é‡Šæ”¾ã€‚ä½†æ˜¯é€šè¿‡fn = innerFooï¼Œå‡½æ•°innerFooçš„å¼•ç”¨è¢«ä¿ç•™äº†ä¸‹æ¥ï¼Œå¤åˆ¶ç»™äº†å…¨å±€å˜é‡fnã€‚è¿™ä¸ªè¡Œä¸ºï¼Œå¯¼è‡´äº†fooçš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿè¢«ä¿ç•™äº†ä¸‹æ¥ã€‚äºŽæ˜¯ï¼Œå‡½æ•°fnåœ¨å‡½æ•°barå†…éƒ¨æ‰§è¡Œæ—¶ï¼Œä¾ç„¶å¯ä»¥è®¿é—®è¿™ä¸ªè¢«ä¿ç•™ä¸‹æ¥çš„å˜é‡å¯¹è±¡ã€‚æ‰€ä»¥æ­¤åˆ»ä»ç„¶èƒ½å¤Ÿè®¿é—®åˆ°å˜é‡açš„å€¼ã€‚ é—­åŒ…é€ æˆå†…å­˜æ³„éœ²ï¼Ÿ å†…å­˜æ³„éœ²æ˜¯æŒ‡ ä½ ç”¨ä¸åˆ°ï¼ˆè®¿é—®ä¸åˆ°ï¼‰çš„å˜é‡ï¼Œä¾ç„¶å å±…ç€å†…å­˜ç©ºé—´ï¼Œä¸èƒ½è¢«å†æ¬¡åˆ©ç”¨èµ·æ¥ã€‚ é—­åŒ…é‡Œé¢çš„å˜é‡æ˜Žæ˜Žå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å˜é‡ï¼ˆlivesï¼‰ï¼Œæ‰€ä»¥ä¸æ˜¯å†…å­˜æ³„éœ² ä¸ºä½•æœ‰äººè¯´æ˜¯ï¼Ÿå› ä¸º IEã€‚IE æœ‰ bugï¼ŒIE åœ¨æˆ‘ä»¬ä½¿ç”¨å®Œé—­åŒ…ä¹‹åŽï¼Œä¾ç„¶å›žæ”¶ä¸äº†é—­åŒ…é‡Œé¢å¼•ç”¨çš„å˜é‡ã€‚ åœ¨å®žè·µä¸­ï¼Œé—­åŒ…æœ‰ä¸¤ä¸ªéžå¸¸é‡è¦çš„åº”ç”¨åœºæ™¯ã€‚åˆ†åˆ«æ˜¯æ¨¡å—åŒ–ä¸ŽæŸ¯é‡ŒåŒ–ã€‚ this æŒ‡å‘é¦–å…ˆæˆ‘ä»¬éœ€è¦å¾—å‡ºä¸€ä¸ªéžå¸¸é‡è¦ä¸€å®šè¦ç‰¢è®°äºŽå¿ƒçš„ç»“è®ºï¼Œthisçš„æŒ‡å‘ï¼Œæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ç¡®å®šçš„ã€‚ä¹Ÿå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºæ—¶ç¡®å®šçš„ã€‚é™¤æ­¤ä¹‹å¤– åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œthisä¸€æ—¦è¢«ç¡®å®šï¼Œå°±ä¸å¯æ›´æ”¹äº†ã€‚ åœ¨ä¸€ä¸ª å‡½æ•°ä¸Šä¸‹æ–‡ ä¸­ï¼Œthisç”±è°ƒç”¨è€…æä¾›ï¼Œç”±è°ƒç”¨å‡½æ•°çš„æ–¹å¼æ¥å†³å®šã€‚å¦‚æžœè°ƒç”¨è€…å‡½æ•°ï¼Œè¢«æŸä¸€ä¸ªå¯¹è±¡æ‰€æ‹¥æœ‰ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå†…éƒ¨çš„thisæŒ‡å‘è¯¥å¯¹è±¡ã€‚å¦‚æžœå‡½æ•°ç‹¬ç«‹è°ƒç”¨ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å†…éƒ¨çš„thisï¼Œåˆ™æŒ‡å‘undefinedã€‚ä½†æ˜¯åœ¨éžä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œå½“thisæŒ‡å‘undefinedæ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚ ä»Žç»“è®ºä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæƒ³è¦å‡†ç¡®ç¡®å®šthisæŒ‡å‘ï¼Œæ‰¾åˆ°å‡½æ•°çš„è°ƒç”¨è€…ä»¥åŠåŒºåˆ†ä»–æ˜¯å¦æ˜¯ç‹¬ç«‹è°ƒç”¨å°±å˜å¾—ååˆ†å…³é”®ã€‚ 12345678// ä¸ºäº†èƒ½å¤Ÿå‡†ç¡®åˆ¤æ–­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºéžä¸¥æ ¼æ¨¡å¼ä¼šè‡ªåŠ¨æŒ‡å‘å…¨å±€function fn() &#123; 'use strict'; console.log(this);&#125;fn(); // fnæ˜¯è°ƒç”¨è€…ï¼Œç‹¬ç«‹è°ƒç”¨ undifinedwindow.fn(); // fnæ˜¯è°ƒç”¨è€…ï¼Œè¢«windowæ‰€æ‹¥æœ‰ Window ä½¿ç”¨apply/callå®žçŽ°ç»§æ‰¿1234567891011121314151617181920212223// å®šä¹‰çˆ¶çº§çš„æž„é€ å‡½æ•°var Person = function(name, age) &#123; this.name = name; this.age = age; this.gender = ['man', 'woman'];&#125;// å®šä¹‰å­ç±»çš„æž„é€ å‡½æ•°var Student = function(name, age, high) &#123; // use call Person.call(this, name, age); this.high = high;&#125;Student.prototype.message = function() &#123; console.log('name:'+this.name+', age:'+this.age+', high:'+this.high+', gender:'+this.gender[0]+';');&#125;new Student('xiaom', 12, '150cm').message();// result// ----------// name:xiaom, age:12, high:150cm, gender:man; ç®€å•ç»™æœ‰é¢å‘å¯¹è±¡åŸºç¡€çš„æœ‹å‹è§£é‡Šä¸€ä¸‹ã€‚åœ¨Studentçš„æž„é€ å‡½æ•°ä¸­ï¼Œå€ŸåŠ©callæ–¹æ³•ï¼Œå°†çˆ¶çº§çš„æž„é€ å‡½æ•°æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œç›¸å½“äºŽå°†Personä¸­çš„ä»£ç ï¼Œåœ¨Sudentä¸­å¤åˆ¶äº†ä¸€ä»½ï¼Œå…¶ä¸­çš„thisæŒ‡å‘ä¸ºä»ŽStudentä¸­newå‡ºæ¥çš„å®žä¾‹å¯¹è±¡ã€‚callæ–¹æ³•ä¿è¯äº†thisçš„æŒ‡å‘æ­£ç¡®ï¼Œå› æ­¤å°±ç›¸å½“äºŽå®žçŽ°äº†ç»§æ‰¿ã€‚Studentçš„æž„é€ å‡½æ•°ç­‰åŒäºŽä¸‹ã€‚ 1234567var Student = function(name, age, high) &#123; this.name = name; this.age = age; this.gender = ['man', 'woman']; // Person.call(this, name, age); è¿™ä¸€å¥è¯ï¼Œç›¸å½“äºŽä¸Šé¢ä¸‰å¥è¯ï¼Œå› æ­¤å®žçŽ°äº†ç»§æ‰¿ this.high = high;&#125; æ€»ç»“ä¸€å‡½æ•°åœ¨è¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå½“å‰å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µï¼Œå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€é—­åŒ…ã€thisæŒ‡å‘ä¼šåˆ†åˆ«è¢«ç¡®å®šã€‚è€Œä¸€ä¸ªJavaScriptç¨‹åºä¸­ä¸€èˆ¬æ¥è¯´ä¼šæœ‰å¤šä¸ªå‡½æ•°ï¼ŒJavaScriptå¼•æ“Žä½¿ç”¨å‡½æ•°è°ƒç”¨æ ˆæ¥ç®¡ç†è¿™äº›å‡½æ•°çš„è°ƒç”¨é¡ºåºã€‚å‡½æ•°è°ƒç”¨æ ˆçš„è°ƒç”¨é¡ºåºä¸Žæ ˆæ•°æ®ç»“æž„ä¸€è‡´ã€‚ é¢å‘å¯¹è±¡åœ¨ECMAScript-262ä¸­ï¼Œå¯¹è±¡è¢«å®šä¹‰ä¸ºâ€œæ— åºå±žæ€§çš„é›†åˆï¼Œå…¶å±žæ€§å¯ä»¥åŒ…å«åŸºæœ¬å€¼ï¼Œå¯¹è±¡æˆ–è€…å‡½æ•°â€ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨JavaScriptä¸­ï¼Œå¯¹è±¡æ— éžå°±æ˜¯ç”±ä¸€äº›åˆ—æ— åºçš„key-valueå¯¹ç»„æˆã€‚å…¶ä¸­valueå¯ä»¥æ˜¯åŸºæœ¬å€¼ï¼Œå¯¹è±¡æˆ–è€…å‡½æ•°ã€‚ å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„å¯¹è±¡å¦‚ä¸‹ï¼š 1234567var person = &#123; name: 'TOM', age: '20', getName: function() &#123; return this.name &#125;&#125; å½“æˆ‘ä»¬æƒ³è¦è®¿é—®ä»–çš„nameå±žæ€§æ—¶ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼è®¿é—®ã€‚ 1234person.name// æˆ–è€…person['name'] å¦‚æžœæˆ‘ä»¬æƒ³è¦è®¿é—®çš„å±žæ€§åæ˜¯ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¸¸å¸¸ä¼šä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦åŒæ—¶è®¿é—®personçš„nameä¸Žageï¼Œå¯ä»¥è¿™æ ·å†™ï¼š 123['name', 'age'].forEach(function(item) &#123; console.log(person[item]);&#125;) è¿™ç§æ–¹å¼ä¸€å®šè¦é‡è§†ï¼Œè®°ä½å®ƒä»¥åŽåœ¨æˆ‘ä»¬å¤„ç†å¤æ‚æ•°æ®çš„æ—¶å€™ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ å·¥åŽ‚æ¨¡å¼123456789101112131415161718var createPerson = function(name, age) &#123; // å£°æ˜Žä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°±æ˜¯å·¥åŽ‚æ¨¡å¼çš„æ¨¡å­ var o = new Object(); // ä¾æ¬¡æ·»åŠ æˆ‘ä»¬éœ€è¦çš„å±žæ€§ä¸Žæ–¹æ³• o.name = name; o.age = age; o.getName = function() &#123; return this.name; &#125; return o;&#125;// åˆ›å»ºä¸¤ä¸ªå®žä¾‹var perTom = createPerson('TOM', 20);var PerJake = createPerson('Jake', 22); æž„é€ å‡½æ•°1234567891011121314151617181920212223242526272829303132333435363738// å…ˆä¸€æœ¬æ­£ç»çš„åˆ›å»ºä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œå…¶å®žè¯¥å‡½æ•°ä¸Žæ™®é€šå‡½æ•°å¹¶æ— åŒºåˆ«var Person = function(name, age) &#123; this.name = name; this.age = age; this.getName = function() &#123; return this.name; &#125;&#125;// å°†æž„é€ å‡½æ•°ä»¥å‚æ•°å½¢å¼ä¼ å…¥function New(func) &#123; // å£°æ˜Žä¸€ä¸ªä¸­é—´å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸ºæœ€ç»ˆè¿”å›žçš„å®žä¾‹ var res = &#123;&#125;; if (func.prototype !== null) &#123; // å°†å®žä¾‹çš„åŽŸåž‹æŒ‡å‘æž„é€ å‡½æ•°çš„åŽŸåž‹ res.__proto__ = func.prototype; &#125; // retä¸ºæž„é€ å‡½æ•°æ‰§è¡Œçš„ç»“æžœï¼Œè¿™é‡Œé€šè¿‡applyï¼Œå°†æž„é€ å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘ä¿®æ”¹ä¸ºæŒ‡å‘resï¼Œå³ä¸ºå®žä¾‹å¯¹è±¡ var ret = func.apply(res, Array.prototype.slice.call(arguments, 1)); // å½“æˆ‘ä»¬åœ¨æž„é€ å‡½æ•°ä¸­æ˜Žç¡®æŒ‡å®šäº†è¿”å›žå¯¹è±¡æ—¶ï¼Œé‚£ä¹ˆnewçš„æ‰§è¡Œç»“æžœå°±æ˜¯è¯¥è¿”å›žå¯¹è±¡ if ((typeof ret === "object" || typeof ret === "function") &amp;&amp; ret !== null) &#123; return ret; &#125; // å¦‚æžœæ²¡æœ‰æ˜Žç¡®æŒ‡å®šè¿”å›žå¯¹è±¡ï¼Œåˆ™é»˜è®¤è¿”å›žresï¼Œè¿™ä¸ªreså°±æ˜¯å®žä¾‹å¯¹è±¡ return res;&#125;// é€šè¿‡newå£°æ˜Žåˆ›å»ºå®žä¾‹ï¼Œè¿™é‡Œçš„p1ï¼Œå®žé™…æŽ¥æ”¶çš„æ­£æ˜¯newä¸­è¿”å›žçš„resvar p1 = New(Person, 'tom', 20);console.log(p1.getName());// å½“ç„¶ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºå®žä¾‹çš„ç±»åž‹äº†console.log(p1 instanceof Person); // true åŽŸåž‹123456789101112131415// å£°æ˜Žæž„é€ å‡½æ•°function Person(name, age) &#123; this.name = name; this.age = age;&#125;// é€šè¿‡prototyeå±žæ€§ï¼Œå°†æ–¹æ³•æŒ‚è½½åˆ°åŽŸåž‹å¯¹è±¡ä¸Š// å®žçŽ°å¤ç”¨ é¿å…æ¯æ¬¡éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ getName æ–¹æ³•Person.prototype.getName = function() &#123; return this.name;&#125;var p1 = new Person('tim', 10);var p2 = new Person('jak', 22);console.log(p1.getName === p2.getName); // true é€šè¿‡å›¾ç¤ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæž„é€ å‡½æ•°çš„prototypeä¸Žæ‰€æœ‰å®žä¾‹å¯¹è±¡çš„ __proto__ éƒ½æŒ‡å‘åŽŸåž‹å¯¹è±¡ã€‚è€ŒåŽŸåž‹å¯¹è±¡çš„constructoræŒ‡å‘æž„é€ å‡½æ•°ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä»Žå›¾ä¸­çœ‹å‡ºï¼Œå®žä¾‹å¯¹è±¡å®žé™…ä¸Šå¯¹å‰é¢æˆ‘ä»¬æ‰€è¯´çš„ä¸­é—´å¯¹è±¡çš„å¤åˆ¶ï¼Œè€Œä¸­é—´å¯¹è±¡ä¸­çš„å±žæ€§ä¸Žæ–¹æ³•éƒ½åœ¨æž„é€ å‡½æ•°ä¸­æ·»åŠ ã€‚äºŽæ˜¯æ ¹æ®æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†åœ¨æž„é€ å‡½æ•°ä¸­ï¼Œé€šè¿‡thiså£°æ˜Žçš„å±žæ€§ä¸Žæ–¹æ³•ç§°ä¸ºç§æœ‰å˜é‡ä¸Žæ–¹æ³•ï¼Œå®ƒä»¬è¢«å½“å‰è¢«æŸä¸€ä¸ªå®žä¾‹å¯¹è±¡æ‰€ç‹¬æœ‰ã€‚è€Œé€šè¿‡åŽŸåž‹å£°æ˜Žçš„å±žæ€§ä¸Žæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºå…±æœ‰å±žæ€§ä¸Žæ–¹æ³•ï¼Œå®ƒä»¬å¯ä»¥è¢«æ‰€æœ‰çš„å®žä¾‹å¯¹è±¡è®¿é—®ã€‚ å½“æˆ‘ä»¬è®¿é—®å®žä¾‹å¯¹è±¡ä¸­çš„å±žæ€§æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šä¼˜å…ˆè®¿é—®å®žä¾‹å¯¹è±¡è‡ªèº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡inæ¥åˆ¤æ–­ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ‹¥æœ‰æŸä¸€ä¸ªå±žæ€§/æ–¹æ³•ï¼Œæ— è®ºæ˜¯è¯¥å±žæ€§/æ–¹æ³•å­˜åœ¨ä¸Žå®žä¾‹å¯¹è±¡è¿˜æ˜¯åŽŸåž‹å¯¹è±¡ã€‚ 123456789101112function Person(name, age) &#123; this.name = name; this.age = age;&#125;Person.prototype.getName = function() &#123; return this.name;&#125;var p1 = new Person('tim', 10);console.log('name' in p1); // true inçš„è¿™ç§ç‰¹æ€§æœ€å¸¸ç”¨çš„åœºæ™¯ä¹‹ä¸€ï¼Œå°±æ˜¯åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦åœ¨ç§»åŠ¨ç«¯æ‰“å¼€ã€‚ 12// å¾ˆå¤šäººå–œæ¬¢ç”¨æµè§ˆå™¨UAçš„æ–¹å¼æ¥åˆ¤æ–­ï¼Œä½†å¹¶ä¸æ˜¯å¾ˆå¥½çš„æ–¹å¼isMobile = 'ontouchstart' in document; é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ›´ä¸ºç®€å•çš„åŽŸåž‹å†™æ³•ã€‚ 12345678function Person() &#123;&#125;Person.prototype = &#123; constructor: Person, getName: function() &#123;&#125;, getAge: function() &#123;&#125;, sayHello: function() &#123;&#125;&#125; Person.prototype = {} å®žé™…ä¸Šæ˜¯é‡æ–°åˆ›å»ºäº†ä¸€ä¸ª {} å¯¹è±¡å¹¶èµ‹å€¼ç»™ Person.prototypeï¼Œè¿™é‡Œçš„ {} å¹¶ä¸æ˜¯æœ€åˆçš„é‚£ä¸ªåŽŸåž‹å¯¹è±¡ã€‚å› æ­¤å®ƒé‡Œé¢å¹¶ä¸åŒ…å« constructor å±žæ€§ã€‚ä¸ºäº†ä¿è¯æ­£ç¡®æ€§ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ–°åˆ›å»ºçš„ {} å¯¹è±¡ä¸­æ˜¾ç¤ºçš„è®¾ç½® constructor çš„æŒ‡å‘ã€‚å³ä¸Šé¢çš„ constructor: Personã€‚ åŽŸåž‹é“¾åŽŸåž‹å¯¹è±¡å…¶å®žä¹Ÿæ˜¯æ™®é€šçš„å¯¹è±¡ã€‚å‡ ä¹Žæ‰€æœ‰çš„å¯¹è±¡éƒ½å¯èƒ½æ˜¯åŽŸåž‹å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æ˜¯å®žä¾‹å¯¹è±¡ï¼Œè€Œä¸”è¿˜å¯ä»¥åŒæ—¶æ˜¯åŽŸåž‹å¯¹è±¡ä¸Žå®žä¾‹å¯¹è±¡ã€‚è¿™æ ·çš„ä¸€ä¸ªå¯¹è±¡ï¼Œæ­£æ˜¯æž„æˆåŽŸåž‹é“¾çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚ 1function add() &#123;&#125; å…¶ä¸­addæ˜¯Functionå¯¹è±¡çš„å®žä¾‹ã€‚è€ŒFunctionçš„åŽŸåž‹å¯¹è±¡åŒæ—¶åˆæ˜¯ObjectåŽŸåž‹çš„å®žä¾‹ã€‚è¿™æ ·å°±æž„æˆäº†ä¸€æ¡åŽŸåž‹é“¾ã€‚åŽŸåž‹é“¾çš„è®¿é—®ï¼Œå…¶å®žè·Ÿä½œç”¨åŸŸé“¾æœ‰å¾ˆå¤§çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ¬¡å•å‘çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚å› æ­¤å®žä¾‹å¯¹è±¡èƒ½å¤Ÿé€šè¿‡åŽŸåž‹é“¾ï¼Œè®¿é—®åˆ°å¤„äºŽåŽŸåž‹é“¾ä¸Šå¯¹è±¡çš„æ‰€æœ‰å±žæ€§ä¸Žæ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯fooæœ€ç»ˆèƒ½å¤Ÿè®¿é—®åˆ°å¤„äºŽObjectåŽŸåž‹å¯¹è±¡ä¸Šçš„toStringæ–¹æ³•çš„åŽŸå› ã€‚ åŸºäºŽåŽŸåž‹é“¾çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„å®žçŽ°ç»§æ‰¿ã€‚ ç»§æ‰¿æˆ‘ä»¬å¸¸å¸¸ç»“åˆæž„é€ å‡½æ•°ä¸ŽåŽŸåž‹æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚å› ä¸ºæž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ä¸åŒç‰¹æ€§ï¼Œåˆ†åˆ«è§£å†³äº†æˆ‘ä»¬ä¸åŒçš„å›°æ‰°ã€‚å› æ­¤å½“æˆ‘ä»¬æƒ³è¦å®žçŽ°ç»§æ‰¿æ—¶ï¼Œå°±å¿…é¡»å¾—æ ¹æ®æž„é€ å‡½æ•°ä¸ŽåŽŸåž‹çš„ä¸åŒè€Œé‡‡å–ä¸åŒçš„ç­–ç•¥ã€‚ é¦–å…ˆæˆ‘ä»¬æ¥çœ‹æž„é€ å‡½æ•°çš„ç»§æ‰¿ã€‚åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»ç†è§£äº†æž„é€ å‡½æ•°çš„æœ¬è´¨ï¼Œå®ƒå…¶å®žæ˜¯åœ¨newå†…éƒ¨å®žçŽ°çš„ä¸€ä¸ªå¤åˆ¶è¿‡ç¨‹ã€‚è€Œæˆ‘ä»¬åœ¨ç»§æ‰¿æ—¶æƒ³è¦çš„ï¼Œå°±æ˜¯æƒ³çˆ¶çº§æž„é€ å‡½æ•°ä¸­çš„æ“ä½œåœ¨å­çº§çš„æž„é€ å‡½æ•°ä¸­é‡çŽ°ä¸€éå³å¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡callæ–¹æ³•æ¥è¾¾åˆ°ç›®çš„ã€‚ 12345// æž„é€ å‡½æ•°çš„ç»§æ‰¿function cPerson(name, age, job) &#123; Person.call(this, name, age); this.job = job;&#125; è€ŒåŽŸåž‹çš„ç»§æ‰¿ï¼Œåˆ™åªéœ€è¦å°†å­çº§çš„åŽŸåž‹å¯¹è±¡è®¾ç½®ä¸ºçˆ¶çº§çš„ä¸€ä¸ªå®žä¾‹ï¼ŒåŠ å…¥åˆ°åŽŸåž‹é“¾ä¸­å³å¯ã€‚ 12345// ç»§æ‰¿åŽŸåž‹cPerson.prototype = new Person(name, age);// æ·»åŠ æ›´å¤šæ–¹æ³•cPerson.prototype.getLive = function() &#123;&#125;]]></content>
      <tags>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptå¸¸ç”¨å‡ ç§ç»§æ‰¿æ–¹æ¡ˆ]]></title>
    <url>%2F2019%2F01%2F14%2FJavaScript%E5%B8%B8%E7%94%A8%E5%87%A0%E7%A7%8D%E7%BB%A7%E6%89%BF%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[åŽŸåž‹é“¾ç»§æ‰¿ æž„é€ å‡½æ•°ï¼ŒåŽŸåž‹å’Œå®žä¾‹ä¹‹é—´çš„å…³ç³»ï¼š æ¯ä¸ªæž„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŽŸåž‹å¯¹è±¡ï¼ŒåŽŸåž‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æž„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œå®žä¾‹éƒ½åŒ…å«ä¸€ä¸ªåŽŸåž‹å¯¹è±¡çš„æŒ‡é’ˆã€‚ ç»§æ‰¿çš„æœ¬è´¨æ˜¯å¤åˆ¶ï¼Œå³é‡å†™åŽŸåž‹å¯¹è±¡ï¼Œä»£ä¹‹ä»¥æ–°ç±»åž‹çš„å®žä¾‹ã€‚ 1234567891011121314151617function Animals() &#123; this.type = "animals";&#125;Animals.prototype.getType = function() &#123; return this.type;&#125;;function Cat() &#123; this.name = "cat";&#125;// è¿™é‡Œæ˜¯å…³é”®ï¼Œåˆ›å»º Animals çš„å®žä¾‹ï¼Œå¹¶å°†è¯¥å®žä¾‹èµ‹å€¼ç»™ Cat.prototypeCat.prototype = new Animals();var cat = new Cat();console.log(cat.getType()); åŽŸåž‹é“¾æ–¹æ¡ˆå­˜åœ¨çš„ç¼ºç‚¹ï¼šå¤šä¸ªå®žä¾‹å¯¹å¼•ç”¨ç±»åž‹çš„æ“ä½œä¼šè¢«ç¯¡æ”¹ã€‚ 12345678910111213function SuperType() &#123; this.colors = ["red", "blue", "green"];&#125;function SubType() &#123;&#125;SubType.prototype = new SuperType();var instance1 = new SubType();instance1.colors.push("black");alert(instance1.colors); //"red,blue,green,black"var instance2 = new SubType();alert(instance2.colors); //"red,blue,green,black" å€Ÿç”¨æž„é€ å‡½æ•°ç»§æ‰¿ä½¿ç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°æ¥å¢žå¼ºå­ç±»å®žä¾‹ï¼Œç­‰åŒäºŽå¤åˆ¶çˆ¶ç±»çš„å®žä¾‹ç»™å­ç±»ï¼ˆä¸ä½¿ç”¨åŽŸåž‹ï¼‰ 1234567891011121314function Animals() &#123; this.colors = ["red", "blue", "green"];&#125;function Cat() &#123; //ç»§æ‰¿è‡ªAnimals Animals.call(this);&#125;var cat1 = new Cat();alert(cat1.colors); //"red,green,blue,black"var cat2 = new Cat();alert(cat2.colors); //"red,green,blue" æ ¸å¿ƒä»£ç æ˜¯Animals.call(this)ï¼Œåˆ›å»ºå­ç±»å®žä¾‹æ—¶è°ƒç”¨Animalsæž„é€ å‡½æ•°ï¼ŒäºŽæ˜¯Catçš„æ¯ä¸ªå®žä¾‹éƒ½ä¼šå°†Animalsä¸­çš„å±žæ€§å¤åˆ¶ä¸€ä»½ã€‚ ç¼ºç‚¹ï¼š åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®žä¾‹å±žæ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŽŸåž‹å±žæ€§/æ–¹æ³• æ— æ³•å®žçŽ°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®žä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ ç»„åˆç»§æ‰¿ç»„åˆä¸Šè¿°ä¸¤ç§æ–¹æ³•å°±æ˜¯ç»„åˆç»§æ‰¿ã€‚ç”¨åŽŸåž‹é“¾å®žçŽ°å¯¹åŽŸåž‹å±žæ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œç”¨å€Ÿç”¨æž„é€ å‡½æ•°æŠ€æœ¯æ¥å®žçŽ°å®žä¾‹å±žæ€§çš„ç»§æ‰¿ã€‚ 1234567891011121314151617181920212223242526272829303132333435function SuperType(name) &#123; this.name = name; this.colors = ["red", "blue", "green"];&#125;SuperType.prototype.sayName = function() &#123; alert(this.name);&#125;;function SubType(name, age) &#123; // ç»§æ‰¿å±žæ€§ // ç¬¬äºŒæ¬¡è°ƒç”¨SuperType() SuperType.call(this, name); this.age = age;&#125;// ç»§æ‰¿æ–¹æ³•// æž„å»ºåŽŸåž‹é“¾// ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()SubType.prototype = new SuperType();// é‡å†™SubType.prototypeçš„constructorå±žæ€§ï¼ŒæŒ‡å‘è‡ªå·±çš„æž„é€ å‡½æ•°SubTypeSubType.prototype.constructor = SubType;SubType.prototype.sayAge = function() &#123; alert(this.age);&#125;;var instance1 = new SubType("Nicholas", 29);instance1.colors.push("black");alert(instance1.colors); //"red,blue,green,black"instance1.sayName(); //"Nicholas";instance1.sayAge(); //29var instance2 = new SubType("Greg", 27);alert(instance2.colors); //"red,blue,green"instance2.sayName(); //"Greg";instance2.sayAge(); //27 ç¼ºç‚¹ï¼š ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType()ï¼šç»™SubType.prototypeå†™å…¥ä¸¤ä¸ªå±žæ€§ nameï¼Œcolorã€‚ ç¬¬äºŒæ¬¡è°ƒç”¨SuperType()ï¼šç»™instance1å†™å…¥ä¸¤ä¸ªå±žæ€§ nameï¼Œcolorã€‚ å®žä¾‹å¯¹è±¡instance1ä¸Šçš„ä¸¤ä¸ªå±žæ€§å°±å±è”½äº†å…¶åŽŸåž‹å¯¹è±¡SubType.prototypeçš„ä¸¤ä¸ªåŒåå±žæ€§ã€‚æ‰€ä»¥ï¼Œç»„åˆæ¨¡å¼çš„ç¼ºç‚¹å°±æ˜¯åœ¨ä½¿ç”¨å­ç±»åˆ›å»ºå®žä¾‹å¯¹è±¡æ—¶ï¼Œå…¶åŽŸåž‹ä¸­ä¼šå­˜åœ¨ä¸¤ä»½ç›¸åŒçš„å±žæ€§/æ–¹æ³•ã€‚ åŽŸç”Ÿå¼ç»§æ‰¿åˆ©ç”¨ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºä¸­ä»‹ï¼Œå°†æŸä¸ªå¯¹è±¡ç›´æŽ¥èµ‹å€¼ç»™ç©ºå¯¹è±¡æž„é€ å‡½æ•°çš„åŽŸåž‹ã€‚ 12345function create(obj)&#123; fuction F()&#123;&#125;; fn.prototype = obj; return new F();&#125; create()å¯¹ä¼ å…¥å…¶ä¸­çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…å¤åˆ¶ï¼Œå°†æž„é€ å‡½æ•° F çš„åŽŸåž‹ç›´æŽ¥æŒ‡å‘ä¼ å…¥çš„å¯¹è±¡ã€‚ 1234567891011121314var person = &#123; name: "Nicholas", friends: ["Shelby", "Court", "Van"]&#125;;var anotherPerson = create(person);anotherPerson.name = "Greg";anotherPerson.friends.push("Rob");var yetAnotherPerson = create(person);yetAnotherPerson.name = "Linda";yetAnotherPerson.friends.push("Barbie");alert(person.friends); //"Shelby,Court,Van,Rob,Barbie" ç¼ºç‚¹ï¼š åŽŸåž‹é“¾ç»§æ‰¿å¤šä¸ªå®žä¾‹çš„å¼•ç”¨ç±»åž‹å±žæ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚ æ— æ³•ä¼ é€’å‚æ•° å¦å¤–ï¼ŒES5 ä¸­å­˜åœ¨Object.create()çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿä»£æ›¿ä¸Šé¢çš„ object æ–¹æ³•ã€‚ å¯„ç”Ÿå¼ç»§æ‰¿æ ¸å¿ƒï¼šåœ¨åŽŸåž‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå¢žå¼ºå¯¹è±¡ï¼Œè¿”å›žæž„é€ å‡½æ•° 12345678function createAnother(original) &#123; var clone = create(original); // é€šè¿‡è°ƒç”¨ create() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ clone.sayHi = function() &#123; // ä»¥æŸç§æ–¹å¼æ¥å¢žå¼ºå¯¹è±¡ alert("hi"); &#125;; return clone; // è¿”å›žè¿™ä¸ªå¯¹è±¡&#125; å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºæž„é€ å‡½æ•°æ–°å¢žå±žæ€§å’Œæ–¹æ³•ï¼Œä»¥å¢žå¼ºå‡½æ•° 123456var person = &#123; name: "Nicholas", friends: ["Shelby", "Court", "Van"]&#125;;var anotherPerson = createAnother(person);anotherPerson.sayHi(); //"hi" ç¼ºç‚¹ï¼ˆåŒåŽŸåž‹å¼ç»§æ‰¿ï¼‰; å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ç»“åˆå€Ÿç”¨æž„é€ å‡½æ•°ä¼ é€’å‚æ•°å’Œå¯„ç”Ÿæ¨¡å¼å®žçŽ°ç»§æ‰¿ 1234567891011121314151617181920212223242526272829303132333435function inhertPrototype(subType, superType) &#123; var prototype = Object.create(superType.prototype); // åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬ prototype.constructor = subType; // å¢žå¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŽŸåž‹è€Œå¤±åŽ»çš„é»˜è®¤çš„constructor å±žæ€§ subType.prototype = prototype; // æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŽŸåž‹&#125;// çˆ¶ç±»åˆå§‹åŒ–å®žä¾‹å±žæ€§å’ŒåŽŸåž‹å±žæ€§function SuperType(name) &#123; this.name = name; this.color = ["red", "yellow"];&#125;SuperType.prototype.sayName = function() &#123; alert(this.name);&#125;;// å€Ÿç”¨æž„é€ å‡½æ•°ä¼ é€’å¢žå¼ºå­ç±»å®žä¾‹å±žæ€§ï¼ˆæ”¯æŒä¼ å‚å’Œé¿å…ç¯¡æ”¹ï¼‰function SubType(name, age) &#123; SuperType.call(this, name); this.age = age;&#125;// å°†çˆ¶ç±»åŽŸåž‹æŒ‡å‘å­ç±»inheritPrototype(SubType, SuperType);// æ–°å¢žå­ç±»åŽŸåž‹å±žæ€§SubType.prototype.sayAge = function() &#123; alert(this.age);&#125;;var instance1 = new SubType("xyc", 23);var instance2 = new SubType("lxy", 23);instance1.colors.push("2"); // ["red", "blue", "green", "2"]instance1.colors.push("3"); // ["red", "blue", "green", "3"] è¿™ä¸ªä¾‹å­çš„é«˜æ•ˆçŽ‡ä½“çŽ°åœ¨å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡SuperTypeæž„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨SubType.prototype ä¸Šåˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±žæ€§ã€‚äºŽæ­¤åŒæ—¶ï¼ŒåŽŸåž‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨instanceofå’ŒisPrototypeOf() è¿™æ˜¯æœ€æˆç†Ÿçš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯çŽ°åœ¨åº“å®žçŽ°çš„æ–¹æ³• ES6 ç±»ç»§æ‰¿ extendsextendså…³é”®å­—ä¸»è¦ç”¨äºŽç±»å£°æ˜Žæˆ–è€…ç±»è¡¨è¾¾å¼ä¸­ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œè¯¥ç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ã€‚å…¶ä¸­constructorè¡¨ç¤ºæž„é€ å‡½æ•°ï¼Œä¸€ä¸ªç±»ä¸­åªèƒ½æœ‰ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œæœ‰å¤šä¸ªä¼šæŠ¥å‡ºSyntaxErroré”™è¯¯,å¦‚æžœæ²¡æœ‰æ˜¾å¼æŒ‡å®šæž„é€ æ–¹æ³•ï¼Œåˆ™ä¼šæ·»åŠ é»˜è®¤çš„constructoræ–¹æ³•ï¼Œä½¿ç”¨ä¾‹å­å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041class Rectangle &#123; // constructor constructor(height, width) &#123; this.height = height; this.width = width; &#125; // Getter get area() &#123; return this.calcArea() &#125; // Method calcArea() &#123; return this.height * this.width; &#125;&#125;const rectangle = new Rectangle(10, 20);console.log(rectangle.area);// è¾“å‡º 200-----------------------------------------------------------------// ç»§æ‰¿class Square extends Rectangle &#123; constructor(length) &#123; super(length, length); // å¦‚æžœå­ç±»ä¸­å­˜åœ¨æž„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨ä½¿ç”¨â€œthisâ€ä¹‹å‰é¦–å…ˆè°ƒç”¨ super()ã€‚ this.name = 'Square'; &#125; get area() &#123; return this.height * this.width; &#125;&#125;const square = new Square(10);console.log(square.area);// è¾“å‡º 100 extendsç»§æ‰¿çš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œå…¶å®žçŽ°å’Œä¸Šè¿°çš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ–¹å¼ä¸€æ · 12345678910111213141516171819function _inherits(subType, superType) &#123; // åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŽŸåž‹çš„ä¸€ä¸ªå‰¯æœ¬ // å¢žå¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŽŸåž‹è€Œå¤±åŽ»çš„é»˜è®¤çš„constructor å±žæ€§ // æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŽŸåž‹ subType.prototype = Object.create(superType &amp;&amp; superType.prototype, &#123; constructor: &#123; value: subType, enumerable: false, writable: true, configurable: true &#125; &#125;); if (superType) &#123; Object.setPrototypeOf ? Object.setPrototypeOf(subType, superType) : (subType.__proto__ = superType); &#125;&#125; æ€»ç»“1ã€å‡½æ•°å£°æ˜Žå’Œç±»å£°æ˜Žçš„åŒºåˆ«å‡½æ•°å£°æ˜Žä¼šæå‡ï¼Œç±»å£°æ˜Žä¸ä¼šã€‚é¦–å…ˆéœ€è¦å£°æ˜Žä½ çš„ç±»ï¼Œç„¶åŽè®¿é—®å®ƒï¼Œå¦åˆ™åƒä¸‹é¢çš„ä»£ç ä¼šæŠ›å‡ºä¸€ä¸ª ReferenceErrorã€‚ 1234let p = new Rectangle();// ReferenceErrorclass Rectangle &#123;&#125; 2ã€ES5 ç»§æ‰¿å’Œ ES6 ç»§æ‰¿çš„åŒºåˆ« ES5 çš„ç»§æ‰¿å®žè´¨ä¸Šæ˜¯å…ˆåˆ›å»ºå­ç±»çš„å®žä¾‹å¯¹è±¡ï¼Œç„¶åŽå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ° this ä¸Šï¼ˆParent.call(this)ï¼‰. ES6 çš„ç»§æ‰¿æœ‰æ‰€ä¸åŒï¼Œå®žè´¨ä¸Šæ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®žä¾‹å¯¹è±¡ thisï¼Œç„¶åŽå†ç”¨å­ç±»çš„æž„é€ å‡½æ•°ä¿®æ”¹ thisã€‚å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„ this å¯¹è±¡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»çš„ super()æ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®žä¾‹æŠ¥é”™ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºç¡€çŸ¥è¯†æ€»ç»“-1]]></title>
    <url>%2F2018%2F10%2F30%2F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93-1%2F</url>
    <content type="text"><![CDATA[new è¯­æ³•ç³–çš„å®žçŽ°1, åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡2, é“¾æŽ¥åˆ°åŽŸåž‹3, ç»‘å®šthis4, è¿”å›žæ–°çš„å¯¹è±¡ 123456789101112function create()&#123; // åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ var obj = new Object(); // èŽ·å¾—æž„é€ å‡½æ•° var fn = [].shift.call(arguments); // é“¾æŽ¥åˆ°åŽŸåž‹ obj.__proto__ = fn.prototype; // ç»‘å®šthis æ‰§è¡Œæž„é€ å‡½æ•° var result = fn.apply(obj,arguments); // ç¡®ä¿è¿”å›žçš„æ˜¯å¯¹è±¡ return typeof(result) === 'object' ? result : obj;&#125; æ¨¡æ‹Ÿå®žçŽ°Call å’Œ applyå¯ä»¥ä»Žä»¥ä¸‹å‡ ç‚¹æ¥è€ƒè™‘å¦‚ä½•å®žçŽ° ä¸ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º window æ”¹å˜äº† this æŒ‡å‘ï¼Œè®©æ–°çš„å¯¹è±¡å¯ä»¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚é‚£ä¹ˆæ€è·¯æ˜¯å¦å¯ä»¥å˜æˆç»™æ–°çš„å¯¹è±¡æ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åŽåœ¨æ‰§è¡Œå®Œä»¥åŽåˆ é™¤ï¼Ÿ 1234567891011121314Function.prototype.myCall = function(context)&#123; var context = context || window; // ç»™ context æ·»åŠ ä¸€ä¸ªå±žæ€§ // getValue.call(a, 'yck', '24') =&gt; a.fn = getValue context.fn = this; // thiså°±æ˜¯è°ƒç”¨callçš„å‡½æ•° // å°† context åŽé¢çš„å‚æ•°å–å‡ºæ¥ var args = [...arguments].slice(1); // getValue.call(a, 'yck', '24') =&gt; a.fn('yck', '24') var result = context.fn(...args); // åˆ é™¤fn delete context.fn; return result;&#125; ä»¥ä¸Šå°±æ˜¯ call çš„æ€è·¯ï¼Œapply çš„å®žçŽ°ä¹Ÿç±»ä¼¼ 1234567891011121314Function.prototype.myApply = function(context)&#123; var context = context || window context.fn = this // åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¬¬äºŒä¸ªå‚æ•° ä¸”ä¸ºæ•°ç»„ if(arguments[1] &amp;&amp; Array.isArray(arguments[1]))&#123; var result = context.fn(...arguments[1]); &#125;else &#123; var result = context.fn(); &#125; delete context.fn; return result;&#125; bind å’Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•ä½œç”¨ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯è¯¥æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªå‡½æ•°ã€‚å¹¶ä¸”æˆ‘ä»¬å¯ä»¥é€šè¿‡ bind å®žçŽ°æŸ¯é‡ŒåŒ–ã€‚ 123456789101112131415Function.prototype.myBind = function (context) &#123; if (typeof this !== 'function') &#123; throw new TypeError('Error') &#125; var _this = this var args = [...arguments].slice(1) // è¿”å›žä¸€ä¸ªå‡½æ•° return function F() &#123; // å› ä¸ºè¿”å›žäº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ new F()ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­ if (this instanceof F) &#123; return new _this(...args, ...arguments) &#125; return _this.apply(context, args.concat(...arguments)) &#125;&#125; VueåŒå‘ç»‘å®šçš„ç®€å•å®žçŽ°ï¼ˆæ•°æ®åŠ«æŒå’Œå‘å¸ƒè®¢é˜…ï¼‰Vueå†…éƒ¨å®žçŽ°å®žç”¨äº†Object.defineProperty()å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ¥å®žçŽ°åŒå‘æ•°æ®ç»‘å®šã€‚ 123456789101112131415161718192021222324252627282930313233343536function observe(data)&#123; // åˆ¤æ–­æ˜¯ä¸æ˜¯å¯¹è±¡ if(!obj || typeof data !== 'object')&#123; return; &#125; // éåŽ†å¯¹è±¡ï¼Œ for(key in data)&#123; defineReactive(data,key,obj[key]); &#125;&#125;function defineReactive(data,key,value)&#123; // é€’å½’å­å±žæ€§å€¼ observe(value); Object.defineProperty(data,key,&#123; enumerable: true, configurable: true, get: function reactiveGetter()&#123; return value; &#125;, set:function reactiveSetter(newVal)&#123; value = newVal; &#125; &#125;)&#125;var data = &#123;name: 'Jay'&#125;;observe(data);data.name = 'John'; // set valuedata.name; // get value ä»¥ä¸Šä»£ç ç®€å•çš„å®žçŽ°äº†å¦‚ä½•ç›‘å¬æ•°æ®çš„ set å’Œ get çš„äº‹ä»¶ï¼Œä½†æ˜¯ä»…ä»…å¦‚æ­¤æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦åœ¨é€‚å½“çš„æ—¶å€™ç»™å±žæ€§æ·»åŠ å‘å¸ƒè®¢é˜…ã€‚ 1&lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; åœ¨è§£æžcompileå¦‚ä¸Šæ¨¡æ¿ä»£ç æ—¶ï¼Œé‡ä¸Š å°±ä¼šç»™å±žæ€§ name æ·»åŠ å‘å¸ƒè®¢é˜…ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253// é€šè¿‡ Dep è§£è€¦class Dep()&#123; constructor()&#123; this.subs = []; &#125; // è®¢é˜… addSub( sub )&#123; // sub æ˜¯ Watcher å®žä¾‹ this.subs.push(sub) &#125; // å‘å¸ƒ notify()&#123; this.subs.forEach( sub =&gt; &#123; sub.update(); &#125;) &#125;&#125;// å…¨å±€å±žæ€§ï¼Œé€šè¿‡è¯¥å±žæ€§é…ç½® Watcher æ˜¯watcherå’Œdepå…³è”çš„å”¯ä¸€æ¡¥æ¢ï¼Œä»»ä½•æ—¶å€™ï¼Œéƒ½å¿…é¡»ä¿è¯Dep.targetåªæœ‰ä¸€ä¸ªå€¼ã€‚Dep.target = null;function update()&#123; document.querySelector('div').innerText = value&#125;class Watcher()&#123; constructor(obj,key,cb)&#123; // å°† Dep.target æŒ‡å‘è‡ªå·± Dep.target = this; this.cb = cb; this.obj = obj; this.key = key; this.value = obj[key]; // ç„¶åŽè§¦å‘å±žæ€§çš„ getter æ·»åŠ ç›‘å¬ // æœ€åŽå°† Dep.target ç½®ç©º ä¿è¯åªæœ‰ä¸€ä¸ª Dep.target = null; &#125; update()&#123; // èŽ·å¾—æ–°å€¼ // this.value = this.obj[this.key]; ï¼Ÿï¼Ÿ ä¸Šé¢å·²ç»èŽ·å– è¿™é‡Œåº”è¯¥ä¸ç”¨äºŒæ¬¡èŽ·å–äº† // è°ƒç”¨ update æ›´æ–°Dom this.cb(this.value); &#125;&#125;var data = &#123; name: 'yck' &#125;;observe(data);// æ¨¡æ‹Ÿè§£æžåˆ° `&#123;&#123;name&#125;&#125;` è§¦å‘çš„æ“ä½œnew Watcher(data, 'name', update);// update Dom innerTextdata.name = 'yyy'; æŽ¥ä¸‹æ¥å¯¹ defineReactiveæ”¹é€  12345678910111213141516171819202122232425262728function defineReactive(data,key,value)&#123; observe(value); var dp = new Dep(); Object.defineProperty(data,key,&#123; enumerable: true, configurable: true, get: function reactiveGetter()&#123; console.log('get value') // å°† Watcher æ·»åŠ åˆ°è®¢é˜… if(Dep.target)&#123; dp.addSub(Dep.target); &#125; return value; &#125;, set: function reactiveSetter(newVal)&#123; console.log('set value') value = newVal; // æ‰§è¡Œ watcher çš„ update æ–¹æ³• dp.notify(); &#125; &#125;)&#125; ä»¥ä¸Šå®žçŽ°äº†ä¸€ä¸ªç®€æ˜“çš„åŒå‘ç»‘å®šï¼Œæ ¸å¿ƒæ€è·¯å°±æ˜¯æ‰‹åŠ¨è§¦å‘ä¸€æ¬¡å±žæ€§çš„ getter æ¥å®žçŽ°å‘å¸ƒè®¢é˜…çš„æ·»åŠ ã€‚ å‰ç«¯ç¼“å­˜åœ¨ä»‹ç»ç¼“å­˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†ç¼“å­˜åˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ä¸¤ç§ã€‚ä¸¤è€…çš„ä¸»è¦åŒºåˆ«æ˜¯ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ—¶å€™ï¼Œæ˜¯å¦éœ€è¦å‘æœåŠ¡å™¨éªŒè¯æœ¬åœ°ç¼“å­˜æ˜¯å¦ä¾æ—§æœ‰æ•ˆã€‚é¡¾åæ€ä¹‰ï¼Œåå•†ç¼“å­˜ï¼Œå°±æ˜¯éœ€è¦å’ŒæœåŠ¡å™¨è¿›è¡Œåå•†ï¼Œæœ€ç»ˆç¡®å®šæ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚ å¼ºåˆ¶ç¼“å­˜å¼ºåˆ¶ç¼“å­˜åˆ¤æ–­HTTPé¦–éƒ¨å­—æ®µï¼šCache-controlï¼ŒExpiresã€‚ Expiresæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œå³æœåŠ¡å™¨æ—¶é—´ã€‚æµè§ˆå™¨æ£€æŸ¥å½“å‰æ—¶é—´ï¼Œå¦‚æžœè¿˜æ²¡åˆ°å¤±æ•ˆæ—¶é—´å°±ç›´æŽ¥ä½¿ç”¨ç¼“å­˜æ–‡ä»¶ã€‚ä½†æ˜¯è¯¥æ–¹æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœåŠ¡å™¨æ—¶é—´ä¸Žå®¢æˆ·ç«¯æ—¶é—´å¯èƒ½ä¸ä¸€è‡´ã€‚å› æ­¤è¯¥å­—æ®µå·²ç»å¾ˆå°‘ä½¿ç”¨ï¼Œæ˜¯HTTP1.0æ ‡å‡†ä¸‹çš„å­—æ®µã€‚ Cache-controlä¸­çš„max-ageä¿å­˜ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚ä¾‹å¦‚Cache-Control: max-age = 484200ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ”¶åˆ°æ–‡ä»¶åŽï¼Œç¼“å­˜åœ¨484200så†…å‡æœ‰æ•ˆã€‚å¦‚æžœåŒæ—¶å­˜åœ¨Cache-controlå’ŒExpiresï¼Œæµè§ˆå™¨æ€»æ˜¯ä½¿ç”¨Cache-controlã€‚ åå•†ç¼“å­˜åå•†ç¼“å­˜é€šè¿‡HTTPçš„Last-Modifiedï¼ŒEtagå­—æ®µè¿›è¡Œåˆ¤æ–­ã€‚ Last-Modifiedæ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›žçš„å­—æ®µï¼Œè¡¨ç¤ºæœ€åŽä¸€æ¬¡æ›´æ–°çš„æ—¶é—´ã€‚ä¸‹ä¸€æ¬¡æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶å°±å‘é€If-Modified-Sinceå­—æ®µã€‚æœåŠ¡å™¨ç”¨æœ¬åœ°Last-Modifiedæ—¶é—´ä¸ŽIf-Modified-Sinceæ—¶é—´æ¯”è¾ƒï¼Œå¦‚æžœä¸ä¸€è‡´åˆ™è®¤ä¸ºç¼“å­˜å·²è¿‡æœŸå¹¶è¿”å›žæ–°èµ„æºç»™æµè§ˆå™¨ï¼›å¦‚æžœæ—¶é—´ä¸€è‡´åˆ™å‘é€304çŠ¶æ€ç ï¼Œè®©æµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚ Etagï¼šèµ„æºçš„å®žä½“æ ‡è¯†ï¼ˆå“ˆå¸Œå­—ç¬¦ä¸²ï¼‰ï¼Œå½“èµ„æºå†…å®¹æ›´æ–°æ—¶ï¼ŒEtagä¼šæ”¹å˜ã€‚æœåŠ¡å™¨ä¼šåˆ¤æ–­Etagæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æžœå˜åŒ–åˆ™è¿”å›žæ–°èµ„æºï¼Œå¦åˆ™è¿”å›ž304ã€‚ é™„å‰ç«¯ç¼“å­˜æœ€ä½³å®žè·µ JSå‡½æ•° add(1)(2)(3)(4) å®žçŽ°æ— é™æžç´¯åŠ é—®é¢˜ï¼šç”¨ JS å®žçŽ°ä¸€ä¸ªæ— é™ç´¯åŠ çš„å‡½æ•° addï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 123456add(1); // 1add(1)(2); // 3add(1)(2)(3)ï¼› // 6add(1)(2)(3)(4)ï¼› // 10// ä»¥æ­¤ç±»æŽ¨ æ€è€ƒðŸ¤”ï¼šæˆ‘ä»¬çŸ¥é“æ‰“å°å‡½æ•°æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ toString()æ–¹æ³•ï¼Œå‡½æ•° add(a) è¿”å›žä¸€ä¸ªé—­åŒ… sum(b)ï¼Œå‡½æ•° sum() ä¸­ç´¯åŠ è®¡ç®— a = a + bï¼Œåªéœ€è¦é‡å†™sum.toString()æ–¹æ³•è¿”å›žå˜é‡ a å°±OKäº†ã€‚ å®žçŽ°ï¼š 12345678910111213function add(a)&#123; let count = 0; count = a; function sum(b)&#123; count += b; return sum; &#125; sum.toString = function()&#123; return count; &#125; return sum;&#125; è¯¦ç»†è§£æžèµ‹å€¼ã€æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«ä¸€ã€èµ‹å€¼ï¼ˆCopyï¼‰èµ‹å€¼æ˜¯å°†æŸä¸€æ•°å€¼æˆ–å¯¹è±¡èµ‹ç»™æŸä¸ªå˜é‡çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸‹é¢ 2 éƒ¨åˆ† åŸºæœ¬æ•°æ®ç±»åž‹ï¼šèµ‹å€¼ï¼Œèµ‹å€¼ä¹‹åŽä¸¤ä¸ªå˜é‡äº’ä¸å½±å“ å¼•ç”¨æ•°æ®ç±»åž‹ï¼šèµ‹å€ï¼Œä¸¤ä¸ªå˜é‡å…·æœ‰ç›¸åŒçš„å¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œç›¸äº’ä¹‹é—´æœ‰å½±å“ äºŒã€æµ…æ‹·è´ï¼ˆShallow Copyï¼‰ åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŽŸå§‹å¯¹è±¡å±žæ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æžœå±žæ€§æ˜¯åŸºæœ¬ç±»åž‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»åž‹çš„å€¼ï¼Œå¦‚æžœå±žæ€§æ˜¯å¼•ç”¨ç±»åž‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ ï¼Œæ‰€ä»¥å¦‚æžœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ç®€å•æ¥è¯´å¯ä»¥ç†è§£ä¸ºæµ…æ‹·è´åªè§£å†³äº†ç¬¬ä¸€å±‚çš„é—®é¢˜ï¼Œæ‹·è´ç¬¬ä¸€å±‚çš„åŸºæœ¬ç±»åž‹å€¼ï¼Œä»¥åŠç¬¬ä¸€å±‚çš„å¼•ç”¨ç±»åž‹åœ°å€ã€‚ æµ…æ‹·è´ä½¿ç”¨åœºæ™¯ Object.assign() æ–¹æ³•ç”¨äºŽå°†æ‰€æœ‰å¯æžšä¸¾å±žæ€§çš„å€¼ä»Žä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›žç›®æ ‡å¯¹è±¡ã€‚ å±•å¼€è¿ç®—ç¬¦ Spread å®žé™…æ•ˆæžœå’Œ Object.assign() æ˜¯ä¸€æ ·çš„ Array.prototype.slice() æ–¹æ³•è¿”å›žä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œ endï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŽŸæ•°ç»„çš„æµ…æ‹·è´ã€‚åŽŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚ ç›¸åº”çš„è¿˜æœ‰concatç­‰. æµ…æ‹·è´çš„å®žçŽ° 123456789function shallowClone(source) &#123; var target = &#123;&#125;; for (var key in source) &#123; if (Object.prototype.hasOwnProperty.call(source, key)) &#123; target[key] = source[key]; &#125; &#125; return target;&#125; ä¸‰ã€æ·±æ‹·è´ï¼ˆDeep Copyï¼‰ æ·±æ‹·è´ä¼šæ‹·è´æ‰€æœ‰çš„å±žæ€§ï¼Œå¹¶æ‹·è´å±žæ€§æŒ‡å‘çš„åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚å½“å¯¹è±¡å’Œå®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ä¸€èµ·æ‹·è´æ—¶å³å‘ç”Ÿæ·±æ‹·è´ã€‚æ·±æ‹·è´ç›¸æ¯”äºŽæµ…æ‹·è´é€Ÿåº¦è¾ƒæ…¢å¹¶ä¸”èŠ±é”€è¾ƒå¤§ã€‚æ‹·è´å‰åŽä¸¤ä¸ªå¯¹è±¡äº’ä¸å½±å“ã€‚ æ·±æ‹·è´ä½¿ç”¨åœºæ™¯ JSON.parse(JSON.stringify(object)) å­˜åœ¨é—®é¢˜ï¼š undefinedã€symbol å’Œå‡½æ•°è¿™ä¸‰ç§æƒ…å†µï¼Œä¼šç›´æŽ¥å¿½ç•¥ã€‚ å¾ªçŽ¯å¼•ç”¨æƒ…å†µä¸‹ï¼Œä¼šæŠ¥é”™ã€‚ new Date æƒ…å†µä¸‹ï¼Œè½¬æ¢ç»“æžœä¸æ­£ç¡®ã€‚è§£å†³æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²æˆ–è€…æ—¶é—´æˆ³å°±å¥½äº†ã€‚ jQuery.extend() lodash.cloneDeep() æ·±æ‹·è´çš„è‡ªå®žçŽ° å…¶å®žæ·±æ‹·è´å¯ä»¥æ‹†åˆ†æˆ 2 æ­¥ï¼Œæµ…æ‹·è´ + é€’å½’ï¼Œæµ…æ‹·è´æ—¶åˆ¤æ–­å±žæ€§å€¼æ˜¯å¦æ˜¯å¯¹è±¡ï¼Œå¦‚æžœæ˜¯å¯¹è±¡å°±è¿›è¡Œé€’å½’æ“ä½œï¼Œä¸¤ä¸ªä¸€ç»“åˆå°±å®žçŽ°äº†æ·±æ‹·è´ã€‚ 123456789101112131415161718192021// åˆ¤æ˜¯å¦æ˜¯å¯¹è±¡function isObject(obj) &#123; return typeof obj === 'object' &amp;&amp; obj != null;&#125;function cloneDeep2(source) &#123; if (!isObject(source)) return source; // éžå¯¹è±¡è¿”å›žè‡ªèº« var target = Array.isArray(source) ? [] : &#123;&#125;; for(var key in source) &#123; if (Object.prototype.hasOwnProperty.call(source, key)) &#123; if (isObject(source[key])) &#123; target[key] = cloneDeep2(source[key]); // æ³¨æ„è¿™é‡Œ &#125; else &#123; target[key] = source[key]; &#125; &#125; &#125; return target;&#125; è¯æ³•ä½œç”¨åŸŸè¯æ³•ä½œç”¨åŸŸæ„å‘³ç€ä½œç”¨åŸŸæ˜¯ç”±ä¹¦å†™ä»£ç æ—¶å‡½æ•°å£°æ˜Žçš„ä½ç½®æ¥å†³å®šçš„ã€‚ ç¼–è¯‘çš„è¯æ³•åˆ†æžé˜¶æ®µåŸºæœ¬èƒ½å¤ŸçŸ¥é“å…¨éƒ¨æ ‡è¯†ç¬¦åœ¨å“ªé‡Œä»¥åŠæ˜¯å¦‚ä½•å£°æ˜Žçš„ï¼Œä»Žè€Œèƒ½å¤Ÿé¢„æµ‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚ä½•å¯¹å®ƒä»¬è¿›è¡ŒæŸ¥æ‰¾ã€‚ è¯æ³•ä½œç”¨åŸŸæ˜¯åœ¨å†™ä»£ç æˆ–è€…å®šä¹‰æ—¶ç¡®å®šçš„ï¼Œå…³æ³¨å‡½æ•° åœ¨ä½•å¤„å£°æ˜Žï¼Œä½œç”¨åŸŸé“¾åŸºäºŽä»£ç åµŒå¥—ã€‚ åŠ¨æ€ä½œç”¨åŸŸæ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šçš„ï¼ˆthisä¹Ÿæ˜¯ï¼‰ï¼Œå…³æ³¨å‡½æ•° ä»Žä½•å¤„è°ƒç”¨ï¼Œä½œç”¨åŸŸé“¾åŸºäºŽè°ƒç”¨æ ˆã€‚ JavaScriptå¹¶ ä¸å…·å¤‡ åŠ¨æ€ä½œç”¨åŸŸï¼Œå®ƒ åªæœ‰è¯æ³•ä½œç”¨åŸŸã€‚ä½†æ˜¯thisæœºåˆ¶æŸç§ç¨‹åº¦ä¸Šå¾ˆåƒåŠ¨æ€ä½œç”¨åŸŸã€‚ 123456789101112// è¯æ³•ä½œç”¨åŸŸï¼Œå…³æ³¨å‡½æ•°åœ¨ä½•å¤„å£°æ˜Žï¼Œaé€šè¿‡RHSå¼•ç”¨åˆ°äº†å…¨å±€ä½œç”¨åŸŸä¸­çš„afunction foo() &#123; console.log( a ); // 2&#125;function bar() &#123; var a = 3; foo();&#125;var a = 2;bar(); ç†è§£ let å¾ªçŽ¯12345for (let i = 0; i &lt; 10; i++) &#123; console.log( i );&#125;console.log( i ); // ReferenceError forå¾ªçŽ¯å¤´éƒ¨çš„letä¸ä»…å°†iç»‘å®šåˆ°äº†forå¾ªçŽ¯çš„å—ä¸­ï¼Œäº‹å®žä¸Šå®ƒå°†å…¶é‡æ–°ç»‘å®šåˆ°äº†å¾ªçŽ¯çš„æ¯ä¸€ä¸ªè¿­ä»£ä¸­ï¼Œç¡®ä¿ä½¿ç”¨ä¸Šä¸€ä¸ªå¾ªçŽ¯è¿­ä»£ç»“æŸæ—¶çš„å€¼é‡æ–°è¿›è¡Œèµ‹å€¼ã€‚ 1234567&#123; let j; for (j = 0; j &lt; 10; j++) &#123; let i = j; // æ¯ä¸ªè¿­ä»£é‡æ–°ç»‘å®š! console.log( i ); &#125;&#125; å˜é‡æå‡ ä»»ä½•å£°æ˜Žåœ¨æŸä¸ªä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œéƒ½å°†é™„å±žäºŽè¿™ä¸ªä½œç”¨åŸŸã€‚ åŒ…æ‹¬å˜é‡å’Œå‡½æ•°åœ¨å†…çš„æ‰€æœ‰å£°æ˜Žéƒ½ä¼šåœ¨ä»»ä½•ä»£ç è¢«æ‰§è¡Œå‰é¦–å…ˆè¢«å¤„ç†ã€‚ var a = 2;ä¼šè¢«çœ‹æˆä¸¤ä¸ªå£°æ˜Žï¼Œvar a;å’Œa = 2;ï¼Œç¬¬ä¸€ä¸ªå£°æ˜Žåœ¨ ç¼–è¯‘é˜¶æ®µ è¿›è¡Œï¼Œç¬¬äºŒä¸ªèµ‹å€¼å£°æ˜Žä¼šè¢«ç•™åœ¨åŽŸåœ°ç­‰å¾… æ‰§è¡Œé˜¶æ®µã€‚ æ‰€æœ‰çš„å£°æ˜Žï¼ˆå˜é‡å’Œå‡½æ•°ï¼‰éƒ½ä¼šè¢« ç§»åŠ¨åˆ°å„è‡ªä½œç”¨åŸŸçš„æœ€é¡¶ç«¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšæå‡ åªæœ‰å£°æ˜Žæœ¬èº«ä¼šè¢«æå‡ï¼Œè€ŒåŒ…æ‹¬å‡½æ•°è¡¨è¾¾å¼åœ¨å†…çš„èµ‹å€¼æˆ–å…¶ä»–è¿è¡Œé€»è¾‘å¹¶ä¸ä¼šæå‡ã€‚ å‡½æ•°å£°æ˜Žå’Œå˜é‡å£°æ˜Žéƒ½ä¼šè¢«æå‡ï¼Œä½†æ˜¯ï¼Œ å‡½æ•°é¦–å…ˆè¢«æå‡ï¼Œç„¶åŽæ‰æ˜¯å˜é‡ã€‚ é—­åŒ…å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°åæ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†é—­åŒ…ã€‚ 1234567891011function foo() &#123; var a = 2; function bar() &#123; console.log( a ); &#125; return bar;&#125;var baz = foo();baz(); // 2 ---- è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæžœ bar()åœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚ bar()æ‹¥æœ‰è¦†ç›–foo()å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾›bar()åœ¨ä¹‹åŽä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ï¼Œä¸ä¼šè¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ bar()æŒæœ‰å¯¹foo()å†…éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨å°±å«åšé—­åŒ…ã€‚ å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ã€Ajaxè¯·æ±‚ã€è·¨çª—å£é€šä¿¡ã€Web Workersæˆ–è€…ä»»ä½•å…¶ä»–çš„å¼‚æ­¥ï¼ˆæˆ–è€…åŒæ­¥ï¼‰ä»»åŠ¡ä¸­ï¼Œåªè¦ä½¿ç”¨äº†å›žè°ƒå‡½æ•°ï¼Œå®žé™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…ï¼]]></content>
      <tags>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¼–å†™æ›´ä¼˜é›…çš„JavaScriptä»£ç ]]></title>
    <url>%2F2018%2F09%2F10%2F%E7%BC%96%E5%86%99%E6%9B%B4%E4%BC%98%E9%9B%85%E7%9A%84JavaScript%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[ä»£ç æŠ€å·§ä¼˜å…ˆ ES6 æ–°ç‰¹æ€§å†™æ³•1234567891011121314151617181920212223242526272829303132333435// ç®­å¤´å‡½æ•°function foo()&#123; console.log('hello world')&#125;const foo = () =&gt; console.log('hello world')// æ•°ç»„åŽ»é‡const formatArray = arr =&gt; [...new Set(arr)]// æ•°ç»„åˆå¹¶const newArr = [...arr1, ...arr2, 'value']// å¯¹è±¡æµ…æ‹·è´const newObj = &#123;...obj&#125;// è§£æž„èµ‹å€¼const person = &#123;name: 'bao', age: 18&#125;const &#123; name, age &#125; = person// å¸¸è§å¯¹è±¡å±žæ€§å–å€¼å‰åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨// å¦‚ä¸‹æ˜¯ react + antd æ¸²æŸ“ table çš„ç®€å•ä»£ç ï¼Œå¯¹è±¡å­˜åœ¨æ€§åˆ¤æ–­ + é»˜è®¤å€¼è®¾ç½®render()&#123; const &#123; downloadList &#125; = this.props.store.downloadList let items = downloadList &amp;&amp; downloadList.items || [] let itemCount = downloadList &amp;&amp; downloadList.itemCount || 10 return &lt;Table dataSource=&#123;items&#125; pagination=&#123;&#123;total: itemCount&#125;&#125; /&gt;&#125;// ä¼˜åŒ–åŽrender()&#123; const &#123; items, itemCount &#125; = this.props.manageStore.downloadList || &#123;&#125; return &lt;Table dataSource=&#123;items || []&#125; pagination=&#123;&#123;total: itemCount || 10&#125;&#125;/&gt;&#125; ä¼˜åŒ–é€»è¾‘åˆ¤æ–­è¯­å¥å¤§é‡çš„ if else é€»è¾‘åˆ¤æ–­éš¾ä»¥ç»´æŠ¤ï¼Œä¸”æ€§èƒ½è¾ƒå·®ï¼Œå¯ç”¨å¤šç§æ–¹å¼ä»£æ›¿ 123456789101112131415161718192021222324252627// å¯¹è±¡é…ç½®æ³•// å‡½æ•°å†…éƒ¨æœ‰æ¡ä»¶åˆ¤æ–­ï¼Œä¸” return å€¼æ—¶ï¼Œæ»¡è¶³æ¡ä»¶ç«‹å³returnï¼Œè€Œä¸è¦åœ¨ç»“å°¾returnconst foo = v =&gt; &#123; if (v === "name") &#123; return "bao"; &#125; else if (v === "age") &#123; return "18"; &#125; else if (v === "height") &#123; return "180"; &#125;&#125;;const cfg = &#123; name: "bao", age: "18", height: "180"&#125;;const foo = v =&gt; cfg[v];// æ•°ç»„é…ç½®æ³•if (value === "hello" || value === "world" || value === "blabla") &#123; // ...&#125;// é…ç½®æ•°ç»„å½¢å¼const rightValue = ["hello", "world", "blabla"];if (rightValue.includes[value]) &#123; // ...&#125; å–„ç”¨ &amp;&amp; ã€ || å’Œ ä¸‰å…ƒè¿ç®—12345678910111213if (name === "bao") &#123; someFunc();&#125;name === "bao" &amp;&amp; someFunc();if (name === "bao") &#123; someFunc();&#125; else &#123; elseFunc();&#125;name === "bao" ? someFunc() : elseFunc(); å¯¹è±¡å±žæ€§å˜é‡åº”ç”¨å¦‚åœ¨ react ä¸­ï¼Œè°ƒç”¨ action æ–¹æ³•æ¥èŽ·å–æ•°æ®ï¼Œä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒæ–¹æ³• 12345678if (isMember) &#123; let res = await actions.getMemberInfo(params);&#125; else &#123; let res = await actions.getCommonUserInfo(params);&#125;const actionName = isMember ? "getMemberInfo" : "getCommonUserInfo";let res = await actions[actionName](params); ç”¨ Array.map(), Array.filter() ä»£æ›¿æ•°ç»„ for å¾ªçŽ¯å®žçŽ°ç®€æ˜“å†™æ³•12345678910111213141516171819202122let arr = [1, 2, 3, 4, "A", "B"];// 1. å–å‡º arr ä¸­æ•°å­—é¡¹ä¸ºæ–°æ•°ç»„let numArr = [];for (let i in arr) &#123; if (typeof arr[i] === "number") &#123; numArr.push(arr[i]); &#125;&#125;// æ”¹ç”¨filterlet numArr2 = arr.filter(item =&gt; typeof item === "number");console.log(numArr2); // [1,2,3,4]// 2. èŽ·å¾—æ–°æ•°ç»„ï¼Œå…ƒç´ æ˜¯ arr æ¯ä¸ªå…ƒç´ ä½œä¸º value, key ä¸º arr ä¸‹æ ‡çš„å¯¹è±¡, ä¸ä¿®æ”¹ arrlet strArr = [];for (let i in arr) &#123; strArr.push(&#123; [i]: arr[i] &#125;);&#125;// æ”¹ç”¨ maplet strArr2 = arr.map((item, i) =&gt; (&#123; [i]: arr[i] &#125;));console.log(strArr2); // [ &#123; '0': 1 &#125;,&#123; '1': 2 &#125;,&#123; '2': 3 &#125;, &#123; '3': 4 &#125;, &#123; '4': 'A' &#125;, &#123; '5': 'B' &#125; ] æµ…æ‹·è´ã€æ·±æ‹·è´ å¤æ‚æ•°æ®ç±»åž‹å¯¹è±¡æ·±æ‹·è´å»ºè®®ä½¿ç”¨åº“æ¥å®žçŽ°ï¼Œå¦‚ lodash.cloneDeep12345678910111213// æµ…æ‹·è´let obj1 = &#123; a: 11, b: &#123; ba: 22 &#125; &#125;;let obj2 = &#123; ...obj1 &#125;;console.log(obj2); // â€‹â€‹â€‹â€‹â€‹&#123; a: 11, b: &#123; ba: 22 &#125; &#125;â€‹â€‹â€‹â€‹â€‹console.log(obj1 === obj2); // falseconsole.log(obj2.b === obj1.b); // true// æ·±æ‹·è´ï¼Œè¿™ç§æ–¹æ³•éœ€è¦å¯¹è±¡èƒ½å¤Ÿè¢« json åºåˆ—åŒ–let obj3 = JSON.parse(JSON.stringify(obj1));console.log(obj3); // â€‹â€‹â€‹â€‹â€‹&#123; a: 11, b: &#123; ba: 22 &#125; &#125;â€‹â€‹â€‹â€‹â€‹console.log(obj3 === obj1); // falseconsole.log(obj3.b === obj1.b); // true æ›´é«˜æ•ˆçš„ä»£ç ä½¿ç”¨å±€éƒ¨å˜é‡ä»£æ›¿å¼•ç”¨ç±»åž‹æŸ¥æ‰¾å±€éƒ¨å˜é‡çš„è¯»å–é€Ÿåº¦æœ€å¿«ï¼Œè€Œå¼•ç”¨ç±»åž‹çš„æ•°æ®è¯»å–éœ€è¦æŒ‰å¼•ç”¨æŒ‡é’ˆåŽ»æŸ¥æ‰¾ï¼Œæ‰€ä»¥å¯ä»¥å¯¹å¤šæ¬¡ä½¿ç”¨çš„å¼•ç”¨ç±»åž‹å±žæ€§ ä½¿ç”¨å±€éƒ¨å˜é‡è¯»å–ä¸€æ¬¡ï¼Œé‡å¤ä½¿ç”¨ 123456789101112let obj = &#123; person: &#123; man: &#123; bao: &#123; age: 18 &#125; &#125; &#125;&#125;;let age = obj.person.man.bao.age;// use age do many things åˆ é™¤å¤šä¸ªå¯¹è±¡å±žæ€§æ—¶å…ˆä½¿å±žæ€§ä¸º nullåˆ é™¤å±žæ€§æ—¶ï¼Œjs å¼•æ“Žä¼šåŽ»æŸ¥æ‰¾è¯¥å±žæ€§çš„å€¼æ˜¯å¦æ˜¯å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥åˆ é™¤å‰æå‰èµ‹å€¼ä¸º nullï¼Œå¯ä»¥å‡å°‘ js å¼•æ“Žçš„æ£€æµ‹è¿‡ç¨‹ï¼Œæé«˜æ•ˆçŽ‡ 1234567891011let obj = &#123; person: &#123; man: &#123; bao: &#123; age: 18 &#125; &#125; &#125;&#125;;obj.person = null;delete obj.person;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS3ä¹‹animation]]></title>
    <url>%2F2018%2F08%2F17%2FCSS3%E4%B9%8Banimation%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆï¼ŒCSS Animation éœ€è¦æŒ‡å®šåŠ¨ç”»ä¸€ä¸ªå‘¨æœŸæŒç»­çš„æ—¶é—´ï¼Œä»¥åŠåŠ¨ç”»æ•ˆæžœçš„åç§°ã€‚ 123div:hover &#123; animation: 1s 1s rainbow linear 3 forwards normal;&#125; ç”¨ keyframes å…³é”®å­—ï¼Œå®šä¹‰ rainbow æ•ˆæžœã€‚ 1234567891011@keyframes rainbow &#123; 0% &#123; background: #c00; &#125; 50% &#123; background: orange; &#125; 100% &#123; background: yellowgreen; &#125;&#125; ä¸Šé¢çš„ animation å±žæ€§æ˜¯ç®€å†™ï¼Œå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªå•ç‹¬çš„å±žæ€§ 123456789div:hover &#123; animation-name: rainbow; // æ•ˆæžœåç§° animation-duration: 1s; // æ‰§è¡Œä¸€æ¬¡æ‰€éœ€æ˜¯æ—¶é—´ animation-timing-function: linear; // åŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿, linearæ˜¯åŒ€é€Ÿï¼Œè¿˜æœ‰ease, ease-inåŠ é€Ÿ,ease-outå‡é€Ÿï¼Œcubic-bezier(http://cubic-bezier.com) è‡ªå®šä¹‰é€Ÿåº¦æ¨¡å¼ç­‰ animation-delay: 1s; // å»¶æ—¶å¤šä¹…æ‰§è¡ŒåŠ¨ç”» animation-fill-mode: forwards; // åŠ¨ç”»ä¿æŒåœ¨ç»“æŸçŠ¶æ€, forwardsæ˜¯åœåœ¨ç»“æŸæ—¶ï¼Œbackwards æ˜¯åœåœ¨å¼€å§‹æ—¶ï¼Œnone å›žåˆ°åŠ¨ç”»æ²¡å¼€å§‹çŠ¶æ€ animation-direction: normal; // åŠ¨ç”»æ’­æ”¾çš„æ–¹å‘, æœ‰alternateï¼ˆstart-end -&gt; end-start -&gt; start-endï¼‰ã€reverse(end-start -&gt; end-start) animation-iteration-count: 3; // åŠ¨ç”»æ‰§è¡Œæ¬¡æ•° è¿˜æœ‰infinite&#125; 12345678div &#123; animation: rainbow 1s linear infinite; animation-play-state: paused; // æ²¡æœ‰é¼ æ ‡æ²¡æœ‰æ‚¬åœæ—¶ï¼ŒåŠ¨ç”»çŠ¶æ€æ˜¯æš‚åœï¼›&#125;div:hover &#123; animation-play-state: running; // ä¸€æ—¦æ‚¬åœï¼ŒåŠ¨ç”»çŠ¶æ€æ”¹ä¸ºç»§ç»­æ’­æ”¾ã€‚&#125; ä¸¾ä¸ªæ —å­ï¼šå®žçŽ°åŠ¨ç”»çš„æ’­æ”¾ï¼Œæš‚åœå’Œé‡æ–°å¼€å§‹ html éƒ¨åˆ† 1234567&lt;div id="box" class="box"&gt;&lt;/div&gt;&lt;p id="text"&gt;&lt;/p&gt;&lt;div class="control"&gt; &lt;button id="play" value="æ’­æ”¾"&gt;æ’­æ”¾&lt;/button&gt; &lt;button id="pause" value="æš‚åœ"&gt;æš‚åœ&lt;/button&gt; &lt;button id="restart" value="é‡æ–°å¼€å§‹"&gt;é‡æ–°å¼€å§‹&lt;/button&gt;&lt;/div&gt; css éƒ¨åˆ† 12345678910111213141516171819202122232425262728293031323334353637@keyframes mymove &#123; 0% &#123; margin-left: 0px; &#125; 50% &#123; margin-left: 400px; &#125; 100% &#123; margin-left: 0px; &#125;&#125;@keyframes mymove1 &#123; 0% &#123; margin-left: 0px; &#125; 50% &#123; margin-left: 400px; &#125; 100% &#123; margin-left: 0px; &#125;&#125;.box &#123; margin: 50px 0; width: 100px; height: 100px; background-color: #5578a2;&#125;.play &#123; animation: mymove 5s infinite ease;&#125;.restart &#123; animation: mymove1 5s infinite ease;&#125;.pause &#123; animation-play-state: paused;&#125; js éƒ¨åˆ† 1234567891011121314151617181920212223242526272829303132var play = document.getElementById("play"), pause = document.getElementById("pause"), restart = document.getElementById("restart"), text = document.getElementById("text"), box = document.getElementById("box");// æš‚åœpause.addEventListener("click", function() &#123; if (box.classList.contains("play")) &#123; box.className = "pause play box"; &#125; else &#123; box.className = "pause restart box"; &#125; text.innerHTML = this.value;&#125;);// æ’­æ”¾play.addEventListener("click", function() &#123; if (box.classList.contains("play")) &#123; box.className = "play box"; &#125; else &#123; box.className = "restart box"; &#125; text.innerHTML = this.value;&#125;);// é‡æ–°å¼€å§‹restart.addEventListener("click", function() &#123; if (box.classList.contains("play")) &#123; box.className = "restart box"; &#125; else &#123; box.className = "play box"; &#125; text.innerHTML = this.value;&#125;); å‚è€ƒèµ„æ–™CSS3 animation å±žæ€§å¦™ç”¨]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å­¦ä¹ ç¬”è®°ï¼ˆåŽŸç”Ÿå‡½æ•°ï¼‰]]></title>
    <url>%2F2018%2F07%2F29%2F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0%EF%BC%89%2F</url>
    <content type="text"><![CDATA[åŽŸç”Ÿå‡½æ•°ï¼ˆnative functionï¼‰,ä¹Ÿæ˜¯ JavaScript çš„å†…å»ºå‡½æ•°ï¼ˆbuilt-in functionï¼‰.å¸¸è§çš„åŽŸç”Ÿå‡½æ•°æœ‰ï¼š String() Number() Boolean() Array() Object() Function() RegExp() Date() Error() Symbol() åŽŸç”Ÿå‡½æ•°å¯ä»¥è¢«å½“åšæž„é€ å‡½æ•°æ¥ä½¿ç”¨ï¼Œä½†æ˜¯æž„é€ å‡ºæ¥çš„å¯¹è±¡å’Œæˆ‘ä»¬è®¾æƒ³çš„ä¸å¤ªä¸€æ · 1234567var a = new String('123');typeof a; // 'object' ä¸æ˜¯ â€˜stringâ€™a instanceof String // trueObject.Prototype.toString.call(a) // '[object String]' é€šè¿‡æž„é€ å‡½æ•°(å¦‚ new String(&#39;abc&#39;))åˆ›é€ å‡ºæ¥çš„æ˜¯å°è£…äº†åŸºæœ¬ç±»åž‹å€¼ï¼ˆå¦‚â€˜abcâ€™ï¼‰çš„å°è£…å¯¹è±¡ã€‚ å¯ä»¥é€šè¿‡console.log(a)æ¥æŸ¥çœ‹å°è£…å¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnew String(&#39;abc&#39;)åˆ›é€ å‡ºæ¥çš„æ˜¯å­—ç¬¦ä¸²â€™abcâ€™çš„å°è£…å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸºæœ¬ç±»åž‹å€¼â€™abcâ€™ã€‚ å†…éƒ¨å±žæ€§[[class]]æ‰€æœ‰ typeof è¿”å›žå€¼ä¸ºâ€œobjectâ€çš„å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªå†…éƒ¨å±žæ€§[[class]],è¿™ä¸ªå±žæ€§æ— æ³•è®¿é—®ï¼Œåªèƒ½é€šè¿‡Object.prototype.toString()æ¥æŸ¥çœ‹ã€‚ 1Object.prototype.toSting([1, 2, 3]); // [object Array] æ•°ç»„çš„å†…éƒ¨[[class]]å±žæ€§å€¼æ˜¯â€œArrayâ€ã€‚å¯¹è±¡çš„å†…éƒ¨[[class]]å±žæ€§å’Œåˆ›å»ºè¯¥å¯¹è±¡çš„å†…å»ºå‡½æ•°ç›¸å¯¹åº”ã€‚ä½†æ˜¯ 12Object.prototype.toString(null); // '[object Null]'Object.prototype.toString(undefined); // '[object Undefined]' è™½ç„¶æ˜¯â€™nullâ€™å’Œâ€™undefinedâ€™è¿™æ ·çš„åŽŸç”Ÿå‡½æ•°å¹¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯å†…éƒ¨[[class]]çš„å±žæ€§å€¼ä»ç„¶æ˜¯â€˜Nullâ€™å’Œâ€˜Undefinedâ€™ å…¶ä»–çš„åŸºæœ¬ç±»åž‹å€¼ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼Œå¸ƒå°”ï¼Œæ•°å­—ï¼‰çš„æƒ…å†µæœ‰æ‰€ä¸åŒï¼Œé€šå¸¸ç§°ä¸ºâ€˜åŒ…è£…â€™ï¼ˆboxingï¼‰; 123Object.prototype.toString("123"); // [object String]Object.prototype.toString(123); // [object Number]Object.prototype.toString(false); // [object Boolean] ä¸Šé¢çš„åŸºæœ¬ç±»åž‹å€¼è¢«å„è‡ªçš„å°è£…å¯¹è±¡åŒ…è£…ï¼Œæ‰€ä»¥ä»–ä»¬çš„å†…éƒ¨[[class]]å±žæ€§å€¼â€œStringâ€,â€œNumberâ€,â€œBooleanâ€ã€‚ å°è£…å¯¹è±¡åŒ…è£…å°è£…å¯¹è±¡ï¼ˆobject wrapperï¼‰æ‰®æ¼”è€…é‡è¦çš„è§’è‰²ã€‚æˆ‘ä»¬éƒ½çŸ¥é“åŸºæœ¬ç±»åž‹æ²¡æœ‰.length å’Œ.toString()è¿™æ ·çš„å±žæ€§å’Œæ–¹æ³•ï¼Œé‚£ä»–ä»¬æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿæ²¡é”™ï¼å°±æ˜¯é€šè¿‡å°è£…å¯¹è±¡è®¿é—®çš„ã€‚æ­¤æ—¶ JavaScript ä¼šè‡ªåŠ¨ä¸º åŸºæœ¬ç±»åž‹å€¼ åŒ…è£…ï¼ˆbox æˆ–è€… wrapï¼‰ä¸€ä¸ªå°è£…å¯¹è±¡ã€‚ 1234var a = "abc";a.length; // 3a.toUpperCase(); // ABC è¿™æ—¶å€™æˆ‘ä»¬ä¼šæƒ³ï¼šå¦‚æžœæˆ‘ä»¬è¦ç»å¸¸ä½¿ç”¨å±žæ€§å’Œæ–¹æ³•ã€‚ä¸ºç”šä¸ä¸€å¼€å§‹å°±åˆ›å»ºå°è£…å¯¹è±¡ï¼Œè¿™æ · JavaScript å¼•æ“Žå°±ä¸ç”¨æ¯æ¬¡éƒ½è‡ªåŠ¨åˆ›å»ºäº†ã€‚But~~å®žé™…ä¸Š æµè§ˆå™¨å·²ç»åšäº†æ€§èƒ½ä¼˜åŒ–ï¼Œç›´æŽ¥ä½¿ç”¨å°è£…å¯¹è±¡åè€Œä¼šé™ä½Žæ‰§è¡Œæ•ˆçŽ‡ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦ç›´æŽ¥ä½¿ç”¨å°è£…å¯¹è±¡ï¼Œè®© JS å¼•æ“Žè‡ªå·±åŽ»å†³å®šä»€ä¹ˆæ—¶å€™ä½¿ç”¨å°è£…å¯¹è±¡ã€‚ å°è£…å¯¹è±¡é‡Šç–‘æ¯”å¦‚ Boolean 12345var a = new Boolean(false);if (!a) &#123; console.log("Oops"); // å®žé™…ä¸Šä¸ä¼šæ‰§è¡Œåˆ°è¿™é‡Œ&#125; æˆ‘ä»¬ä¸º false åˆ›å»ºäº†ä¸€ä¸ªå°è£…å¯¹è±¡ï¼Œç„¶è€Œè¯¥å¯¹è±¡æ€»æ˜¯è¿”å›žçœŸå€¼ï¼ˆtruthyï¼‰ã€‚ âœ”ï¸ å¦‚æžœæƒ³è¦è‡ªè¡Œå°è£…åŸºæœ¬ç±»åž‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨Object(..)å‡½æ•°ï¼ˆä¸å¸¦ new å…³é”®å­—ï¼‰ 12345678910111213var a = "abc";var b = new String(a);var c = Object(a);typeof a; // stringtypeof b; // objecttypeof c; // objectb instanceof String; // truec instanceof String; // trueObject.prototype.toString.call(b); // [object String]Object.prototype.toString.call(c); // [object String] å†æ¬¡å¼ºè°ƒï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸æŽ¨èä½¿ç”¨å°è£…å¯¹è±¡ã€‚ æ‹†å°âœ”ï¸ å¦‚æžœæƒ³å¾—åˆ°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»åž‹å€¼ï¼Œå¯ä»¥ä½¿ç”¨valueOf()å‡½æ•°ï¼š 1234567var a = new String("abc");var b = new Number(22);var c = new Boolean(false);a.valueOf(); // 'abc'b.valueOf(); // 22c.valueOf(); // true åœ¨éœ€è¦ç”¨åˆ°å°è£…å¯¹è±¡ä¸­çš„åŸºæœ¬ç±»åž‹å€¼å¾—åœ°æ–¹ä¼šå‘ç”Ÿéšå¼æ‹†å°ã€‚ 12345var a = new String("abc");var b = a + "";typeof a; // 'object'typeof b; // 'string' åŽŸç”Ÿå‡½æ•°ä½œä¸ºæž„é€ å‡½æ•°å…³äºŽæ•°ç»„ï¼ˆarrayï¼‰ï¼Œå¯¹è±¡ï¼ˆobjectï¼‰ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå®žé™…ä¸Šï¼Œä½¿ç”¨å¸¸é‡å’Œä½¿ç”¨æž„é€ å‡½æ•°æ•ˆæžœæ˜¯ä¸€æ ·çš„ã€‚ï¼ˆåˆ›å»ºçš„å€¼éƒ½æ˜¯é€šè¿‡å°è£…å¯¹è±¡æ¥åŒ…è£…ï¼‰ã€‚ Array(..)123456// æž„é€ å‡½æ•°Array(..)ä¸è¦æ±‚å¿…é¡»å¸¦ new å…³é”®å­—ï¼Œä¸å¸¦æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è¡¥ä¸Švar a = new Array(1, 2, 3);a; // [1,2,3]var b = [1, 2, 3];b; // [1,2,3] Array æž„é€ å‡½æ•°åªå¸¦ä¸€ä¸ªå‚æ•°æ—¶ï¼Œä¼šè¢«ä½œä¸ºæ•°ç»„çš„é¢„è®¾é•¿åº¦(length),åˆ›é€ å‡ºæ¥çš„åªæ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚ æˆ‘ä»¬å°†åŒ…å«è‡³å°‘ä¸€ä¸ªâ€œç©ºå•å…ƒâ€çš„æ•°ç»„ç§°ä¸ºâ€œç¨€ç–æ•°ç»„â€. Date(..)å’Œ Error(..)åˆ›å»ºæ—¥æœŸå¯¹è±¡å¿…é¡»ä½¿ç”¨ new Date()ã€‚ Date(..)ä¸»è¦æ˜¯ç”¨æ¥èŽ·å–å½“å‰çš„ Unix æ—¶é—´æˆ³ï¼ˆä»Ž 1970 å¹´ 1 æœˆ 1 æ—¥å¼€å§‹è®¡ç®—ã€‚ä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ æž„é€ å‡½æ•° Error(..)å¸¦ä¸å¸¦ new å…³é”®å­—éƒ½å¯ä»¥ã€‚åˆ›å»ºé”™è¯¯å¯¹è±¡ï¼ˆerror objectï¼‰ä¸»è¦æ˜¯ä¸ºäº†èŽ·å¾—å½“å‰è¿è¡Œæ ˆçš„ä¸Šä¸‹æ–‡ã€‚æ ˆçš„ä¸Šä¸‹æ–‡ä¿¡æ¯åŒ…æ‹¬å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯å’Œäº§ç”Ÿé”™è¯¯çš„ä»£ç è¡Œå·ï¼Œä»¥ä¾¿äºŽè°ƒè¯•ï¼ˆdebugï¼‰ã€‚ é”™è¯¯å¯¹è±¡é€šå¸¸ä¸Ž throw ä¸€èµ·ä½¿ç”¨ã€‚ 12345function fn(x) &#123; if (x) &#123; throw new Error("x was not be provided"); &#125;&#125; é”™è¯¯å¯¹è±¡è‡³å°‘åŒ…å«ä¸€ä¸ª message å±žæ€§ã€‚æœ€å¥½çš„åŠžæ³•æ˜¯è°ƒç”¨ toSting()æ¥èŽ·å¾—ç»è¿‡æ ¼å¼åŒ–çš„ä¾¿äºŽé˜…è¯»çš„é”™è¯¯ä¿¡æ¯ã€‚ Symbol()ES6 ä¸­æ–°åŠ å…¥äº†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»åž‹â€“ç¬¦å·ï¼ˆSymbolï¼‰ã€‚ç¬¦å·æ˜¯å…·æœ‰å”¯ä¸€æ€§çš„ç‰¹æ®Šå€¼ï¼ˆå¹¶éžç»å¯¹ï¼‰ã€‚ç”¨å®ƒæ¥å‘½åå¯¹è±¡å±žæ€§ä¸å®¹æ˜“å¯¼è‡´é‡åã€‚ ç¬¦å·å¯ä»¥ç”¨ä½œå±žæ€§åï¼Œä½†æ˜¯æ— è®ºæ˜¯åœ¨ä»£ç è¿˜æ˜¯æŽ§åˆ¶å°ä¸Šéƒ½æ— æ³•æŸ¥çœ‹å’Œè®¿é—®å®ƒçš„å€¼ï¼Œåªä¼šæ˜¾ç¤ºä¸ºè¯¸å¦‚Symbol(Symbol.create)è¿™æ ·çš„å€¼ã€‚ ES6 ä¸­æœ‰ä¸€äº›é¢„å®šä¹‰ç¬¦å·ï¼Œä»¥ Symbol çš„é™æ€å±žæ€§å½¢å¼å‡ºçŽ°ï¼Œ å¦‚ Symbol.create,Symbol.iterator ç­‰ã€‚å¯ä»¥è¿™æ ·ç”¨ï¼š 123obj[Symbol.iterator] = function() &#123; /*..*/&#125;; âœ”ï¸ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Symbol(..)åŽŸç”Ÿæž„é€ å‡½æ•°æ¥è‡ªå®šä¹‰ç¬¦å·ã€‚ä½†å®ƒæ¯”è¾ƒç‰¹æ®Šï¼Œä¸èƒ½å¸¦ new å…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š 123456789var mysym = Symbol("my own symbol");mysym; // Symbol(my own symbol)mysym.toString(); // "Symbol(my own symbol)"typeof mysym; // 'symbol'var a = &#123;&#125;;a[mysym] = "abc";Object.getOwmPropertySymbols(a); // [Symbol(my own symbol)] è™½ç„¶ç¬¦å·å®žé™…ä¸Šå¹¶éžç§æœ‰å±žæ€§ï¼ˆé€šè¿‡Object.getOwmPropertySymbols(..)ä¾¿å¯ä»¥å…¬å¼€èŽ·å¾—å¯¹è±¡ä¸­çš„æ‰€æœ‰ç¬¦å·ï¼‰ï¼Œä½†æ˜¯å®ƒå´ä¸»è¦ç”¨äºŽç§æœ‰æˆ–è€…ç‰¹æ®Šå±žæ€§ã€‚å¾ˆå¤šäººç¨€ç½•ç”¨å®ƒæ¥æ›¿ä»£æœ‰ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰å‰ç¼€çš„å±žæ€§ï¼Œè€Œä¸‹åˆ’çº¿å‰ç¼€é€šå¸¸ç”¨äºŽå‘½åç§æœ‰æˆ–ç‰¹æ®Šå±žæ€§ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜²æŠ–èŠ‚æµ]]></title>
    <url>%2F2018%2F07%2F20%2F%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81%2F</url>
    <content type="text"><![CDATA[é˜²æŠ–ä½ æ˜¯å¦åœ¨æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æ»šåŠ¨äº‹ä»¶ä¸­éœ€è¦åšä¸ªå¤æ‚è®¡ç®—æˆ–è€…å®žçŽ°ä¸€ä¸ªæŒ‰é’®çš„é˜²äºŒæ¬¡ç‚¹å‡»æ“ä½œã€‚ è¿™äº›éœ€æ±‚éƒ½å¯ä»¥é€šè¿‡å‡½æ•°é˜²æŠ–åŠ¨æ¥å®žçŽ°ã€‚å°¤å…¶æ˜¯ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼Œå¦‚æžœåœ¨é¢‘ç¹çš„äº‹ä»¶å›žè°ƒä¸­åšå¤æ‚è®¡ç®—ï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´é¡µé¢å¡é¡¿ï¼Œä¸å¦‚å°†å¤šæ¬¡è®¡ç®—åˆå¹¶ä¸ºä¸€æ¬¡è®¡ç®—ï¼Œåªåœ¨ä¸€ä¸ªç²¾ç¡®ç‚¹åšæ“ä½œã€‚å› ä¸ºé˜²æŠ–åŠ¨çš„è½®å­å¾ˆå¤šï¼Œè¿™é‡Œä¹Ÿä¸é‡æ–°è‡ªå·±é€ ä¸ªè½®å­äº†ï¼Œç›´æŽ¥ä½¿ç”¨å¤§ç¥žåˆ†æžçš„ underscore çš„æºç æ¥è§£é‡Šé˜²æŠ–åŠ¨ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041/** * underscore é˜²æŠ–å‡½æ•°ï¼Œè¿”å›žå‡½æ•°è¿žç»­è°ƒç”¨æ—¶ï¼Œç©ºé—²æ—¶é—´å¿…é¡»å¤§äºŽæˆ–ç­‰äºŽ waitï¼Œfunc æ‰ä¼šæ‰§è¡Œ * * @param &#123;function&#125; func å›žè°ƒå‡½æ•° * @param &#123;number&#125; wait è¡¨ç¤ºæ—¶é—´çª—å£çš„é—´éš” * @param &#123;boolean&#125; immediate è®¾ç½®ä¸ºtureæ—¶ï¼Œæ˜¯å¦ç«‹å³è°ƒç”¨å‡½æ•° * @return &#123;function&#125; è¿”å›žå®¢æˆ·è°ƒç”¨å‡½æ•° */function debounce(func, wait, immediate) &#123; var timeout, result; var debounced = function () &#123; var context = this; var args = arguments; if (timeout) clearTimeout(timeout); if (immediate) &#123; // å¦‚æžœå·²ç»æ‰§è¡Œè¿‡ï¼Œä¸å†æ‰§è¡Œ var callNow = !timeout; timeout = setTimeout(function()&#123; timeout = null; &#125;, wait) if (callNow) result = func.apply(context, args) &#125; else &#123; timeout = setTimeout(function()&#123; func.apply(context, args) &#125;, wait); &#125; return result; &#125;; debounced.cancel = function() &#123; clearTimeout(timeout); timeout = null; &#125;; return debounced;&#125; ä¸Šé¢ä»£ç ä½¿ç”¨ä¾‹å­ï¼š 1234567891011121314var count = 1;var container = document.getElementById('container');function getUserAction(e) &#123; container.innerHTML = count++;&#125;;var setUseAction = debounce(getUserAction, 10000, true);container.onmousemove = setUseAction;document.getElementById("button").addEventListener('click', function()&#123; setUseAction.cancel();&#125;) debouncedè§£æž èŠ‚æµèŠ‚æµçš„åŽŸç†å¾ˆç®€å•ï¼š å¦‚æžœä½ æŒç»­è§¦å‘äº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡äº‹ä»¶ã€‚ æ ¹æ®é¦–æ¬¡æ˜¯å¦æ‰§è¡Œä»¥åŠç»“æŸåŽæ˜¯å¦æ‰§è¡Œï¼Œæ•ˆæžœæœ‰æ‰€ä¸åŒï¼Œå®žçŽ°çš„æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒã€‚æˆ‘ä»¬ç”¨ leading ä»£è¡¨é¦–æ¬¡æ˜¯å¦æ‰§è¡Œï¼Œtrailing ä»£è¡¨ç»“æŸåŽæ˜¯å¦å†æ‰§è¡Œä¸€æ¬¡ã€‚ å…³äºŽèŠ‚æµçš„å®žçŽ°ï¼Œæœ‰ä¸¤ç§ä¸»æµçš„å®žçŽ°æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨æ—¶é—´æˆ³ï¼Œä¸€ç§æ˜¯è®¾ç½®å®šæ—¶å™¨ã€‚ ä½¿ç”¨æ—¶é—´æˆ³123456789101112131415function throttle(func,wait)&#123; var time = 0, context, args; return function()&#123; context = this; args = arguments; var now = +new Date(); // æ‰§è¡Œæ¡ä»¶ if(now - time &gt; wait)&#123; func.apply(context,args); time = now; &#125; &#125;&#125; ä½¿ç”¨å®šæ—¶å™¨123456789101112131415function throttle(func, wait)&#123; var timer, context, args; return function()&#123; context = this; args = argumens; if(!timer) &#123; timer = setTimeout(function()&#123; func.apply(context,args); timer = null; &#125;,wait) &#125; &#125;&#125; æ¯”è¾ƒä¸¤ä¸ªæ–¹æ³•ï¼š ç¬¬ä¸€ç§äº‹ä»¶ä¼šç«‹åˆ»æ‰§è¡Œï¼Œç¬¬äºŒç§äº‹ä»¶ä¼šåœ¨ n ç§’åŽç¬¬ä¸€æ¬¡æ‰§è¡Œ ç¬¬ä¸€ç§äº‹ä»¶åœæ­¢è§¦å‘åŽæ²¡æœ‰åŠžæ³•å†æ‰§è¡Œäº‹ä»¶ï¼Œç¬¬äºŒç§äº‹ä»¶åœæ­¢è§¦å‘åŽä¾ç„¶ä¼šå†æ‰§è¡Œä¸€æ¬¡äº‹ä»¶ æœ‰äººå°±è¯´äº†ï¼šæˆ‘æƒ³è¦ä¸€ä¸ªæœ‰å¤´æœ‰å°¾çš„ï¼å°±æ˜¯é¼ æ ‡ç§»å…¥èƒ½ç«‹åˆ»æ‰§è¡Œï¼Œåœæ­¢è§¦å‘çš„æ—¶å€™è¿˜èƒ½å†æ‰§è¡Œä¸€æ¬¡ï¼ åˆå¹¶123456789101112131415161718192021222324252627282930function throttle(func, wait) &#123; var timeout, context, args, result; var previous = 0; var later = function() &#123; previous = +new Date(); timeout = null; func.apply(context, args) &#125;; var throttled = function() &#123; var now = +new Date(); //ä¸‹æ¬¡è§¦å‘ func å‰©ä½™çš„æ—¶é—´ var remaining = wait - (now - previous); context = this; args = arguments; // å¦‚æžœæ²¡æœ‰å‰©ä½™çš„æ—¶é—´äº†æˆ–è€…ä½ æ”¹äº†ç³»ç»Ÿæ—¶é—´ if (remaining &lt;= 0 || remaining &gt; wait) &#123; if (timeout) &#123; clearTimeout(timeout); timeout = null; &#125; previous = now; func.apply(context, args); &#125; else if (!timeout) &#123; timeout = setTimeout(later, remaining); &#125; &#125;; return throttled;&#125; ä½†æ˜¯æˆ‘æœ‰æ—¶ä¹Ÿå¸Œæœ›æ— å¤´æœ‰å°¾ï¼Œæˆ–è€…æœ‰å¤´æ— å°¾ï¼Œè¿™ä¸ªå’‹åŠžï¼Ÿ é‚£æˆ‘ä»¬è®¾ç½®ä¸ª options ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç„¶åŽæ ¹æ®ä¼ çš„å€¼åˆ¤æ–­åˆ°åº•å“ªç§æ•ˆæžœï¼Œæˆ‘ä»¬çº¦å®š: leadingï¼šfalse è¡¨ç¤ºç¦ç”¨ç¬¬ä¸€æ¬¡æ‰§è¡Œtrailing: false è¡¨ç¤ºç¦ç”¨åœæ­¢è§¦å‘çš„å›žè°ƒ 1234567891011121314151617181920212223242526272829303132function throttle(func, wait, options) &#123; var timeout, context, args, result; var previous = 0; if (!options) options = &#123;&#125;; var later = function() &#123; previous = options.leading === false ? 0 : new Date().getTime(); timeout = null; func.apply(context, args); if (!timeout) context = args = null; &#125;; var throttled = function() &#123; var now = new Date().getTime(); if (!previous &amp;&amp; options.leading === false) previous = now; var remaining = wait - (now - previous); context = this; args = arguments; if (remaining &lt;= 0 || remaining &gt; wait) &#123; if (timeout) &#123; clearTimeout(timeout); timeout = null; &#125; previous = now; func.apply(context, args); if (!timeout) context = args = null; &#125; else if (!timeout &amp;&amp; options.trailing !== false) &#123; timeout = setTimeout(later, remaining); &#125; &#125;; return throttled;&#125; throttleè§£æž]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptç«‹å³æ‰§è¡Œå‡½æ•°(IIFE)ä¸Žé—­åŒ…]]></title>
    <url>%2F2018%2F06%2F22%2FJavaScript%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0-IIFE-%E4%B8%8E%E9%97%AD%E5%8C%85%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¸€ç›´æ²¡æžæ¸…æ¥šç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…ä¹‹é—´çš„å…³ç³»ï¼Œæ€»ç»“ä¸€ä¸‹ï¼š é—­åŒ…æœ‰å¾ˆå¤šç§ç†è§£ï¼šè®¿é—®ä¸åˆ°å†…éƒ¨ä½œç”¨åŸŸï¼Œå‡½æ•°å°±æ˜¯è¿™æ ·ï¼Œæ‰€ä»¥å‡½æ•°å°±æ˜¯é—­åŒ…ï¼› é—­åŒ…è¿˜æœ‰ä¸€ç§ç†è§£ï¼šé€šè¿‡æŠŠå‡½æ•°å†…éƒ¨çš„å˜é‡å’Œæ–¹æ³•è¿”å›žå‡ºæ¥ï¼Œè¿™æ ·å¤–éƒ¨ä½œç”¨åŸŸå°±å¯ä»¥è®¿é—®å†…éƒ¨ä½œç”¨åŸŸäº†ï¼Œå¹¶ä¸”ç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…ä¹‹é—´æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œè™½ç„¶å®ƒä»¬ç»å¸¸ç»“åˆä¸€èµ·ä½¿ç”¨ï¼› ç«‹å³æ‰§è¡Œå‡½æ•°åªæ˜¯ä¸€ç§å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼› é—­åŒ…çš„ç›®çš„åˆ™æ˜¯å¤–éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å†…éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼› ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰ç«‹å³æ‰§è¡Œå‡½æ•°æ˜¯æŒ‡å£°æ˜Žå®Œä¹‹åŽä¾¿ç›´æŽ¥æ‰§è¡Œçš„å‡½æ•°ï¼Œè¿™ç±»å‡½æ•°é€šå¸¸æ˜¯ä¸€æ¬¡æ€§ä½¿ç”¨çš„ï¼Œå› æ­¤æ²¡å¿…è¦ç»™è¿™ç±»å‡½æ•°å‘½åï¼Œç›´æŽ¥è®©å®ƒæ‰§è¡Œå°±å¥½äº†ï¼› ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªå¯¹åŒ¿åå‡½æ•°ä½¿ç”¨è¿™ç§ ç«‹å³æ‰§è¡Œå‡½æ•° ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ é—­åŒ… ï¼Œå®žçŽ°çš„ç›®çš„æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š ä¸å¿…ä¸ºå‡½æ•°å‘½åï¼Œé¿å…æ±¡æŸ“å…¨å±€å˜é‡ï¼› *å†…éƒ¨å½¢æˆå•ç‹¬çš„å—çº§ä½œç”¨åŸŸï¼Œå°è£…ä¸€äº›ç§æœ‰å˜é‡ï¼› å†…éƒ¨å˜é‡æ‰§è¡Œå®Œå³é”€æ¯ï¼Œä¸ä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚ javascript ä¸­æ²¡ç”¨ç§æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå¦‚æžœåœ¨å¤šäººå¼€å‘çš„é¡¹ç›®ä¸Šï¼Œä½ åœ¨å…¨å±€æˆ–å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜Žäº†ä¸€äº›å˜é‡ï¼Œå¯èƒ½ä¼šè¢«å…¶ä»–äººä¸å°å¿ƒç”¨åŒåçš„å˜é‡ç»™è¦†ç›–æŽ‰ï¼Œæ ¹æ® javascript å‡½æ•°ä½œç”¨åŸŸé“¾çš„ç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨ IIFE å¯ä»¥æ¨¡ä»¿ä¸€ä¸ªç§æœ‰ä½œç”¨åŸŸï¼Œç”¨åŒ¿åå‡½æ•°ä½œä¸ºä¸€ä¸ªâ€œå®¹å™¨â€ï¼Œâ€œå®¹å™¨â€å†…éƒ¨å¯ä»¥è®¿é—®å¤–éƒ¨çš„å˜é‡ï¼Œè€Œå¤–éƒ¨çŽ¯å¢ƒä¸èƒ½è®¿é—®â€œå®¹å™¨â€å†…éƒ¨çš„å˜é‡ï¼Œæ‰€ä»¥( function(){â€¦} )()å†…éƒ¨å®šä¹‰çš„å˜é‡ä¸ä¼šå’Œå¤–éƒ¨çš„å˜é‡å‘ç”Ÿå†²çªï¼Œä¿—ç§°â€œåŒ¿ååŒ…è£¹å™¨â€æˆ–â€œå‘½åç©ºé—´â€ã€‚ å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°åŽé¢åŠ ä¸Šæ‹¬å·ï¼Œå³å¯å®Œæˆè°ƒç”¨ï¼› 1function ()&#123;&#125;(); // SyntaxError: Unexpected token ( å¼•æ“Žåœ¨é‡åˆ°å…³é”®å­— function æ—¶ï¼Œä¼šé»˜è®¤å°†å…¶å½“åšæ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜Žï¼Œå‡½æ•°å£°æ˜Žå¿…é¡»æœ‰ä¸€ä¸ªå‡½æ•°åï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªå·¦æ‹¬å·æ—¶å°±æŠ¥è¯­æ³•é”™è¯¯äº†ï¼› ç„¶åŽæˆ‘ä»¬ç»™å®ƒåŠ ä¸Šå‡½æ•°å: 123function abc()&#123;&#125;(); // SyntaxError: Unexpected token )//åœ¨ä¸€ä¸ªè¡¨è¾¾å¼åŽé¢åŠ ä¸Šæ‹¬å·ï¼Œè¡¨ç¤ºè¯¥è¡¨è¾¾å¼ç«‹å³æ‰§è¡Œï¼›//è€Œå¦‚æžœæ˜¯åœ¨ä¸€ä¸ªè¯­å¥åŽé¢åŠ ä¸Šæ‹¬å·ï¼Œè¯¥æ‹¬å·å®Œå…¨å’Œä¹‹å‰çš„è¯­å¥æ²¡ä»€ä¹ˆå…³ç³»ï¼Œè€Œåªæ˜¯ä¸€ä¸ªåˆ†ç»„æ“ä½œç¬¦ï¼Œç”¨æ¥æŽ§åˆ¶è¿ç®—ä¸­çš„ä¼˜å…ˆçº§ï¼ˆå°æ‹¬å·é‡Œçš„å…ˆè¿ç®—ï¼‰ã€‚ ä¸Šé¢ä»£ç å¯ä»¥å†™æˆï¼š 12function abc()&#123;&#125;; ();// SyntaxError: Unexpected token )//åˆ†ç»„æ“ä½œç¬¦å†…çš„è¡¨è¾¾å¼ä¸èƒ½ä¸ºç©ºï¼Œæ‰§è¡Œåˆ°å³æ‹¬å·æ—¶ï¼Œå‘çŽ°è¡¨è¾¾å¼ä¸ºç©ºï¼Œæ‰€ä»¥æŠ¥é”™ã€‚ ç„¶è€Œå‡½æ•°è¡¨è¾¾å¼çš„å‡½æ•°ååˆ™å¯æœ‰å¯æ— ï¼› åœ¨ function å‰é¢åŠ ï¼ã€+ã€ -ã€=ç”šè‡³æ˜¯é€—å·ç­‰æˆ–è€…æŠŠå‡½æ•°ç”¨ï¼ˆï¼‰åŒ…èµ·æ¥éƒ½å¯ä»¥å°†å‡½æ•°å£°æ˜Žè½¬æ¢æˆå‡½æ•°è¡¨è¾¾å¼ï¼›æˆ‘ä»¬ä¸€èˆ¬ç”¨ï¼ˆï¼‰æŠŠå‡½æ•°å£°æ˜ŽåŒ…èµ·æ¥æˆ–è€…ç”¨ = ï¼› æˆ‘ä»¬åœ¨å‡½æ•°åŽé¢åŠ ä¸Šæ‹¬å·ï¼Œç„¶åŽå†ç”¨å¦ä¸€ä¸ªæ‹¬å·æŠŠå®ƒä»¬éƒ½åŒ…èµ·æ¥ï¼› javascript ä¸­ï¼Œæ‹¬å·å†…ä¸å…è®¸åŒ…å«è¯­å¥ï¼Œä½†å¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼› å¼•æ“Žå…ˆé‡åˆ°æ‹¬å·ï¼Œç„¶åŽé‡åˆ°å…³é”®å­— function , å°±è‡ªåŠ¨æŠŠæ‹¬å·é‡Œé¢çš„ä»£ç è¯†åˆ«ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜Žï¼› 12345678910111213(function ()&#123;/*code*/&#125;());//javascriptä¸­ï¼Œæ‹¬å·å†…ä¸å…è®¸åŒ…å«è¯­å¥ï¼Œä½†å¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼›//å¼•æ“Žå…ˆé‡åˆ°æ‹¬å·ï¼Œç„¶åŽé‡åˆ°å…³é”®å­—function , å°±è‡ªåŠ¨æŠŠæ‹¬å·é‡Œé¢çš„ä»£ç è¯†åˆ«ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜Ž (function()&#123;/*code*/&#125;)(); //ä¹Ÿå¯ä»¥è¿™æ ·å†™var a = function()&#123;/*code*/&#125;();//æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°è¡¨è¾¾å¼åŽé¢ç›´æŽ¥åŠ æ‹¬å·ï¼Œè€Œä¸ç”¨æŠŠå‡½æ•°åŒ…èµ·æ¥ï¼›//ä½†è¿˜æ˜¯æŽ¨èå¤–éƒ¨åŠ ä¸Š()ï¼švar b = (function()&#123;/*code*/&#125;());var c = (function()&#123;/*code*/&#125;)();//å› ä¸ºå¤–éƒ¨å¦‚æžœæ²¡æœ‰()ï¼Œæˆ‘ä»¬å¾—åŽ»function()&#123;/*code*/&#125;åŽé¢çœ‹æ˜¯å¦å­˜åœ¨()ï¼Œåˆ¤æ–­b/cæ˜¯ä¸€ä¸ªå‡½æ•°è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„è¿”å›žå€¼//ä¸ºäº†ä»£ç çš„å¯è¯»æ€§ï¼Œè¿˜æ˜¯è¦åœ¨å¤–éƒ¨åŠ ä¸Š()ï¼Œæ— è®ºæ˜¯å¦å·²ç»æ˜¯è¡¨è¾¾å¼ï¼› javascript åªæœ‰å‡½æ•°æ‹¥æœ‰å±€éƒ¨ä½œç”¨åŸŸï¼Œç«‹å³æ‰§è¡Œå‡½æ•°ä¹Ÿæœ‰è¿™ä¸€ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒå‡å°‘å…¨å±€å˜é‡é€ æˆçš„ç©ºé—´æ±¡æŸ“ï¼› 123456789(function abc()&#123; console.log(abc);//function abc()&#123;...&#125; var a = 1; console.log(a);//1&#125;)()console.log(abc);//ReferenceError: abc is not defined//å‡½æ•°è¡¨è¾¾å¼çš„æ ‡è¯†ç¬¦åœ¨å¤–éƒ¨ä½œç”¨åŸŸæ˜¯æ‰¾ä¸åˆ°çš„ï¼Œåªæœ‰å†…éƒ¨ä½œç”¨åŸŸå¯ä»¥æ‰¾åˆ°//ç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡½æ•°ååœ¨å¤–éƒ¨ä¹Ÿæ˜¯æ‰¾ä¸åˆ°çš„ é—­åŒ…(closure)é—­åŒ…é€šå¸¸ç”¨æ¥åˆ›å»ºå†…éƒ¨å˜é‡ï¼Œä½¿å¾—è¿™äº›å˜é‡ä¸èƒ½è¢«å¤–éƒ¨éšæ„ä¿®æ”¹ï¼ŒåŒæ—¶åˆå¯ä»¥é€šè¿‡æŒ‡å®šçš„å‡½æ•°æŽ¥å£æ¥æ“ä½œï¼›ç®€å•çš„è¯´ï¼Œå¤–éƒ¨ä½œç”¨åŸŸå°±å¯ä»¥è®¿é—®å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡äº†ã€‚ ç”±äºŽä½œç”¨åŸŸçš„å…³ç³»ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å¤–éƒ¨æ˜¯æ— æ³•ç›´æŽ¥è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡çš„ï¼Œä½†æ˜¯å‡½æ•°å†…éƒ¨å¯ä»¥æŠŠè¿™ä¸ªå˜é‡ä¼ ç»™å…¨å±€å˜é‡æˆ–è€…è¿”å›žå‡ºæ¥ï¼Œè¿™æ ·å¤–éƒ¨ä½œç”¨åŸŸå°±å¯ä»¥è®¿é—®å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡äº†ï¼› ç®€å•çš„è¯´ï¼Œé—­åŒ…å°±æ˜¯æœ‰æƒé™è®¿é—®å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡çš„å‡½æ•°ï¼› javascript å…·æœ‰è‡ªåŠ¨åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œå‡½æ•°è¿è¡Œå®Œä¹‹åŽï¼Œå…¶å†…éƒ¨çš„å˜é‡å’Œæ•°æ®ä¼šè¢«é”€æ¯ï¼› ä½†æ˜¯é—­åŒ…å°±æ˜¯åœ¨å¤–éƒ¨å¯ä»¥è®¿é—®æ­¤å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œæ‰€ä»¥é—­åŒ…çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯åªè¦å­˜åœ¨å¼•ç”¨å‡½æ•°å†…éƒ¨å˜é‡çš„å¯èƒ½ï¼ŒJavaScript å°±éœ€è¦åœ¨å†…å­˜ä¸­ä¿ç•™è¿™äº›å˜é‡ã€‚è€Œä¸” JavaScript è¿è¡Œæ—¶éœ€è¦è·Ÿè¸ªè¿™ä¸ªå†…éƒ¨å˜é‡çš„æ‰€æœ‰å¤–éƒ¨å¼•ç”¨ï¼Œç›´åˆ°æœ€åŽä¸€ä¸ªå¼•ç”¨è¢«è§£é™¤ï¼ˆä¸»åŠ¨æŠŠå¤–éƒ¨å¼•ç”¨èµ‹ä¸º null æˆ–è€…é¡µé¢å…³é—­ï¼‰ï¼ŒJavaScript çš„åžƒåœ¾æ”¶é›†å™¨æ‰èƒ½é‡Šæ”¾ç›¸åº”çš„å†…å­˜ç©ºé—´ï¼›è¿™å¥è¯ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œä¸‹é¢ç”¨ä»£ç å±•ç¤ºï¼› 1234567891011121314151617181920212223242526function outer()&#123; var a = 1; function inner()&#123; return a++; &#125; return inner;&#125;var abc = outer();//outer()åªè¦æ‰§è¡Œè¿‡ï¼Œå°±æœ‰äº†å¼•ç”¨å‡½æ•°å†…éƒ¨å˜é‡çš„å¯èƒ½ï¼Œç„¶åŽå°±ä¼šè¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼›//outer()å¦‚æžœæ²¡æœ‰æ‰§è¡Œè¿‡ï¼Œç”±äºŽä½œç”¨åŸŸçš„å…³ç³»ï¼Œçœ‹ä¸åˆ°å†…éƒ¨ä½œç”¨åŸŸï¼Œæ›´ä¸ä¼šè¢«ä¿å­˜åœ¨å†…å­˜ä¸­äº†ï¼›console.log(abc());//1console.log(abc());//2//å› ä¸ºaå·²ç»åœ¨å†…å­˜ä¸­äº†ï¼Œæ‰€ä»¥å†æ¬¡æ‰§è¡Œabc()çš„æ—¶å€™ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡çš„åŸºç¡€ä¸Šç´¯åŠ çš„var def = outer();console.log(def());//1console.log(def());//2//å†æ¬¡æŠŠouter()å‡½æ•°èµ‹ç»™ä¸€ä¸ªæ–°çš„å˜é‡defï¼Œç›¸å½“äºŽç»‘å®šäº†ä¸€ä¸ªæ–°çš„outerå®žä¾‹ï¼›//console.log(a);//ReferenceError: a is not defined//console.log(inner);//ReferenceError: a is not defined//ç”±äºŽä½œç”¨åŸŸçš„å…³ç³»æˆ‘ä»¬åœ¨å¤–éƒ¨è¿˜æ˜¯æ— æ³•ç›´æŽ¥è®¿é—®å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡åå’Œå‡½æ•°åabc = null;//ç”±äºŽé—­åŒ…å ç”¨å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥è¦è°¨æ…Žä½¿ç”¨é—­åŒ…ã€‚å°½é‡åœ¨ä½¿ç”¨å®Œé—­åŒ…åŽï¼ŒåŠæ—¶è§£é™¤å¼•ç”¨ï¼Œé‡Šæ”¾å†…å­˜ï¼› ç«‹å³æ‰§è¡Œå‡½æ•°èƒ½é…åˆé—­åŒ…ä¿å­˜çŠ¶æ€ 12345678910111213for(var i = 0; i &lt; 3; i++)&#123; setTimeout(function()&#123; console.log(i); //3 3 3 //åœ¨æ‰§è¡Œåˆ°è¿™ä¸€è¡Œæ—¶ï¼Œå‘çŽ°åŒ¿åå‡½æ•°é‡Œæ²¡æœ‰iï¼Œç„¶åŽå‘å¾€å¤–éƒ¨ä½œç”¨åŸŸæ‰¾ï¼Œç„¶åŽæ‰¾åˆ°çš„å…¶å®žæ˜¯forå¾ªçŽ¯æ‰§è¡Œå®Œäº†çš„iï¼Œä¹Ÿå°±æ˜¯2++ï¼Œ3 &#125;,0);&#125;;for(var i = 0; i &lt; 3; i++)&#123; setTimeout((function(x)&#123; console.log(x); //0 1 2 &#125;)(i),0); //åœ¨ç«‹å³æ‰§è¡Œå‡½æ•°å†…éƒ¨iä¼ ç»™äº†xï¼Œå¹¶ä¸”é”åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥ä¸ä¼šå˜&#125;; æ’ä»¶ç”¨ç«‹å³å‡½æ•°é…åˆé—­åŒ…å†™æ’ä»¶ï¼Œé˜²æ­¢å˜é‡å…¨å±€æ±¡æŸ“ï¼Œä»¥åŠä¿è¯å†…éƒ¨å˜é‡çš„å®‰å…¨ï¼› 1234567891011121314151617181920var Person = (function()&#123; var _sayName = function(str)&#123; str = str || 'shane'; return str; &#125; var _sayAge = function(age)&#123; age = age || 18; return age; &#125; return &#123; SayName : _sayName, SayAge : _sayAge &#125;&#125;)();//é€šè¿‡æ’ä»¶æä¾›çš„APIä½¿ç”¨æ’ä»¶console.log(Person.SayName('lucy')); //lucyconsole.log(Person.SayName());//shaneconsole.log(Person.SayAge());//18 ä¸€é“ç»å…¸é¢è¯•é¢˜ä¸‹é¢çš„ ul ä¸­ï¼Œå¦‚ä½•ç‚¹å‡»æ¯ä¸€ä¸ª li çš„æ—¶å€™å¼¹å‡ºå…¶ä¸‹æ ‡? 12345&lt;ul&gt; &lt;li&gt;index 00000&lt;/li&gt; &lt;li&gt;index 11111&lt;/li&gt; &lt;li&gt;index 22222&lt;/li&gt;&lt;/ul&gt; æ–¹æ³•ä¸€ï¼š é—­åŒ… 12345678910111213141516171819window.onload = function()&#123; var oLi = document.getElementsByTagName('ul')[0].children; for (var i = 0; i &lt; oLi.length; i++)&#123; // ç¬¬ä¸€ç§å†™æ³• (function(index)&#123; oLi[index].onclick = function()&#123; console.log(index); &#125;; &#125;)(i); // ç¬¬äºŒç§å†™æ³• oLi[i].onclick = (function(index)&#123; return function()&#123; console.log(index); &#125; &#125;)(i); &#125;&#125; æ–¹æ³•äºŒï¼š å°†ä¸‹æ ‡ä½œä¸ºå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§ï¼Œæ·»åŠ åˆ°æ¯ä¸ªæ•°ç»„å…ƒç´ ä¸­ï¼Œï¼ˆname: â€œ i â€œ, value: i çš„å€¼ï¼‰; 123456789window.onload = function()&#123; var oLi = document.getElementsByTagName('ul')[0].children; for (var i = 0; i &lt; oLi.length; i++)&#123; oLi[i].i = i; oLi[i].onclick = function()&#123; console.log(this.i); &#125;; &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼ä¹‹å‘å¸ƒè®¢é˜…æ¨¡å¼]]></title>
    <url>%2F2018%2F06%2F11%2F%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨çœ‹è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ï¼Œè€Œä¸”åœ¨å·¥ä½œå½“ä¸­ï¼Œåšä¸€äº›æ‰“ç‚¹éœ€æ±‚çš„æ—¶å€™ï¼Œæ­£å¥½ç›´æŽ¥åˆ©ç”¨äº†å‘å¸ƒè®¢é˜…æ¨¡å¼åŽ»å®žçŽ°çš„ï¼Œè¿™è®©æˆ‘å¯¹å‘å¸ƒè®¢é˜…è¿™ç§è®¾è®¡æ¨¡å¼æ›´åŠ çš„æ„Ÿå…´è¶£äº†ï¼ŒäºŽæ˜¯å€Ÿæ­¤æœºä¼šä¹Ÿå’Œå¤§å®¶è¯´è¯´è¿™ä¸ªå¥½ä¸œä¸œå§ï¼ å…¶å®žåœ¨æ—©æœŸè¿˜æ˜¯ç”¨jqå¼€å‘çš„æ—¶ä»£ï¼Œæœ‰å¾ˆå¤šåœ°æ–¹ï¼Œæˆ‘ä»¬éƒ½ä¼šå‡ºçŽ°å‘å¸ƒè®¢é˜…çš„å½±å­ï¼Œä¾‹å¦‚æœ‰triggerå’Œonæ–¹æ³• å†åˆ°çŽ°åœ¨çš„vueä¸­ï¼Œemitå’Œonæ–¹æ³•ã€‚ä»–ä»¬éƒ½ä¼¼ä¹Žä¸çº¦è€ŒåŒçš„è‡ªå¸¦äº†å‘å¸ƒè®¢é˜…å±žæ€§ä¸€èˆ¬ï¼Œè®©å¼€å‘å˜å¾—æ›´åŠ é«˜æ•ˆå¥½ç”¨èµ·æ¥ é‚£ä¹ˆåºŸè¯ä¸å¤šè¯´äº†ï¼Œå…ˆæ¥çœ‹çœ‹å‘å¸ƒè®¢é˜…æ¨¡å¼åˆ°åº•ä½•æ–¹ç¥žåœ£å§ è¯´åˆ°å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå®ƒå…¶å®žæ˜¯ä¸€ç§å¯¹è±¡é—´ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»(ä¸æ˜¯ç»¼è‰ºèŠ‚ç›®ä»¥ä¸€æ•Œç™¾é‚£ç§)ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘é€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºŽå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°çŠ¶æ€æ”¹å˜çš„é€šçŸ¥. ä½œç”¨ å¹¿æ³›ç”¨äºŽå¼‚æ­¥ç¼–ç¨‹ä¸­ï¼ˆæ›¿ä»£äº†ä¼ ç»Ÿå›žè°ƒå‡½æ•°ï¼‰ å¯¹è±¡ä¹‹é—´æ¾æ•£è€¦åˆçš„ç¼–å†™ä»£ç  å½“ç„¶ï¼Œèƒ–å­ä¹Ÿä¸æ˜¯ä¸€å¤©åƒæˆçš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æƒ³å®žçŽ°ä¸€ä¸ªè‡ªå·±çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä»¥åŽåœ¨å·¥ä½œä¸­ä½¿ç”¨ï¼Œä¹Ÿéœ€è¦ä¸€ç‚¹ç‚¹æ¥çš„ï¼Œè¡¨æ‰æ€¥ï¼Œå…ˆä»Žæœ€ç®€å•çš„è¯´èµ·ã€‚ è‡ªå®šä¹‰äº‹ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041let corp = &#123;&#125;; // è‡ªå®šä¹‰ä¸€ä¸ªå…¬å¸å¯¹è±¡// è¿™é‡Œæ”¾ä¸€ä¸ªåˆ—è¡¨ç”¨æ¥ç¼“å­˜å›žè°ƒå‡½æ•°corp.list = [];// è®¢é˜…äº‹ä»¶corp.on = function(fn)&#123; // ç›´æŽ¥æŠŠfnå…ˆå­˜åˆ°åˆ—è¡¨ä¸­ this.list.push(fn);&#125;// å‘å¸ƒäº‹ä»¶corp.emit = function()&#123; // å½“å‘å¸ƒçš„æ—¶å€™å†æŠŠåˆ—è¡¨é‡Œå­˜çš„å‡½æ•°ä¾æ¬¡æ‰§è¡Œ this.list.forEach( cb =&gt; &#123; cb.apply(this,arguments); &#125;)&#125;;// æµ‹è¯•ç”¨ä¾‹corp.on(function (position, salary) &#123; console.log('ä½ çš„èŒä½æ˜¯ï¼š' + position); console.log('æœŸæœ›è–ªæ°´ï¼š' + salary);&#125;);corp.on(function(skill, hobby) &#123; console.log('ä½ çš„æŠ€èƒ½æœ‰ï¼š ' + skill); console.log('çˆ±å¥½ï¼š ' + hobby);&#125;);corp.emit('å‰ç«¯', 10000);corp.emit('ç«¯èŒ¶å’Œå€’æ°´', 'è¶³çƒ');/* ä½ çš„èŒä½æ˜¯ï¼šå‰ç«¯ æœŸæœ›è–ªæ°´ï¼š10000 ä½ çš„æŠ€èƒ½æœ‰ï¼š å‰ç«¯ çˆ±å¥½ï¼š 10000 ä½ çš„èŒä½æ˜¯ï¼šç«¯èŒ¶å’Œå€’æ°´ æœŸæœ›è–ªæ°´ï¼šè¶³çƒ ä½ çš„æŠ€èƒ½æœ‰ï¼š ç«¯èŒ¶å’Œå€’æ°´ çˆ±å¥½ï¼š è¶³çƒ*/ ä¸Šé¢é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶å®žçŽ°äº†ä¸€ä¸ªç®€å•çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä¸è¿‡ä»Žæ‰“å°å‡ºæ¥çš„ç»“æžœæ¥çœ‹ï¼Œæœ‰ç‚¹å°å°´å°¬ã€‚Whyï¼Ÿ å› ä¸ºåœ¨æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå¸Œæœ›æ‰“å°çš„æ˜¯é…±ç´«çš„ï¼š 123456/* ä½ çš„èŒä½æ˜¯ï¼šå‰ç«¯ æœŸæœ›è–ªæ°´ï¼š10000 ä½ çš„æŠ€èƒ½æœ‰ï¼š ç«¯èŒ¶å’Œå€’æ°´ çˆ±å¥½ï¼š è¶³çƒ*/ ä¹‹æ‰€ä»¥å‡ºçŽ°æ­¤ç§æƒ…å†µï¼Œé‚£æ˜¯åœ¨onæ–¹æ³•çš„æ—¶å€™ä¸€è‚¡è„‘çš„éƒ½å°†fnå‡½æ•°å…¨éƒ¨æ”¾åˆ°äº†åˆ—è¡¨ä¸­ã€‚ç„¶è€Œéœ€è¦çš„åªæ˜¯ä¸€ä¸ªç®€å•çš„keyå€¼ï¼Œå°±å¯ä»¥è§£å†³äº†ã€‚è®©æˆ‘ä»¬æ”¹å†™ä¸€ä¸‹ä¸Šé¢çš„ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152let corp = &#123;&#125;;// è¿™æ¬¡æ¢æˆä¸€ä¸ªå¯¹è±¡ç±»åž‹çš„ç¼“å­˜åˆ—è¡¨corp.list = &#123;&#125;;corp.on = function(key,fn)&#123; // å¦‚æžœå¯¹è±¡ä¸­æ²¡æœ‰å¯¹åº”çš„keyå€¼ // ä¹Ÿå°±æ˜¯è¯´æ˜Žæ²¡æœ‰è®¢é˜…è¿‡ // é‚£å°±ç»™keyåˆ›å»ºä¸ªç¼“å­˜åˆ—è¡¨ if(!this.list[key])&#123; this.list[key] = []; &#125; // æŠŠå‡½æ•°æ·»åŠ åˆ°å¯¹åº”keyçš„ç¼“å­˜åˆ—è¡¨é‡Œ this.list[key].push(fn);&#125;corp.emit = function()&#123; // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹åº”çš„keyå€¼ // ç›´æŽ¥ç”¨æ•°ç»„çš„shiftæ–¹æ³•å–å‡º let key = [].shift.call(arguments); // èŽ·å–è¯¥é”®å€¼ä¸­å­˜åœ¨çš„æ‰€æœ‰å‡½æ•° fns = this.list[key]; // å¦‚æžœä¸å­˜åœ¨æˆ–è€…æ²¡æœ‰è¿”å›ž if(!fns || fns.length ==== 0) return false; // éåŽ†keyå€¼å¯¹åº”çš„ç¼“å­˜åˆ—è¡¨ // ä¾æ¬¡æ‰§è¡Œå‡½æ•°çš„æ–¹æ³• fns.forEach( cb =&gt; &#123; cb.apply(this,arguments) &#125;)&#125;// æµ‹è¯•ç”¨ä¾‹corp.on('join', (position, salary) =&gt; &#123; console.log('ä½ çš„èŒä½æ˜¯ï¼š' + position); console.log('æœŸæœ›è–ªæ°´ï¼š' + salary);&#125;);corp.on('other', (skill, hobby) =&gt; &#123; console.log('ä½ çš„æŠ€èƒ½æœ‰ï¼š ' + skill); console.log('çˆ±å¥½ï¼š ' + hobby);&#125;);corp.emit('join', 'å‰ç«¯', 10000);corp.emit('join', 'åŽç«¯', 10000);corp.emit('other', 'ç«¯èŒ¶å’Œå€’æ°´', 'è¶³çƒ');/* ä½ çš„èŒä½æ˜¯ï¼šå‰ç«¯ æœŸæœ›è–ªæ°´ï¼š10000 ä½ çš„èŒä½æ˜¯ï¼šåŽç«¯ æœŸæœ›è–ªæ°´ï¼š10000 ä½ çš„æŠ€èƒ½æœ‰ï¼š ç«¯èŒ¶å’Œå€’æ°´ çˆ±å¥½ï¼š è¶³çƒ*/ æ¥ä¸ªé€šç”¨çš„çŽ°åœ¨æ¥æžä¸ªé€šç”¨çš„å‘å¸ƒè®¢é˜…æ¨¡å¼å®žçŽ°ï¼Œå’Œåˆšæ‰çš„å·®ä¸å¤šï¼Œä¸è¿‡è¿™æ¬¡èµ·åä¹Ÿè¦éš†é‡äº›äº†ï¼Œç›´æŽ¥å«eventå§ï¼Œçœ‹ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162let event = &#123; list: &#123;&#125;, // è®¢é˜… on(key,fn)&#123; if(!this.list[key])&#123; this.list[key] = []; &#125; this.list[key].push(fn); &#125;, // å‘å¸ƒ emit()&#123; let key = [].shift.call(arguments); fns = this.list[key]; if(!fns || fns.length === 0)&#123; return false; &#125; fns.forEach( cb =&gt; &#123; cb.apply(this,arguments); &#125;) &#125;, // å–æ¶ˆè®¢é˜… remove(key,fn)&#123; let fns = this.list[key]; // å¦‚æžœä¸å­˜åœ¨å¯¹åº”çš„key if(!fns) return false; // å¦‚æžœæ²¡æœ‰ä¼ å…¥å‡½æ•°ï¼Œå°±ä¼šå°†keyå€¼å¯¹åº”ç¼“å­˜åˆ—è¡¨ä¸­çš„å‡½æ•°éƒ½æ¸…ç©ºæŽ‰ if(!fn) fns &amp;&amp; (fns.length = 0); //å¦‚æžœéƒ½å­˜åœ¨ fns.forEach( (cb,i) =&gt; &#123; if(cb === fn) &#123; fns.splice(i,1); &#125; &#125;) &#125;&#125;;function cat() &#123; console.log('ä¸€èµ·å–µå–µå–µ');&#125;function dog() &#123; console.log('ä¸€èµ·æ—ºæ—ºæ—º');&#125;event.on('pet', data =&gt; &#123; console.log('æŽ¥æ”¶æ•°æ®'); console.log(data);&#125;);event.on('pet', cat);event.on('pet', dog);// å–æ¶ˆdogæ–¹æ³•çš„è®¢é˜…event.remove('pet', dog);// å‘å¸ƒevent.emit('pet', ['äºŒå“ˆ', 'æ³¢æ–¯çŒ«']);/* æŽ¥æ”¶æ•°æ® [ 'äºŒå“ˆ', 'æ³¢æ–¯çŒ«' ] ä¸€èµ·å–µå–µå–µ*/ è¿™æ ·å…¶å®žå°±å®žçŽ°äº†ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„å‘å¸ƒè®¢é˜…æ¨¡å¼äº†ï¼Œå…¶å®žè¯´èµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ¥ä¸€èµ·å±¡å±¡æ€è·¯å§. æ€è·¯ï¼š åˆ›å»ºä¸€ä¸ªå¯¹è±¡(ç¼“å­˜åˆ—è¡¨) onæ–¹æ³•ç”¨æ¥æŠŠå›žè°ƒå‡½æ•°fnéƒ½åŠ åˆ°ç¼“å­˜åˆ—è¡¨ä¸­ emitæ–¹æ³•å–åˆ°argumentsé‡Œç¬¬ä¸€ä¸ªå½“åškeyï¼Œæ ¹æ®keyå€¼åŽ»æ‰§è¡Œå¯¹åº”ç¼“å­˜åˆ—è¡¨ä¸­çš„å‡½æ•° removeæ–¹æ³•å¯ä»¥æ ¹æ®keyå€¼å–æ¶ˆè®¢é˜… æ€»ç»“ä¼˜ç‚¹ï¼š å¯¹è±¡ä¹‹é—´çš„è§£è€¦ å¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œå¯ä»¥æ›´æ¾è€¦åˆçš„ä»£ç ç¼–å†™ ç¼ºç‚¹ï¼š åˆ›å»ºè®¢é˜…è€…æœ¬èº«è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜ å¤šä¸ªå‘å¸ƒè€…å’Œè®¢é˜…è€…åµŒå¥—ä¸€èµ·çš„æ—¶å€™ï¼Œç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤ å¼ºå¦‚å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä¹Ÿæ˜¯åŠ²é…’è™½å¥½ï¼Œä¸è¦è´ªæ¯çš„é“ç†å“¦ã€‚è¿‡åº¦ä½¿ç”¨çš„è¯ï¼Œéƒ½ä¼šå‡ºçŽ°ä¸Šè¿°ç¼ºç‚¹çš„é—®é¢˜ã€‚ä¸è¿‡åˆç†å¼€å‘åˆç†åˆ©ç”¨ï¼Œè¿™éƒ½ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜çš„ã€‚ åŽŸæ–‡]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‘]]></title>
    <url>%2F2018%2F06%2F04%2F%E6%A0%91%2F</url>
    <content type="text"><![CDATA[äºŒå‰æ ‘æ ‘æ‹¥æœ‰å¾ˆå¤šç§ç»“æž„ï¼ŒäºŒå‰æ ‘æ˜¯æ ‘ä¸­æœ€å¸¸ç”¨çš„ç»“æž„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„é€’å½’ç»“æž„ã€‚ äºŒå‰æ ‘æ‹¥æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæ‹¥æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«ä¸ºï¼šå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ã€‚æ ‘çš„æœ€åº•éƒ¨èŠ‚ç‚¹ç§°ä¹‹ä¸ºå¶èŠ‚ç‚¹ï¼Œå½“ä¸€é¢—æ ‘çš„å¶æ•°é‡æ•°é‡ä¸ºæ»¡æ—¶ï¼Œè¯¥æ ‘å¯ä»¥ç§°ä¹‹ä¸ºæ»¡äºŒå‰æ ‘ã€‚ äºŒåˆ†æœç´¢æ ‘äºŒåˆ†æœç´¢æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘ï¼Œæ‹¥æœ‰äºŒå‰æ ‘çš„ç‰¹æ€§ã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºŽäºŒåˆ†æœç´¢æ ‘æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ¯”ä»–çš„å·¦å­æ ‘çš„å€¼å¤§ï¼Œæ¯”å³å­æ ‘çš„å€¼å°ã€‚ è¿™ç§å­˜å‚¨æ–¹å¼å¾ˆé€‚åˆäºŽæ•°æ®æœç´¢ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“éœ€è¦æŸ¥æ‰¾ 6 çš„æ—¶å€™ï¼Œå› ä¸ºéœ€è¦æŸ¥æ‰¾çš„å€¼æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å¤§ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨æ ¹èŠ‚ç‚¹çš„å³å­æ ‘ä¸Šå¯»æ‰¾ï¼Œå¤§å¤§æé«˜äº†æœç´¢æ•ˆçŽ‡ã€‚ å®žçŽ°123456789101112131415161718192021222324252627282930313233343536class Node &#123; constructor(value) &#123; this.value = value this.left = null this.right = null &#125;&#125;class BST &#123; constructor() &#123; this.root = null this.size = 0 &#125; getSize() &#123; return this.size &#125; isEmpty() &#123; return this.size === 0 &#125; addNode(v) &#123; this.root = this._addChild(this.root, v) &#125; // æ·»åŠ èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦æ¯”è¾ƒæ·»åŠ çš„èŠ‚ç‚¹å€¼å’Œå½“å‰ // èŠ‚ç‚¹å€¼çš„å¤§å° _addChild(node, v) &#123; if (!node) &#123; this.size++ return new Node(v) &#125; if (node.value &gt; v) &#123; node.left = this._addChild(node.left, v) &#125; else if (node.value &lt; v) &#123; node.right = this._addChild(node.right, v) &#125; return node &#125;&#125; ä»¥ä¸Šæ˜¯æœ€åŸºæœ¬çš„äºŒåˆ†æœç´¢æ ‘å®žçŽ°ï¼ŒæŽ¥ä¸‹æ¥å®žçŽ°æ ‘çš„éåŽ†ã€‚ å¯¹äºŽæ ‘çš„éåŽ†æ¥è¯´ï¼Œæœ‰ä¸‰ç§éåŽ†æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯å…ˆåºéåŽ†ã€ä¸­åºéåŽ†ã€åŽåºéåŽ†ã€‚ä¸‰ç§éåŽ†çš„åŒºåˆ«åœ¨äºŽä½•æ—¶è®¿é—®èŠ‚ç‚¹ã€‚åœ¨éåŽ†æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šéåŽ†ä¸‰æ¬¡ï¼Œåˆ†åˆ«æ˜¯éåŽ†åˆ°è‡ªå·±ï¼ŒéåŽ†å·¦å­æ ‘å’ŒéåŽ†å³å­æ ‘ã€‚å¦‚æžœéœ€è¦å®žçŽ°å…ˆåºéåŽ†ï¼Œé‚£ä¹ˆåªéœ€è¦ç¬¬ä¸€æ¬¡éåŽ†åˆ°èŠ‚ç‚¹æ—¶è¿›è¡Œæ“ä½œå³å¯ã€‚ ä»¥ä¸‹éƒ½æ˜¯é€’å½’å®žçŽ°ï¼Œå¦‚æžœä½ æƒ³å­¦ä¹ éžé€’å½’å®žçŽ°ï¼Œå¯ä»¥ ç‚¹å‡»è¿™é‡Œé˜…è¯» 123456789101112131415161718192021222324252627282930313233343536373839// å…ˆåºéåŽ†å¯ç”¨äºŽæ‰“å°æ ‘çš„ç»“æž„// å…ˆåºéåŽ†å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åŽè®¿é—®å·¦èŠ‚ç‚¹ï¼Œæœ€åŽè®¿é—®å³èŠ‚ç‚¹ã€‚preTraversal() &#123; this._pre(this.root)&#125;_pre(node) &#123; if (node) &#123; console.log(node.value) this._pre(node.left) this._pre(node.right) &#125;&#125;// ä¸­åºéåŽ†å¯ç”¨äºŽæŽ’åº// å¯¹äºŽ BST æ¥è¯´ï¼Œä¸­åºéåŽ†å¯ä»¥å®žçŽ°ä¸€æ¬¡éåŽ†å°±// å¾—åˆ°æœ‰åºçš„å€¼// ä¸­åºéåŽ†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åŽè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åŽè®¿é—®å³èŠ‚ç‚¹ã€‚midTraversal() &#123; this._mid(this.root)&#125;_mid(node) &#123; if (node) &#123; this._mid(node.left) console.log(node.value) this._mid(node.right) &#125;&#125;// åŽåºéåŽ†å¯ç”¨äºŽå…ˆæ“ä½œå­èŠ‚ç‚¹// å†æ“ä½œçˆ¶èŠ‚ç‚¹çš„åœºæ™¯// åŽåºéåŽ†è¡¨ç¤ºå…ˆè®¿é—®å·¦èŠ‚ç‚¹ï¼Œç„¶åŽè®¿é—®å³èŠ‚ç‚¹ï¼Œæœ€åŽè®¿é—®æ ¹èŠ‚ç‚¹ã€‚backTraversal() &#123; this._back(this.root)&#125;_back(node) &#123; if (node) &#123; this._back(node.left) this._back(node.right) console.log(node.value) &#125;&#125; ä»¥ä¸Šçš„è¿™å‡ ç§éåŽ†éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ·±åº¦éåŽ†ï¼Œå¯¹åº”çš„è¿˜æœ‰ç§éåŽ†å«åšå¹¿åº¦éåŽ†ï¼Œä¹Ÿå°±æ˜¯ä¸€å±‚å±‚åœ°éåŽ†æ ‘ã€‚å¯¹äºŽå¹¿åº¦éåŽ†æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¹‹å‰è®²è¿‡çš„é˜Ÿåˆ—ç»“æž„æ¥å®Œæˆã€‚ 12345678910111213141516breadthTraversal() &#123; if (!this.root) return null let q = new Queue() // å°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ q.enQueue(this.root) // å¾ªçŽ¯åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©º // ä»£è¡¨æ ‘éåŽ†å®Œæ¯• while (!q.isEmpty()) &#123; // å°†é˜Ÿé¦–å‡ºé˜Ÿï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å·¦å³å­æ ‘ // æœ‰çš„è¯ï¼Œå°±å…ˆå·¦åŽå³å…¥é˜Ÿ let n = q.deQueue() console.log(n.value) if (n.left) q.enQueue(n.left) if (n.right) q.enQueue(n.right) &#125;&#125; æŽ¥ä¸‹æ¥å…ˆä»‹ç»å¦‚ä½•åœ¨æ ‘ä¸­å¯»æ‰¾æœ€å°å€¼æˆ–æœ€å¤§æ•°ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æœ€å°å€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„æœ€å·¦è¾¹ï¼Œæœ€å¤§å€¼ç›¸å 1234567891011121314getMin() &#123; return this._getMin(this.root).value&#125;_getMin(node) &#123; if (!node.left) return node return this._getMin(node.left)&#125;getMax() &#123; return this._getMax(this.root).value&#125;_getMax(node) &#123; if (!node.right) return node return this._getMin(node.right)&#125; å‘ä¸Šå–æ•´å’Œå‘ä¸‹å–æ•´ï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥ä»£ç ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œåªä»‹ç»å¦‚ä½•å‘ä¸‹å–æ•´ã€‚æ—¢ç„¶æ˜¯å‘ä¸‹å–æ•´ï¼Œé‚£ä¹ˆæ ¹æ®äºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œå€¼ä¸€å®šåœ¨æ ¹èŠ‚ç‚¹çš„å·¦ä¾§ã€‚åªéœ€è¦ä¸€ç›´éåŽ†å·¦å­æ ‘ç›´åˆ°å½“å‰èŠ‚ç‚¹çš„å€¼ä¸å†å¤§äºŽç­‰äºŽéœ€è¦çš„å€¼ï¼Œç„¶åŽåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦è¿˜æ‹¥æœ‰å³å­æ ‘ã€‚å¦‚æžœæœ‰çš„è¯ï¼Œç»§ç»­ä¸Šé¢çš„é€’å½’åˆ¤æ–­ã€‚ 12345678910111213141516floor(v) &#123; let node = this._floor(this.root, v) return node ? node.value : null&#125;_floor(node, v) &#123; if (!node) return null if (node.value === v) return v // å¦‚æžœå½“å‰èŠ‚ç‚¹å€¼è¿˜æ¯”éœ€è¦çš„å€¼å¤§ï¼Œå°±ç»§ç»­é€’å½’ if (node.value &gt; v) &#123; return this._floor(node.left, v) &#125; // åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘ let right = this._floor(node.right, v) if (right) return right return node&#125; æŽ’åï¼Œè¿™æ˜¯ç”¨äºŽèŽ·å–ç»™å®šå€¼çš„æŽ’åæˆ–è€…æŽ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹Ÿæ˜¯ç›¸åçš„ï¼Œæ‰€ä»¥è¿™ä¸ªåªä»‹ç»å¦‚ä½•èŽ·å–æŽ’åç¬¬å‡ çš„èŠ‚ç‚¹çš„å€¼ã€‚å¯¹äºŽè¿™ä¸ªæ“ä½œè€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦ç•¥å¾®çš„æ”¹é€ ç‚¹ä»£ç ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰ä¸€ä¸ª size å±žæ€§ã€‚è¯¥å±žæ€§è¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸‹æœ‰å¤šå°‘å­èŠ‚ç‚¹ï¼ˆåŒ…å«è‡ªèº«ï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344class Node &#123; constructor(value) &#123; this.value = value this.left = null this.right = null // ä¿®æ”¹ä»£ç  this.size = 1 &#125;&#125;// æ–°å¢žä»£ç _getSize(node) &#123; return node ? node.size : 0&#125;_addChild(node, v) &#123; if (!node) &#123; return new Node(v) &#125; if (node.value &gt; v) &#123; // ä¿®æ”¹ä»£ç  node.size++ node.left = this._addChild(node.left, v) &#125; else if (node.value &lt; v) &#123; // ä¿®æ”¹ä»£ç  node.size++ node.right = this._addChild(node.right, v) &#125; return node&#125;select(k) &#123; let node = this._select(this.root, k) return node ? node.value : null&#125;_select(node, k) &#123; if (!node) return null // å…ˆèŽ·å–å·¦å­æ ‘ä¸‹æœ‰å‡ ä¸ªèŠ‚ç‚¹ let size = node.left ? node.left.size : 0 // åˆ¤æ–­ size æ˜¯å¦å¤§äºŽ k // å¦‚æžœå¤§äºŽ kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å·¦èŠ‚ç‚¹ if (size &gt; k) return this._select(node.left, k) // å¦‚æžœå°äºŽ kï¼Œä»£è¡¨æ‰€éœ€è¦çš„èŠ‚ç‚¹åœ¨å³èŠ‚ç‚¹ // æ³¨æ„è¿™é‡Œéœ€è¦é‡æ–°è®¡ç®— kï¼Œå‡åŽ»æ ¹èŠ‚ç‚¹é™¤äº†å³å­æ ‘çš„èŠ‚ç‚¹æ•°é‡ if (size &lt; k) return this._select(node.right, k - size - 1) return node&#125; æŽ¥ä¸‹æ¥è®²è§£çš„æ˜¯äºŒåˆ†æœç´¢æ ‘ä¸­æœ€éš¾å®žçŽ°çš„éƒ¨åˆ†ï¼šåˆ é™¤èŠ‚ç‚¹ã€‚å› ä¸ºå¯¹äºŽåˆ é™¤èŠ‚ç‚¹æ¥è¯´ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µ éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­æ ‘ éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰ä¸€æ¡å­æ ‘ éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰å·¦å³ä¸¤æ¡æ ‘ å¯¹äºŽå‰ä¸¤ç§æƒ…å†µå¾ˆå¥½è§£å†³ï¼Œä½†æ˜¯ç¬¬ä¸‰ç§æƒ…å†µå°±æœ‰éš¾åº¦äº†ï¼Œæ‰€ä»¥å…ˆæ¥å®žçŽ°ç›¸å¯¹ç®€å•çš„æ“ä½œï¼šåˆ é™¤æœ€å°èŠ‚ç‚¹ï¼Œå¯¹äºŽåˆ é™¤æœ€å°èŠ‚ç‚¹æ¥è¯´ï¼Œæ˜¯ä¸å­˜åœ¨ç¬¬ä¸‰ç§æƒ…å†µçš„ï¼Œåˆ é™¤æœ€å¤§èŠ‚ç‚¹æ“ä½œæ˜¯å’Œåˆ é™¤æœ€å°èŠ‚ç‚¹ç›¸åçš„ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±ä¸å†èµ˜è¿°ã€‚ 1234567891011121314delectMin() &#123; this.root = this._delectMin(this.root) console.log(this.root)&#125;_delectMin(node) &#123; // ä¸€ç›´é€’å½’å·¦å­æ ‘ // å¦‚æžœå·¦å­æ ‘ä¸ºç©ºï¼Œå°±åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰å³å­æ ‘ // æœ‰å³å­æ ‘çš„è¯å°±æŠŠéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹æ›¿æ¢ä¸ºå³å­æ ‘ if ((node != null) &amp; !node.left) return node.right node.left = this._delectMin(node.left) // æœ€åŽéœ€è¦é‡æ–°ç»´æŠ¤ä¸‹èŠ‚ç‚¹çš„ `size` node.size = this._getSize(node.left) + this._getSize(node.right) + 1 return node&#125; æœ€åŽè®²è§£çš„å°±æ˜¯å¦‚ä½•åˆ é™¤ä»»æ„èŠ‚ç‚¹äº†ã€‚å¯¹äºŽè¿™ä¸ªæ“ä½œï¼ŒT.Hibbard åœ¨ 1962 å¹´æå‡ºäº†è§£å†³è¿™ä¸ªéš¾é¢˜çš„åŠžæ³•ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è§£å†³ç¬¬ä¸‰ç§æƒ…å†µã€‚ å½“é‡åˆ°è¿™ç§æƒ…å†µæ—¶ï¼Œéœ€è¦å–å‡ºå½“å‰èŠ‚ç‚¹çš„åŽç»§èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹ï¼‰æ¥æ›¿æ¢éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ã€‚ç„¶åŽå°†éœ€è¦åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘èµ‹å€¼ç»™åŽç»§ç»“ç‚¹ï¼Œå³å­æ ‘åˆ é™¤åŽç»§ç»“ç‚¹åŽèµ‹å€¼ç»™ä»–ã€‚ ä½ å¦‚æžœå¯¹äºŽè¿™ä¸ªè§£å†³åŠžæ³•æœ‰ç–‘é—®çš„è¯ï¼Œå¯ä»¥è¿™æ ·è€ƒè™‘ã€‚å› ä¸ºäºŒåˆ†æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œçˆ¶èŠ‚ç‚¹ä¸€å®šæ¯”æ‰€æœ‰å·¦å­èŠ‚ç‚¹å¤§ï¼Œæ¯”æ‰€æœ‰å³å­èŠ‚ç‚¹å°ã€‚é‚£ä¹ˆå½“éœ€è¦åˆ é™¤çˆ¶èŠ‚ç‚¹æ—¶ï¼ŒåŠ¿å¿…éœ€è¦æ‹¿å‡ºä¸€ä¸ªæ¯”çˆ¶èŠ‚ç‚¹å¤§çš„èŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚è¿™ä¸ªèŠ‚ç‚¹è‚¯å®šä¸å­˜åœ¨äºŽå·¦å­æ ‘ï¼Œå¿…ç„¶å­˜åœ¨äºŽå³å­æ ‘ã€‚ç„¶åŽåˆéœ€è¦ä¿æŒçˆ¶èŠ‚ç‚¹éƒ½æ˜¯æ¯”å³å­èŠ‚ç‚¹å°çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥å–å‡ºå³å­æ ‘ä¸­æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹æ¥æ›¿æ¢çˆ¶èŠ‚ç‚¹ã€‚ 12345678910111213141516171819202122232425262728293031delect(v) &#123; this.root = this._delect(this.root, v)&#125;_delect(node, v) &#123; if (!node) return null // å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å°ï¼ŒåŽ»å·¦å­æ ‘æ‰¾ if (node.value &lt; v) &#123; node.right = this._delect(node.right, v) &#125; else if (node.value &gt; v) &#123; // å¯»æ‰¾çš„èŠ‚ç‚¹æ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼ŒåŽ»å³å­æ ‘æ‰¾ node.left = this._delect(node.left, v) &#125; else &#123; // è¿›å…¥è¿™ä¸ªæ¡ä»¶è¯´æ˜Žå·²ç»æ‰¾åˆ°èŠ‚ç‚¹ // å…ˆåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦æ‹¥æœ‰æ‹¥æœ‰å·¦å³å­æ ‘ä¸­çš„ä¸€ä¸ª // æ˜¯çš„è¯ï¼Œå°†å­æ ‘è¿”å›žå‡ºåŽ»ï¼Œè¿™é‡Œå’Œ `_delectMin` çš„æ“ä½œä¸€æ · if (!node.left) return node.right if (!node.right) return node.left // è¿›å…¥è¿™é‡Œï¼Œä»£è¡¨èŠ‚ç‚¹æ‹¥æœ‰å·¦å³å­æ ‘ // å…ˆå–å‡ºå½“å‰èŠ‚ç‚¹çš„åŽç»§ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯å–å½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å°å€¼ let min = this._getMin(node.right) // å–å‡ºæœ€å°å€¼åŽï¼Œåˆ é™¤æœ€å°å€¼ // ç„¶åŽæŠŠåˆ é™¤èŠ‚ç‚¹åŽçš„å­æ ‘èµ‹å€¼ç»™æœ€å°å€¼èŠ‚ç‚¹ min.right = this._delectMin(node.right) // å·¦å­æ ‘ä¸åŠ¨ min.left = node.left node = min &#125; // ç»´æŠ¤ size node.size = this._getSize(node.left) + this._getSize(node.right) + 1 return node&#125;]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽ’åºç®—æ³•]]></title>
    <url>%2F2018%2F03%2F17%2F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[å†’æ³¡æŽ’åºï¼ˆBubble Sortï¼‰ å¤§å®¶å¼€å§‹å­¦ä¹ å†’æ³¡æŽ’åºçš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ä»Žå†’æ³¡æŽ’åºå¼€å§‹ï¼Œè¿™æ˜¯æœ€ç®€å•çš„æŽ’åºï¼Œï¼Œä½†æ˜¯ä»Žè¿ç®—æ—¶é—´æ¥è¯´ï¼Œå†’æ³¡æŽ’åºæ˜¯æœ€å·®çš„ä¸€ä¸ªã€‚ ç®—æ³•æè¿° å†’æ³¡æŽ’åºæ¯”è¾ƒä»»ä½•ä¸¤ä¸ªç›¸é‚»çš„é¡¹ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚å…ƒç´ é¡¹å‘ä¸Šç§»åŠ¨è‡³æ­£ç¡®çš„é¡ºåºï¼Œå°±å¥½åƒæ°”æ³¡å‡è‡³è¡¨é¢ä¸€æ ·ï¼Œå†’æ³¡æŽ’åºå› æ­¤å¾—åã€‚ å…ˆæ¥å®žçŽ°ä¸€ä¸‹å†’æ³¡æŽ’åºï¼š 123456789101112function bubbleSort(arr) &#123; let len = arr.length; if (len &lt;= 1) return arr; for (let i = 0; i &lt; len; i++) &#123; for (let j = 0; j &lt; len - 1; j++) &#123; if (arr[j] &gt; arr[j + 1]) &#123; [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]]; &#125; &#125; &#125; return arr;&#125; æ³¨æ„å½“ç®—æ³•æ‰§è¡Œå¤–å¾ªçŽ¯çš„ç¬¬äºŒè½®æ—¶ï¼Œæœ€åŽä¸¤ä¸ªæ•°ç»„å·²ç»æ˜¯æ­£ç¡®æŽ’åºäº†ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œåœ¨åŽç»­çš„æ¯”è¾ƒä¸­ï¼Œå®ƒä»¬è¿˜ä¸€ç›´åœ¨è¿›è¡Œç€æ¯”è¾ƒï¼Œå³ä¾¿è¿™æ˜¯ä¸å¿…è¦çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼š 123456789101112function bubbleSort(arr) &#123; let len = arr.length; if (len &lt;= 1) return arr; for (let i = 0; i &lt; len; i++) &#123; for (let j = 0; j &lt; len - 1 - i; j++) &#123; if (arr[j] &gt; arr[j + 1]) &#123; [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]]; &#125; &#125; &#125; return arr;&#125; æ”¹è¿›å†’æ³¡æŽ’åºï¼š è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡ pos,ç”¨äºŽè®°å½•æ¯è¶ŸæŽ’åºä¸­æœ€åŽä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ã€‚ç”±äºŽ pos ä½ç½®ä¹‹åŽçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½,æ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶ŸæŽ’åºæ—¶åªè¦æ‰«æåˆ° pos ä½ç½®å³å¯ã€‚ 123456789101112131415161718function BubbleSort(arr) &#123; let len = arr.length; if (len &lt;= 1) return arr; let pos; // å…ˆå£°æ˜Žæ ‡å¿—å˜é‡ var i = len - 1; //åˆå§‹æ—¶,æœ€åŽä½ç½®ä¿æŒä¸å˜ while (i &gt; 0) &#123; pos = 0; //æ¯è¶Ÿå¼€å§‹æ—¶,æ— è®°å½•äº¤æ¢ for (var j = 0; j &lt; i; j++) if (arr[j] &gt; arr[j + 1]) &#123; pos = j; //è®°å½•äº¤æ¢çš„ä½ç½® var tmp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = tmp; &#125; i = pos; //ä¸ºä¸‹ä¸€è¶ŸæŽ’åºä½œå‡†å¤‡ &#125; return arr;&#125; å†’æ³¡æŽ’åºåŠ¨å›¾æ¼”ç¤º é€‰æ‹©æŽ’åºï¼ˆSelect Sortï¼‰ é€‰æ‹©æŽ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŽŸç†æ˜¯ï¼šé¦–å…ˆæ‰¾åˆ°æ•°æ®ç»“æž„ä¸­çš„æœ€å°å€¼,ç„¶åŽå°†å…¶æ”¾åœ¨ç¬¬ä¸€ä½ï¼ŒæŽ¥ç€æ‰¾åˆ°ç¬¬äºŒå°çš„å€¼å¹¶å°†å…¶æ”¾åœ¨ç¬¬äºŒä½ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚ 1234567891011121314151617function SelectSort(arr) &#123; var len = arr.length; var indexMin, temp; for (var i = 0; i &lt; len - 1; i++) &#123; indexMin = i; for (var j = i + 1; j &lt; len; j++) &#123; if (arr[indexMin] &gt; arr[j]) indexMin = j; // æ‰¾åˆ°æœ€å°çš„å€¼ï¼Œä¿å­˜å…¶ç´¢å¼• &#125; if (i !== indexMin) &#123; // äº¤æ¢ä½ç½®sels temp = arr[i]; arr[i] = arr[indexMin]; arr[indexMin] = temp; &#125; &#125; return arr;&#125; é€‰æ‹©æŽ’åºåŠ¨å›¾æ¼”ç¤º æ’å…¥æŽ’åºï¼ˆInsertion Sortï¼‰ç®—æ³•ä»‹ç» æ’å…¥æŽ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŽŸç†æ˜¯é€šè¿‡æž„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºŽæœªæŽ’åºæ•°æ®ï¼Œåœ¨å·²æŽ’åºåºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚æ’å…¥æŽ’åºåœ¨å®žçŽ°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨ in-place æŽ’åºï¼ˆå³åªéœ€ç”¨åˆ° O(1)çš„é¢å¤–ç©ºé—´çš„æŽ’åºï¼‰ï¼Œå› è€Œåœ¨ä»ŽåŽå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æŽ’åºå…ƒç´ é€æ­¥å‘åŽæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚ ç®—æ³•çš„æè¿°å’Œå®žçŽ°ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æŽ’åºéƒ½é‡‡ç”¨ in-place åœ¨æ•°ç»„ä¸Šå®žçŽ°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š ä»Žç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æŽ’åºï¼› å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æŽ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼› å¦‚æžœè¯¥å…ƒç´ ï¼ˆå·²æŽ’åºï¼‰å¤§äºŽæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤ 3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æŽ’åºçš„å…ƒç´ å°äºŽæˆ–è€…ç­‰äºŽæ–°å…ƒç´ çš„ä½ç½®ï¼› å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åŽï¼› é‡å¤æ­¥éª¤ 2~5ã€‚ 1234567891011121314function insertionSort(arr)&#123; var len = arr.length; var temp, j; for(var i=1; i&lt;len; i++)&#123; temp = arr[i]; j = i; while(j&gt;0 &amp;&amp; arr[j-1]&gt;temp)&#123; arr[j] = arr[j-1]; j--; &#125; arr[j] = temp; &#125; return arr;&#125; æ”¹è¿›æ’å…¥æŽ’åºï¼šæŸ¥æ‰¾æ’å…¥ä½ç½®æ—¶ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ 123456789101112131415161718192021222324function binaryInsertSort(arr) &#123; if (Array.isArray(arr)) &#123; for (var i = 0; i &lt; arr.length; i++) &#123; var key = arr[i], left = 0, right = i - 1; while (left &lt;= right) &#123; var middle = parseInt((left + right) / 2); if (key &lt; arr[middle]) &#123; right = middle - 1; &#125; else &#123; left = middle + 1; &#125; &#125; for (var j = i - 1; j &gt;= left; j--) &#123; arr[j + 1] = arr[j]; &#125; arr[left] = key; &#125; return array; &#125; else &#123; return "arr is not an Array"; &#125;&#125; æ’å…¥æŽ’åºæ¼”ç¤ºå›¾ç¤º å½’å¹¶æŽ’åº(Merge Sort) å’Œé€‰æ‹©æŽ’åºä¸€æ ·ï¼Œå½’å¹¶æŽ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨çŽ°æ¯”é€‰æ‹©æŽ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯ O(n log nï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚ ç®—æ³•ä»‹ç» å½’å¹¶æŽ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æŽ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and conquerï¼‰çš„ä¸€ä¸ªéžå¸¸å…¸åž‹çš„åº”ç”¨ã€‚å½’å¹¶æŽ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æŽ’åºæ–¹æ³•ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º 2-è·¯å½’å¹¶ã€‚ ç®—æ³•æè¿°å’Œå®žçŽ°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š æŠŠé•¿åº¦ä¸º n çš„è¾“å…¥åºåˆ—åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸º n/2 çš„å­åºåˆ—ï¼› å¯¹è¿™ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«é‡‡ç”¨å½’å¹¶æŽ’åºï¼› å°†ä¸¤ä¸ªæŽ’åºå¥½çš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆçš„æŽ’åºåºåˆ—ã€‚ 12345678910111213141516171819202122232425function mergeSort(arr) &#123; // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³• var len = arr.length; if (arr &lt; 2) return arr; var middle = Math.floor(len / 2); left = arr.slice(0, middle); right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right));&#125;function merge(left, right) &#123; var result = []; while (left.length &amp;&amp; right.length) &#123; if (left[0] &lt;= right[0]) &#123; result.push(left.shift()); &#125; else &#123; result.push(right.shift()); &#125; &#125; while (left.length) result.push(left.shift()); while (right.length) result.push(right.shift()); result();&#125; å½’å¹¶æŽ’åºåŠ¨å›¾æ¼”ç¤º å¿«é€ŸæŽ’åºï¼ˆQuicksortï¼‰ å¿«é€ŸæŽ’åºæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æŽ’åºç®—æ³•ä¹‹ä¸€ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹çš„ç®—æ³•ï¼Œé€šè¿‡é€’å½’æ–¹å¼å°†æ•°æ®ä¾æ¬¡åˆ†è§£ä¸ºåŒ…å«è¾ƒå°å…ƒç´ å’Œè¾ƒå¤§å…ƒç´ çš„ä¸åŒå­åºåˆ—ï¼Œä¼šä¸æ–­é‡å¤è¿™ä¸ªæ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰çš„åºåˆ—å…¨éƒ¨ä¸ºæœ‰åºçš„ï¼Œæœ€åŽå°†è¿™äº›å­åºåˆ—ä¸€æ¬¡æ‹¼æŽ¥èµ·æ¥ï¼Œå°±å¯å¾—åˆ°æŽ’åºå¥½çš„æ•°æ®ã€‚ ç®—æ³•æè¿°å’Œå®žçŽ°å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š è¯¥ç®—æ³•é¦–å…ˆè¦ä»Žæ•°åˆ—ä¸­é€‰å‡ºä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºæ•°ï¼ˆpivotï¼‰ã€‚æŽ¥ç€æ‰€æœ‰çš„æ•°æ®éƒ½å°†å›´ç»•è¿™ä¸ªåŸºæ•°è¿›è¡Œï¼Œå°†å°äºŽæ”¹åŸºæ•°çš„å…ƒç´ æ”¾åœ¨å®ƒçš„å·¦è¾¹ï¼Œå¤§äºŽæˆ–ç­‰äºŽå®ƒçš„æ•°å…¨éƒ¨æ”¾åœ¨å®ƒçš„å³è¾¹ï¼Œå¯¹å·¦å³ä¸¤ä¸ªå°æ•°åˆ—é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´è‡³å„åŒºé—´åªæœ‰1ä¸ªæ•°ã€‚ 12345678910111213141516function quickSort(arr)&#123; if ( arr.length == 0) &#123; return []; &#125; var left = []; var right = []; var pivot = arr[0]; for (var i = 1; i &lt; arr.length; i++) &#123; if (arr[i] &lt; pivot) &#123; left.push(arr[i]); &#125; else &#123; right.push(arr[i]); &#125; &#125; return quickSort(left).concat( pivot, quickSort(right));&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ·±å…¥å¯¹è±¡]]></title>
    <url>%2F2018%2F03%2F07%2FJavaScript%E6%B7%B1%E5%85%A5%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºå¯¹è±¡ç®€å•åšæ³•ä½¿ç”¨ Object æž„é€ å‡½æ•°åˆ›å»º123// å¯¹è±¡å®žä¾‹çš„åˆ›å»ºvar obj = new Object();obj.key = "value"; //ä½¿ç”¨æž„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶èµ‹å€¼s ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•åˆ›å»º1234var obj = &#123; key1: "value1", key2: "value2"&#125;; å­—é¢é‡è¡¨ç¤ºæ³•ä¸Ž Object æž„é€ å‡½æ•°åˆ›å»ºæ³•å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨å­—é¢é‡è¡¨ç¤ºæ³•é‡Œä½ å¯ä»¥ç»™å¯¹è±¡æ·»åŠ å¤šä¸ª é”®/å€¼ å¯¹ï¼Œä½†æ˜¯åœ¨æž„é€ å½¢å¼ä¸­ä½ å¿…é¡»é€ä¸ªæ·»åŠ å±žæ€§ã€‚ çŽ°åœ¨ ES6 å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼š 123456789101112131415161718let age = 20;let sex = "sexy";let obj = &#123; name: "jay", // ç®€æ´è¡¨ç¤ºæ³•ï¼Œç­‰åŒäºŽ age: age age, // ç®€æ´è¡¨ç¤ºæ³•ï¼Œç­‰åŒäºŽ sayNameï¼š function() &#123;&#125; sayName() &#123;&#125;, //å±žæ€§åè¡¨è¾¾å¼ï¼Œç­‰åŒäºŽ lover:'rose' ["lo" + "ver"]: "rose", // å±žæ€§åè¡¨è¾¾å¼ï¼Œç­‰åŒäºŽ sexy: 'male' [sex]: "male"&#125;; æ³¨æ„ï¼Œå±žæ€§åè¡¨è¾¾å¼å¦‚æžœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å°†å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸² â€˜[object Object]â€™ï¼Œè¿™ä¸€ç‚¹è¦ç‰¹åˆ«å°å¿ƒã€‚ å·¥åŽ‚æ¨¡å¼å³ç”¨å‡½æ•°æ¥å°è£…åˆ›å»ºå¯¹è±¡çš„ç»†èŠ‚ã€‚å¤šæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ¥åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡ã€‚ 123456789101112function createPerson(name, age) &#123; var o = &#123;&#125;; o.name = name; o.age = age; o.sayName = function() &#123; console.log(this); &#125;; return o;&#125;var a = createPerson("a", 20);var b = createPerson("b", 22); å·¥åŽ‚æ¨¡å¼è™½ç„¶è§£å†³å¤šåˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡çš„é—®é¢˜ï¼Œä½†å´æ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«çš„é—®é¢˜ï¼ˆå³æ€Žæ ·çŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„ç±»åž‹ï¼‰ã€‚ æ¨¡ä»¿â€˜ç±»â€™çš„è®¾è®¡æž„é€ å‡½æ•°æ¨¡å¼æž„é€ å‡½æ•°åŒ…æ‹¬åƒ Array,Object è¿™æ ·çš„åŽŸç”Ÿæž„é€ å‡½æ•°ï¼Œä»–ä»¬åœ¨ js è¿è¡Œæ—¶ä¼šè‡ªåŠ¨å‡ºçŽ°åœ¨æ‰§è¡ŒçŽ¯å¢ƒä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æž„é€ å‡½æ•°ï¼Œä»Žè€Œå®šä¹‰è‡ªå®šä¹‰ç±»åž‹çš„å±žæ€§å’Œæ–¹æ³•ã€‚çŽ°åœ¨æž„é€ å‡½æ•°é‡å†™ä¸Šä¸ªä¾‹å­ï¼š 12345678910function Person(name, age) &#123; this.name = name; this.age = age; this.sayName = function() &#123; console.log(this); &#125;;&#125;let a = new Person("a", 20);a instanceof Person; // true æž„é€ å‡½æ•°å°±æ˜¯æ™®é€šçš„å‡½æ•°ï¼Œä¸å­˜åœ¨ç‰¹æ®Šè¯­æ³•ã€‚æž„é€ å‡½æ•°ä¸Žå…¶ä»–å‡½æ•°å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºŽè°ƒç”¨ä»–ä»¬çš„æ–¹å¼ä¸åŒã€‚ä»»ä½•å‡½æ•°åªè¦é€šè¿‡newæ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæž„é€ å‡½æ•°ã€‚ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæž„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢æ“ä½œï¼š åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[Prototype]] é“¾æŽ¥ã€‚ è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨æ—¶çš„ thisã€‚ å¦‚æžœå‡½æ•°æ²¡æœ‰è¿”å›žå…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆ new è¡¨è¾¾å¼çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›žè¿™ä¸ªæ–°å¯¹è±¡ã€‚ ç”±äºŽæž„é€ å‡½æ•°è°ƒç”¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ [[Prototype]] é“¾æŽ¥ï¼Œä¹Ÿå°±æ˜¯æŠŠæ–°å¯¹è±¡çš„åŽŸåž‹é“¾æŒ‡å‘æž„é€ å‡½æ•°çš„ prototypeã€‚æ‰€ä»¥ä½¿ç”¨instanceofæˆ–isPrototypeOfæ–¹æ³•å¯ä»¥åˆ¤æ–­ä»–ä»¬çš„ç±»åž‹ã€‚ ä¸Šé¢è¿™ç§æž„é€ å‡½æ•°è§£å†³äº†å¯¹è±¡ç±»åž‹è¯†åˆ«çš„é—®é¢˜ï¼Œä½†æ˜¯æ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®žä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€éï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œa å’Œ b éƒ½æœ‰ä¸ªåä¸ºsayName()çš„æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•è™½ç„¶åå­—ã€å†…å®¹ã€åŠŸèƒ½ç›¸åŒï¼Œä½†å´åˆ†åˆ«åœ¨ a å’Œ b ä¸­éƒ½é‡æ–°åˆ›å»ºäº†ä¸€æ¬¡ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ æ›´å¥½çš„æ–¹æ³•åº”è¯¥æ˜¯å°†å…¬ç”¨çš„æ–¹æ³•æ”¾åˆ°ä»–ä»¬çš„åŽŸåž‹ä¸Šï¼Œä¹Ÿå°±æ˜¯æŽ¥ä¸‹æ¥è¦è¯´çš„åŽŸåž‹æ¨¡å¼ã€‚ åŽŸåž‹æ¨¡å¼æ‰€æœ‰å‡½æ•°éƒ½æœ‰ä¸€ä¸ªä¸å¯æžšä¸¾çš„ prototype(åŽŸåž‹)å±žæ€§ï¼Œè¿™ä¸ªå±žæ€§æ—¶ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚ 123function Foo() &#123;&#125;Foo.prototype; // &#123;&#125; ä¸Šä¸€èŠ‚ã€æž„é€ å‡½æ•°æ¨¡å¼ã€‘é‡Œé¢æœ‰è¯´ï¼Œnewæ“ä½œç¬¦ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¯¥å¯¹è±¡çš„åŽŸåž‹é“¾æŒ‡å‘æž„é€ å‡½æ•°çš„ prototype æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ è¿™é‡Œå‡ºçŽ°äº†ä¸€ä¸ªé‡ç‚¹è¯åŽŸåž‹é“¾ï¼Œæˆ‘ä»¬å…ˆè§£é‡Šä¸‹ä»€ä¹ˆå«åšåŽŸåž‹é“¾ã€‚ åŽŸåž‹é“¾ä¹Ÿè¢«ç§°ä¸º [[Prototype]]é“¾ï¼Œæ˜¯å¯¹è±¡çš„å†…ç½®å±žæ€§ã€‚åŽŸåž‹é“¾æ˜¯ ECMAScript ä¸­å®žçŽ°ç»§æ‰¿çš„ä¸»è¦åŠžæ³•ï¼Œå…¶åŸºæœ¬æ€æƒ³å°±æ˜¯è®©ä¸€ä¸ªå¼•ç”¨ç±»åž‹ç»§æ‰¿å¦ä¸€ä¸ªå¼•ç”¨ç±»åž‹çš„å±žæ€§å’Œå’Œæ–¹æ³•ã€‚ ä¾‹å¦‚æˆ‘ä»¬æ–°å»ºä¸ªå¯¹è±¡ aï¼Œç„¶åŽç»™å®ƒæŒ‡å®šå®ƒçš„åŽŸåž‹é“¾çš„æŒ‡å‘ï¼š 123456var a = &#123;&#125;;var b = &#123; x: 2 &#125;;Object.setPrototypeOf(a, b);a.x; // 2 è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬é€šè¿‡Object.setPrototypeOf()æ–¹æ³•æŠŠ a çš„åŽŸåž‹é“¾æŒ‡å‘ bï¼Œç„¶åŽ a å°±ç»§æ‰¿äº† b çš„å±žæ€§ï¼Œå½“æŸ¥è¯¢ a ä¸­æ²¡æœ‰çš„ x å±žæ€§æ—¶ï¼Œä¼šæŒ‡å‘åˆ° b.x çš„å€¼ã€‚ è¿™é‡ŒåŽŸç†ä¸Šè¯´æ˜¯å§”æ‰˜æ¯”è¯´æ˜¯ç»§æ‰¿æ›´ç¬¦åˆçœŸå®žæƒ…å†µã€‚å› ä¸ºçœŸå®žæƒ…å†µå¦‚ä¸Šæ®µæ‰€è¯´æ˜¯ a æŠŠè‡ªèº«æ²¡æœ‰çš„å±žæ€§æŸ¥è¯¢å§”æ‰˜ç»™ bï¼Œå¦‚æžœ b ä¸­ä¹Ÿæ²¡ x å±žæ€§çš„è¯ï¼Œç³»ç»Ÿä¼šç»§ç»­å¾ªç€åŽŸåž‹é“¾å¾€ä¸ŠæŸ¥ã€‚æ‰€æœ‰æ™®é€šçš„ [[Prototype]] é“¾æœ€ç»ˆéƒ½ä¼šæŒ‡å‘å†…ç½®çš„ Object.prototypeã€‚å¦‚æžœ Object.prototype ä¹Ÿæ²¡æœ‰çš„è¯å°±ä¼šæç¤º undefinedã€‚ è¿™é‡Œæç¤ºä¸€ä¸‹ï¼Œç”±äºŽæ‰€æœ‰æ™®é€šçš„å¯¹è±¡éƒ½â€æºäºŽâ€œï¼ˆæˆ–è€…è¯´æŠŠ [[Prototype]] é“¾çš„é¡¶ç«¯è®¾ç½®ä¸ºï¼‰è¿™ä¸ª Object.prototype å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒåŒ…å« Javascript ä¸­è®¸å¤šé€šç”¨çš„åŠŸèƒ½ã€‚ ä¸Šé¢è¯´è¿‡ï¼Œnew æ“ä½œç¬¦ä¼šæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŠŠè¯¥å¯¹è±¡çš„åŽŸåž‹é“¾æŒ‡å‘æž„é€ å‡½æ•°çš„ prototype å±žæ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼ˆå³åŽŸåž‹å¯¹è±¡ï¼‰ã€‚ä½¿ç”¨åŽŸåž‹å¯¹è±¡çš„å¥½å¤„æ˜¯å¯ä»¥è®©æ‰€æœ‰å¯¹è±¡å®žä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„å±žæ€§å’Œæ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œä¸å¿…åœ¨æž„é€ å‡½æ•°ä¸­å®šä¹‰å¯¹è±¡å®žä¾‹çš„ä¿¡æ¯ï¼Œè€Œæ˜¯å¯ä»¥å°†è¿™äº›ä¿¡æ¯ç›´æŽ¥æ·»åŠ åˆ°åŽŸåž‹å¯¹è±¡ä¸­ã€‚ä¾‹å¦‚ï¼š 1234567891011function Person() &#123;&#125;Person.prototype = &#123; name: "h", sayName() &#123; alert(this.name); &#125;&#125;;var a = new Person();a.sayName(); // h è¿™ç§æ–¹æ³•å› ä¸ºé‡å†™äº† Person.prototype,æ‰€ä»¥é»˜è®¤çš„ Person.prototype.constructor ä¹Ÿä¼šä¸¢å¤±ï¼Œå¦‚æžœè¦ä¿®å¤ constructor,å¯ä»¥ä½¿ç”¨Object.defineProperty(). 1234Object.defineProperty(Person.prototype, "constructor", &#123; enumerable: false, value: Person&#125;); ä¸è¿‡å®žä¾‹ä¸€èˆ¬éƒ½æ˜¯è¦æœ‰å±žäºŽè‡ªå·±çš„å…¨éƒ¨å±žæ€§çš„ã€‚æ‰€ä»¥æ—¥å¸¸å¼€å‘ä¸­è®¾è®¡å¯¹è±¡æ›´å¸¸è§çš„åšæ³•æ˜¯æž„é€ å‡½æ•°æ¨¡å¼è·ŸåŽŸåž‹æ¨¡å¼ç»„åˆä½¿ç”¨ï¼š 12345678910function Person(name) &#123; this.name = name;&#125;Person.prototype.sayName = function() &#123; alert(this.name);&#125;;let a = new Person("Jack");a.sayName(); // Jack è¿™é‡Œå¾ˆåƒä¸€äº›é¢å‘â€œç±»â€çš„è¯­è¨€çš„è¡Œä¸ºï¼Œa å’Œ b æ˜¯ Person ç±»çš„å®žä¾‹ï¼Œa å’Œ b ç»§æ‰¿äº† Person ç±»çš„ç‰¹æ€§ã€‚ä½†å®žé™…ä¸Š JavaScript å’Œé¢å‘ç±»çš„è¯­è¨€ä¸åŒï¼Œå®ƒå¹¶æ²¡æœ‰ç±»ä½œä¸ºå¯¹è±¡çš„æŠ½è±¡æ¨¡å¼æˆ–è€…è¯´è“å›¾ã€‚JavaScript ä¸­åªæœ‰å¯¹è±¡ã€‚ ä½¿ç”¨ ES6 Classä¸Šé¢è¯´çš„åŽŸåž‹æ˜¯é€šè¿‡æž„é€ å‡½æ•°ï¼Œå®šä¹‰å¹¶ç”Ÿæˆæ–°å¯¹è±¡ã€‚ä½†è¿™ç§å†™æ³•è·Ÿä¼ ç»Ÿçš„é¢å‘å¯¹è±¡è¯­è¨€ï¼ˆæ¯”å¦‚ C++å’Œ Javaï¼‰å·®å¼‚å¾ˆå¤§ï¼Œå¾ˆå®¹æ˜“è®©æ–°å­¦ä¹ è¿™é—¨è¯­è¨€çš„ç¨‹åºå‘˜æ„Ÿåˆ°å›°æƒ‘ã€‚ES6 æä¾›äº†æ›´æŽ¥è¿‘ä¼ ç»Ÿè¯­è¨€çš„å†™æ³•ï¼Œå¼•å…¥äº† Classï¼ˆç±»ï¼‰è¿™ä¸ªæ¦‚å¿µï¼Œä½œä¸ºå¯¹è±¡çš„æ¨¡æ¿ã€‚ ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ ES6 çš„ class è¯­æ³•æ˜¯å¹¶ä¸æ˜¯å‘ JavaScript ä¸­å¼•å…¥äº†ä¸€ç§æ–°çš„â€œ ç±»â€ æœºåˆ¶ã€‚ class åŸºæœ¬ä¸Šåªæ˜¯çŽ°æœ‰ [[Prototype]] æœºåˆ¶çš„ä¸€ç§è¯­æ³•ç³–ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œ class å¹¶ä¸ä¼šåƒä¼ ç»Ÿé¢å‘ç±»çš„è¯­è¨€ä¸€æ ·åœ¨å£°æ˜Žæ—¶é™æ€å¤åˆ¶æ‰€æœ‰è¡Œä¸ºã€‚ å¦‚æžœä½ ï¼ˆ æœ‰æ„æˆ–æ— æ„ï¼‰ ä¿®æ”¹æˆ–è€…æ›¿æ¢äº†çˆ¶â€œ ç±»â€ ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œ é‚£å­â€œ ç±»â€ å’Œæ‰€æœ‰å®žä¾‹éƒ½ä¼šå—åˆ°å½±å“ï¼Œ å› ä¸ºå®ƒä»¬åœ¨å®šä¹‰æ—¶å¹¶æ²¡æœ‰è¿›è¡Œå¤åˆ¶ï¼Œ åªæ˜¯ä½¿ç”¨åŸºäºŽ [[Prototype]] çš„å®žæ—¶å§”æ‰˜ã€‚ ES6 çš„ç±»ï¼Œå®Œå…¨å¯ä»¥çœ‹ä½œæž„é€ å‡½æ•°çš„å¦ä¸€ç§å†™æ³•ã€‚ 123class Foo &#123;&#125;typeof Foo; // 'function'Foo === Foo.prototype.constructor; // true é¢ä»£ç è¡¨æ˜Žï¼Œç±»çš„æ•°æ®ç±»åž‹å°±æ˜¯å‡½æ•°ï¼Œç±»æœ¬èº«å°±æŒ‡å‘æž„é€ å‡½æ•°ã€‚ ä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯ç›´æŽ¥å¯¹ç±»ä½¿ç”¨ new å‘½ä»¤ï¼Œè·Ÿæž„é€ å‡½æ•°çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ã€‚ 123456789101112class Foo &#123; constructor() &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;let a = new Foo("a");a.sayName(); // a æž„é€ å‡½æ•°çš„ prototype å±žæ€§ï¼Œåœ¨ ES6 çš„â€˜ç±»â€™ä¸Šç»§ç»­å­˜åœ¨ï¼Œäº‹å®žä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰ä¸Šç±»çš„ prototype å±žæ€§ä¸Šé¢ã€‚ 123456789101112class Foo &#123; constructor() &#123;&#125; toString() &#123;&#125; toValue() &#123;&#125;&#125;// ç­‰åŒäºŽFoo.prototype = &#123; toString() &#123;&#125;, toValue() &#123;&#125;&#125;; ç”±äºŽç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨ prototype å¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥ç±»çš„æ–°æ–¹æ³•å¯ä»¥æ·»åŠ åœ¨ prototype å¯¹è±¡ä¸Šé¢ã€‚Object.assign æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚ 12345678class Foo &#123; constructor() &#123;&#125;&#125;Object.assign(Foo.prototype, &#123; toString() &#123;&#125;, toValue() &#123;&#125;&#125;); ES6 Class ä¸Ž æ™®é€šæž„é€ å‡½æ•°çš„ä¸åŒç‚¹ä¸»è¦æœ‰ 4 ä¸ªï¼š (1)constructor æ–¹æ³• constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ new å‘½ä»¤ç”Ÿæˆå¯¹è±¡å®žä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æžœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚ constructoræ–¹æ³•é»˜è®¤è¿”å›žå®žä¾‹å¯¹è±¡ï¼ˆå³ thisï¼‰ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›žå¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚ 1234567class Foo &#123; constructor() &#123; return Object.create(null); &#125;&#125;new Foo() instanceof Foo; // false ä¸Šé¢ä»£ç ä¸­ï¼Œconstructor å‡½æ•°è¿”å›žä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œç»“æžœå¯¼è‡´å®žä¾‹å¯¹è±¡ä¸æ˜¯ Foo ç±»çš„å®žä¾‹ã€‚ ç±»çš„æž„é€ å‡½æ•°ï¼Œä¸ä½¿ç”¨ new æ˜¯æ²¡æ³•è°ƒç”¨çš„ï¼Œä¼šæŠ¥é”™ã€‚è¿™æ˜¯å®ƒè·Ÿæ™®é€šæž„é€ å‡½æ•°çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«ï¼ŒåŽè€…ä¸ç”¨ new ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚ 1234567class Foo &#123; constructor() &#123; return Object.create(null); &#125;&#125;Foo();// TypeError: Class constructor Foo cannot be invoked without 'new' (2)ç±»çš„å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æžšä¸¾çš„ï¼ˆnon-enumerableï¼‰ã€‚è¿™ä¸€ç‚¹ä¸Žæ™®é€šæž„é€ å‡½æ•°çš„è¡Œä¸ºä¸ä¸€è‡´ã€‚ 123456789101112/ classclass Foo &#123; constructor(name) &#123; this.name = name &#125; sayName()&#123; console.log(this.name) &#125;&#125;Object.keys(Foo.prototype) // []Object.getOwnPropertyNames(Foo.prototype) // ["constructor","sayName"] 1234567891011//æž„é€ å‡½æ•°function Foo(name) &#123; this.name = name;&#125;Foo.prototype.sayName = function() &#123; alert(this.name);&#125;;Object.keys(Foo.prototype); // ["sayName"]Object.getOwnPropertyNames(Foo.prototype); // ["constructor", "sayName"] ä¸Šé¢ä»£ç ä¸­ï¼ŒsayName æ–¹æ³•æ˜¯ Foo ç±»å†…éƒ¨å®šä¹‰çš„æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸å¯æžšä¸¾çš„ã€‚è€Œå®šä¹‰åœ¨ Foo.prototype ä¸­çš„è¯åˆ™æ˜¯å¯æžšä¸¾çš„ã€‚ (3) Class ä¸å­˜åœ¨å˜é‡æå‡ï¼ˆhoistï¼‰ï¼Œè¿™ç‚¹ä¸Ž ES5 å®Œå…¨ä¸åŒã€‚ 12new Foo(); // ReferenceErrorclass Foo &#123;&#125; ä¸Šé¢ä»£ç ä¸­ï¼ŒFoo ç±»ä½¿ç”¨åœ¨å‰ï¼Œå®šä¹‰åœ¨åŽï¼Œè¿™æ ·ä¼šæŠ¥é”™ï¼Œå› ä¸º ES6 ä¸ä¼šæŠŠç±»çš„å£°æ˜Žæå‡åˆ°ä»£ç å¤´éƒ¨ã€‚è¿™ç§è§„å®šçš„åŽŸå› ä¸Žä¸‹æ–‡è¦æåˆ°çš„ç»§æ‰¿æœ‰å…³ï¼Œå¿…é¡»ä¿è¯å­ç±»åœ¨çˆ¶ç±»ä¹‹åŽå®šä¹‰ã€‚ (4)å­ç±»çš„ç»§æ‰¿ Class ä¹‹é—´å¯ä»¥é€šè¿‡ extends å…³é”®å­—å®žçŽ°ç»§æ‰¿ï¼Œè¿™æ¯”æ™®é€šæž„é€ å‡½æ•°é€šè¿‡ä¿®æ”¹åŽŸåž‹é“¾å®žçŽ°ç»§æ‰¿ï¼Œè¦æ¸…æ™°å’Œæ–¹ä¾¿å¾ˆå¤šã€‚ 12class Foo &#123;&#125;class Bar extends Foo &#123;&#125; ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ª Bar ç±»ï¼Œè¯¥ç±»é€šè¿‡ extends å…³é”®å­—ï¼Œç»§æ‰¿äº† Foo ç±»çš„æ‰€æœ‰å±žæ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ç”±äºŽæ²¡æœ‰éƒ¨ç½²ä»»ä½•ä»£ç ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªç±»å®Œå…¨ä¸€æ ·ï¼Œç­‰äºŽå¤åˆ¶äº†ä¸€ä¸ª Foo ç±»ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨ Bar å†…éƒ¨åŠ ä¸Šä»£ç ã€‚ 1234567891011121314151617181920212223242526272829class Foo &#123; constructor(name, age) &#123; this.name = name; this.age = age; &#125; sayProfile() &#123; return `hello, my name is $&#123;this.name&#125;, $&#123;this.age&#125; years old`; &#125;&#125;class Bar extends Foo &#123; constructor(name, age, lover) &#123; super(name, age); // è°ƒç”¨çˆ¶ç±»çš„ constructor(name,age), çº¦ç­‰äºŽæ™®é€šæž„é€ å‡½æ•°ä¸­çš„ Foo.call(this, name, age) this.age = Number(this.age) + 5; this.lover = lover; &#125; sayIntro() &#123; alert( super.sayProfile() + `, my lover is $&#123;this.lover&#125;, again, I am $&#123;this.name&#125;` ); &#125;&#125;var a = new Bar("Jack", "20", "Rose");a.sayIntro(); // "hello, my name is Jack, 25 years old, my lover is Rose, again, I am ä¸Šé¢ä»£ç ä¸­ï¼Œå­ç±» Bar çš„constructoræ–¹æ³•å’ŒsayIntroæ–¹æ³•ä¹‹ä¸­ï¼Œéƒ½å‡ºçŽ°äº†superå…³é”®å­—ï¼Œsuperè¿™ä¸ªå…³é”®å­—ï¼Œæ—¢å¯ä»¥å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¯¹è±¡ä½¿ç”¨ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„ç”¨æ³•å®Œå…¨ä¸åŒã€‚ ç¬¬ä¸€ç§æƒ…å†µï¼Œsuperä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æž„é€ å‡½æ•°ã€‚ES6 è¦æ±‚ï¼Œå­ç±»çš„æž„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ å­ç±» Bar çš„æž„é€ å‡½æ•°ä¸­super(name, age)ç›¸å½“äºŽFoo.prototype.constructor.call(this, name, age)ã€‚ä½œä¸ºå‡½æ•°æ—¶ï¼Œsuper()åªèƒ½ç”¨åœ¨å­ç±»çš„æž„é€ å‡½æ•°ä¹‹ä¸­ï¼Œç”¨åœ¨å…¶ä»–åœ°æ–¹å°±ä¼šæŠ¥é”™ã€‚ è¦æ³¨æ„çš„æ˜¯ï¼Œå­ç±»å¿…é¡»åœ¨constructoræ–¹æ³•ä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®žä¾‹æ—¶ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„ this å¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿çˆ¶ç±»çš„ this å¯¹è±¡ï¼Œç„¶åŽå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚å¦‚æžœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ° this å¯¹è±¡ã€‚åœ¨å­ç±»çš„æž„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰è°ƒç”¨superä¹‹åŽï¼Œæ‰å¯ä»¥ä½¿ç”¨ this å…³é”®å­—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºå­ç±»å®žä¾‹çš„æž„å»ºï¼Œæ˜¯åŸºäºŽå¯¹çˆ¶ç±»å®žä¾‹åŠ å·¥ï¼Œåªæœ‰superæ–¹æ³•æ‰èƒ½è¿”å›žçˆ¶ç±»å®žä¾‹ã€‚ æ™®é€šæž„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œå®žè´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®žä¾‹å¯¹è±¡ thisï¼Œç„¶åŽå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ° this ä¸Šé¢ï¼ˆFoo.call(this)ï¼‰ã€‚ES6 Class çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®žè´¨æ˜¯å…ˆåˆ›é€ çˆ¶ç±»çš„å®žä¾‹å¯¹è±¡ thisï¼ˆæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨superæ–¹æ³•ï¼‰ï¼Œç„¶åŽå†ç”¨å­ç±»çš„æž„é€ å‡½æ•°ä¿®æ”¹ thisã€‚ å¦‚æžœå­ç±»æ²¡æœ‰å®šä¹‰constructoræ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ï¼Œä»£ç å¦‚ä¸‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡æœ‰æ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä»»ä½•ä¸€ä¸ªå­ç±»éƒ½æœ‰constructoræ–¹æ³•ï¼š 123constructor (...args) &#123; super(...args);&#125; ç¬¬äºŒç§æƒ…å†µï¼Œsuperä½œä¸ºå¯¹è±¡æ—¶ï¼Œåœ¨æ™®é€šæ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŽŸåž‹å¯¹è±¡ï¼›åœ¨é™æ€æ–¹æ³•ä¸­ï¼ŒæŒ‡å‘çˆ¶ç±»ã€‚ä¸Šé¢ä»£ç ä»£ç ä¸­çš„ super.sayProfile()å°±æ˜¯å°†superå½“ä½œä¸€ä¸ªå¯¹è±¡ä½¿ç”¨ã€‚è¿™æ—¶ï¼Œsuperåœ¨æ™®é€šæ–¹æ³•ä¹‹ä¸­ï¼ŒæŒ‡å‘ Foo.prototypeï¼Œæ‰€ä»¥super.sayProfile()å°±ç›¸å½“äºŽFoo.prototype.sayProfile()ã€‚ ES6 è§„å®šï¼Œé€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œsuperä¼šç»‘å®šå­ç±»çš„ thisã€‚æ‰€ä»¥sayProfileè¾“å‡ºçš„this.ageæ˜¯å­ç±» Bar çš„ age 25 å²ã€‚ åˆšåˆšè¯´åˆ°åœ¨é™æ€æ–¹æ³•ä¸­superæŒ‡å‘çˆ¶ç±»ã€‚ é™æ€æ–¹æ³• ç±»ç›¸å½“äºŽå®žä¾‹çš„åŽŸåž‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®žä¾‹ç»§æ‰¿ã€‚å¦‚æžœåœ¨ä¸€ä¸ªæ–¹æ³•å‰ï¼ŒåŠ ä¸Š static å…³é”®å­—ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®žä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯ç›´æŽ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œè¿™å°±ç§°ä¸ºâ€œé™æ€æ–¹æ³•â€ã€‚ 12345678910class Foo &#123; static sayHi() &#123; return "hello"; &#125;&#125;Foo.sayHi(); // hellovar a = new Foo();a.sayHi(); // TypeError: a.sayHi is not a function ä¸Šé¢ä»£ç ä¸­ayHi()å°±æ˜¯ Foo çš„é™æ€æ–¹æ³•ï¼Œå®ƒåªèƒ½é€šè¿‡ Foo è°ƒç”¨ï¼Œä¸èƒ½é€šè¿‡ Foo çš„å®žä¾‹è°ƒç”¨ã€‚ å¦‚æžœsuperä½œä¸ºå¯¹è±¡ç”¨åœ¨é™æ€æ–¹æ³•ä¸­ï¼Œè¿™æ—¶superå°†æŒ‡å‘çˆ¶ç±»ï¼Œè€Œä¸æ˜¯çˆ¶ç±»çš„åŽŸåž‹å¯¹è±¡ã€‚ 123456789101112131415161718class Foo &#123; static sayHi() &#123; // çˆ¶ç±» return "hello"; &#125; sayHi() &#123; // åŽŸåž‹ return "oops"; &#125;&#125;class Bar extends Foo &#123; static sayBob() &#123; return super.sayHi() + "Bob"; &#125;&#125;Bar.sayBob(); // 'hello Bob' é¢å‘å§”æ‰˜çš„è®¾è®¡ï¼ˆå¯¹è±¡å…³è”é£Žæ ¼ï¼‰æœ‰äº›å¼€å‘è€…æ¯”è¾ƒè¯Ÿç—…è¿™ç§æ¨¡ä»¿â€œç±»â€çš„è®¾è®¡æ¨¡å¼ï¼Œå› ä¸ºç»§æ‰¿æ„å‘³ç€å¤åˆ¶ï¼ŒJavaScriptï¼ˆé»˜è®¤ï¼‰å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡å±žæ€§ã€‚ç›¸åï¼ŒJavaScript ä¼šåœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼ˆæˆ‘ä»¬æŠŠè¿™ç§å…³è”æˆä¸ºåŽŸåž‹é“¾ï¼‰ï¼Œè¿™æ ·å¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§å’Œå‡½æ•°ã€‚å§”æ‰˜è¿™ä¸ªæœ¯è¯­å¯ä»¥æ›´åŠ å‡†ç¡®åœ°æè¿° JavaScript ä¸­çš„å¯¹è±¡å…³è”æœºåˆ¶ã€‚ å³ä¾¿é€šè¿‡ ES6 class è®© js çœ‹èµ·æ¥æ›´åƒâ€œç±»â€ï¼Œä¹Ÿåªæ˜¯ä¸€ç§æ¨¡ä»¿çš„å‡è±¡ã€‚åœ¨ä¼ ç»Ÿçš„é¢å‘ç±»çš„è¯­è¨€ä¸­ï¼Œç±»å®šä¹‰ä¹‹åŽå°±ä¸ä¼šè¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥ç±»çš„è®¾è®¡æ¨¡å¼å°±ä¸æ”¯æŒä¿®æ”¹ï¼Œä½†æ˜¯ Javascript æœ€å¼ºå¤§çš„ç‰¹æ€§å°±æ˜¯å®ƒçš„åŠ¨æ€æ€§ï¼Œä»»ä½•å¯¹è±¡çš„å®šä¹‰éƒ½å¯ä»¥ä¿®æ”¹ï¼ˆé™¤éžä½ æŠŠå®ƒå®šä¹‰ä¸ºä¸å¯å˜ï¼‰ã€‚ ä¸€äº›å¼€å‘è€…è®¤ä¸º ES6 çš„ class æƒ³ä¼ªè£…æˆä¸€ç§å¾ˆå¥½çš„è¯­æ³•é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å®žé™…ä¸Šå´è®©é—®é¢˜æ›´éš¾è§£å†³ä¸”è®© JavaScript æ›´éš¾ç†è§£ã€‚å› ä¸ºå®ƒéšè—äº† JavaScript å¯¹è±¡æœ€é‡è¦çš„æœºåˆ¶â€”â€”å¯¹è±¡ä¹‹é—´çš„å®žæ—¶å§”æ‰˜æœºåˆ¶ã€‚è®©æœ¬æ¥ç®€æ´ä¼˜é›…çš„ [[Prototype]] æœºåˆ¶å˜çš„éžå¸¸åˆ«æ‰­ã€‚ æˆ‘ä»¬æ¯”è¾ƒä¸‹ç»§æ‰¿ä¸Žå§”æ‰˜è®¾è®¡çš„åŒºåˆ«ã€‚ æˆ‘ä»¬å…ˆæƒ³æƒ³ç±»ï¼ˆç»§æ‰¿ï¼‰çš„è®¾è®¡æ–¹æ³•ï¼šå…ˆå®šä¹‰ä¸€ä¸ªé€šç”¨çš„çˆ¶ç±» Fï¼Œåœ¨çˆ¶ç±» F ä¸­å®šä¹‰æ‰€æœ‰ä»»åŠ¡éƒ½æœ‰çš„è¡Œä¸ºï¼ŒæŽ¥ç€å®šä¹‰å­ç±» a å’Œ bï¼Œä»–ä»¬éƒ½ç»§æ‰¿è‡ªçˆ¶ç±»å¹¶ä¸”ä¼šæ·»åŠ ä¸€äº›ç‰¹æ®Šè¡Œä¸ºæ¥å¤„ç†å¯¹åº”çš„ä»»åŠ¡ã€‚ å†ç”¨å§”æ‰˜çš„æ€æƒ³æ¥è€ƒè™‘åŒæ ·çš„é—®é¢˜ï¼šé¦–å…ˆå…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡ Fï¼Œå®ƒåŒ…å«æ‰€æœ‰ä»»åŠ¡éƒ½å¯ä»¥ä½¿ç”¨ï¼ˆå§”æ‰˜ï¼‰çš„å…·ä½“è¡Œä¸ºã€‚æŽ¥ç€ï¼Œå¯¹äºŽæ¯ä¸ªä»»åŠ¡ä½ éƒ½ä¼šå®šä¹‰ä¸€ä¸ªå¯¹è±¡æ¥å‚¨å­˜å¯¹åº”çš„æ•°æ®å’Œè¡Œä¸ºï¼Œä½ ä¼šæŠŠç‰¹å®šçš„ä»»åŠ¡å¯¹è±¡éƒ½å…³è”åˆ° F åŠŸèƒ½å¯¹è±¡ä¸Šé¢ï¼Œè®©ä»–ä»¬åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥è¿›è¡Œå§”æ‰˜ã€‚åŸºæœ¬ä½ å¯ä»¥æƒ³è±¡æˆ a å’Œ F ä¹‹é—´æ˜¯å…„å¼Ÿå…³ç³»ï¼Œa å®Œæˆä¸äº†çš„ä»»åŠ¡ä¸œè¥¿éƒ½å§”æ‰˜ç»™ F å®Œæˆã€‚ JavaScript ä¸­åŽŸåž‹é“¾å®žé™…ä¸Šæ˜¯å§”æ‰˜çš„å…³ç³»è€Œä¸æ˜¯ç»§æ‰¿ã€‚å§”æ‰˜è¡Œä¸ºæ„å‘³ç€æŸäº›å¯¹è±¡åœ¨æ‰¾ä¸åˆ°å±žæ€§æˆ–æ–¹æ³•å¼•ç”¨æ—¶ä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä½¿ç”¨ç±»è®¾è®¡é£Žæ ¼çš„ä¾‹å­ï¼š 1234567891011121314151617function Foo(name) &#123; this.name = name;&#125;Foo.prototype.intro = function() &#123; return "my name is " + this.name;&#125;;function Bar(name) &#123; Foo.call(this, name);&#125;Bar.prototype = Object.create(Foo.prototype);Bar.prototype.speak = function() &#123; alert(this.intro());&#125;;var a = new Bar("a");a.speak(); // my name is a è¿™ä¸ªä¾‹å­é‡Œå­ç±» Bar ç»§æ‰¿äº†çˆ¶ç±» Fooï¼Œç„¶åŽç”Ÿæˆäº† a è¿™ä¸ªå®žä¾‹ï¼Œa é€šè¿‡ new æž„é€ å‡½æ•°å§”æ‰˜äº† Bar.prototypeï¼ŒBar.prototype é€šè¿‡Object.create()æ–¹æ³•å§”æ‰˜äº† Foo.prototype()ã€‚è¿™ç§é£Žæ ¼å¾ˆå¸¸è§ï¼Œä½ åº”è¯¥å·²ç»ç†Ÿæ‚‰äº†ã€‚ å½“ç„¶æˆ‘ä»¬å¯ä»¥ç”¨ class è®©è¿™æ®µä»£ç çœ‹èµ·æ¥æ›´ç®€æ´æ˜Žäº†ï¼š 123456789101112131415161718192021class Foo &#123; constructor(name) &#123; this.name = name; &#125; intro() &#123; return "my name is " + this.name; &#125;&#125;class Bar extends Foo &#123; constructor(name) &#123; super(name); &#125; speak() &#123; alert(super.intro()); &#125;&#125;var a = new Bar("a");a.speak(); çŽ°åœ¨å†æ¥çœ‹çœ‹åŒä¾‹çš„å¯¹è±¡å…³è”é£Žæ ¼çš„è®¾è®¡ï¼š 123456789101112131415161718Foo = &#123; init: function(name) &#123; this.name = name; &#125;, intro: function() &#123; return "my name is " + this.name; &#125;&#125;;Bar = Object.create(Foo);Bar.speak = function() &#123; alert(this.intro());&#125;;var a = Object.create(Bar);a.init("a");a.speak(); è¿™æ®µä»£ç ä¸­æˆ‘ä»¬åŒæ ·åˆ©ç”¨ [[Prototype]] æŠŠ a å§”æ‰˜ç»™ Bar å¹¶æŠŠ Bar å§”æ‰˜ç»™ Fooï¼Œå’Œä¸Šæ®µä»£ç ä¸€æ ·ï¼Œæˆ‘ä»¬ä»ç„¶å®žçŽ°äº†ä¸‰ä¸ªå¯¹è±¡çš„å…³è”ã€‚ ä½†éžå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™æ®µä»£ç ç®€æ´äº†è®¸å¤šï¼Œæˆ‘ä»¬åªæ˜¯æŠŠå¯¹è±¡å…³è”èµ·æ¥ï¼Œå¹¶ä¸éœ€è¦é‚£äº›æ—¢å¤æ‚åˆä»¤äººå›°æƒ‘çš„æ¨¡ä»¿ç±»çš„è¡Œä¸ºï¼ˆæž„é€ å‡½æ•°ã€åŽŸåž‹ä»¥åŠ newï¼‰ã€‚ å¯¹è±¡çš„å†…å®¹å¯¹è±¡çš„å†…å®¹æ˜¯ç”±ä¸€äº›å‚¨å­˜åœ¨ç‰¹å®šå‘½åä½ç½®çš„ï¼ˆä»»æ„ç±»åž‹çš„ï¼‰å€¼ç»„æˆçš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå±žæ€§ã€‚ getter ä¸Ž settergetterget è¯­æ³•å°†ä¸€ä¸ªå¯¹è±¡å±žæ€§ç»‘å®šåˆ°æŸ¥è¯¢è¯¥å±žæ€§æ—¶å°†è¢«è°ƒç”¨çš„ä¸€ä¸ªå‡½æ•°ä¸Šã€‚è¯¥æ–¹æ³•ä¼šè¦†ç›–å•ä¸ªå±žæ€§é»˜è®¤çš„ [[Get]] æ“ä½œï¼ˆèŽ·å¾—å±žæ€§å€¼çš„æ“ä½œï¼‰ã€‚ ç”¨æ³•ï¼š {get prop() { â€¦ } } // prop ä¸ºè¦ç»‘å®šåˆ°ç»™å®šå‡½æ•°çš„å±žæ€§å {get expression { â€¦ } } //ä»Ž ECMAScript 2015 (ES6)å¼€å§‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè®¡ç®—çš„å±žæ€§åçš„è¡¨è¾¾å¼ç»‘å®šåˆ°ç»™å®šçš„å‡½æ•°ã€‚ ä¾‹å¦‚ï¼š 12345678910111213141516171819var myObj = &#123; get a() &#123; return 2; &#125;&#125;;// ä¹Ÿå¯ä»¥é€šè¿‡ defineProperty åˆ›å»ºObject.defineProperty(myObj, "b", &#123; get: function() &#123; return this.a * 2; &#125;, enumable: true&#125;);myObj.a; // 2myObj.b; // 4myObj.a = 3;myObj.a; // 2 å¦‚ä¸Šé¢ä¾‹å­ï¼Œä¸ç®¡æ˜¯å¯¹è±¡æ–‡å­—è¯­æ³•ä¸­çš„get a() { .. }ï¼Œ è¿˜æ˜¯defineProperty(...)ä¸­çš„æ˜¾å¼å®šä¹‰ï¼Œ äºŒè€…éƒ½ä¼šåœ¨å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªä¸åŒ…å«å€¼çš„å±žæ€§ï¼Œå¯¹äºŽè¿™ä¸ªå±žæ€§çš„è®¿é—®ä¼šè‡ªåŠ¨è°ƒç”¨ä¸€ä¸ªéšè—å‡½æ•°ï¼Œå®ƒçš„è¿”å›žå€¼ä¼šè¢«å½“ä½œå±žæ€§è®¿é—®çš„è¿”å›žå€¼ã€‚ åŒæ—¶ç”±äºŽæˆ‘ä»¬åªå®šä¹‰äº† a çš„ getterï¼Œ æ‰€ä»¥å¯¹ a çš„å€¼è¿›è¡Œè®¾ç½®æ—¶ set æ“ä½œä¼šå¿½ç•¥èµ‹å€¼æ“ä½œï¼Œä¸”ä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚ ä¸ºäº†è®©å±žæ€§æ›´åˆç†ï¼Œ æˆ‘ä»¬è¿˜åº”å½“å®šä¹‰ setterã€‚ setterset è¯­æ³•ä¼šè¦†ç›–å•ä¸ªå±žæ€§é»˜è®¤çš„ [[Put]] æ“ä½œï¼ˆèµ‹å€¼æ“ä½œï¼‰ã€‚ é€šå¸¸æ¥è¯´ getter å’Œ setter æ˜¯æˆå¯¹å‡ºçŽ°çš„ï¼ˆ åªå®šä¹‰ä¸€ä¸ªçš„è¯é€šå¸¸ä¼šäº§ç”Ÿæ„æ–™ä¹‹å¤–çš„è¡Œä¸ºï¼‰ã€‚ ä¾‹å¦‚ï¼š 1234567891011var myObj = &#123; get a() &#123; return this._a_; &#125;, set a(val) &#123; this._a_ = val * 2; &#125;&#125;;myObj.a = 2;myObj.a; // 4 æ³¨æ„ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œ å®žé™…ä¸Šæˆ‘ä»¬æŠŠèµ‹å€¼ï¼ˆ [[Put]]ï¼‰ æ“ä½œä¸­çš„å€¼ 2 å­˜å‚¨åˆ°äº†å¦ä¸€ä¸ªå˜é‡_a_ä¸­ã€‚ åç§°_a_åªæ˜¯ä¸€ç§æƒ¯ä¾‹ï¼Œ æ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„è¡Œä¸ºï¼Œå’Œå…¶ä»–æ™®é€šå±žæ€§ä¸€æ ·ã€‚ éåŽ†å¯¹è±¡å±žæ€§forâ€¦infor keys in object å¾ªçŽ¯å¯ä»¥éåŽ†å¯¹è±¡çš„å¯æžšä¸¾å±žæ€§åˆ—è¡¨ï¼ˆåŒ…æ‹¬ [[Prototype]] åŽŸåž‹é“¾ï¼‰ã€‚ for..inå¾ªçŽ¯æ˜¯æ— æ³•ç›´æŽ¥èŽ·å–å±žæ€§å€¼çš„ï¼Œä½ éœ€è¦æ‰‹åŠ¨èŽ·å–å±žæ€§å€¼ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯éåŽ†å¯¹è±¡å±žæ€§æ—¶çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œåœ¨ä¸åŒçš„ JavaScript å¼•æ“Žä¸­å¯èƒ½ä¸ä¸€æ ·ã€‚ forâ€¦offor..ofå¾ªçŽ¯é¦–å…ˆä¼šå‘è¢«è®¿é—®çš„å¯¹è±¡è¯·æ±‚ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œç„¶åŽé€šè¿‡è°ƒç”¨è¿­ä»£å™¨å¯¹è±¡çš„ next() æ–¹æ³•æ¥éåŽ†æ‰€æœ‰è¿”å›žå€¼ã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹è¿­ä»£å™¨çš„å®šä¹‰ï¼š å¯è¿­ä»£åè®® å¯è¿­ä»£åè®®å…è®¸ JavaScript å¯¹è±¡åŽ»å®šä¹‰æˆ–å®šåˆ¶å®ƒä»¬çš„è¿­ä»£è¡Œä¸º, ä¾‹å¦‚ï¼ˆå®šä¹‰ï¼‰åœ¨ä¸€ä¸ª for..of ç»“æž„ä¸­ä»€ä¹ˆå€¼å¯ä»¥è¢«å¾ªçŽ¯ï¼ˆå¾—åˆ°ï¼‰ã€‚ä¸€äº›å†…ç½®ç±»åž‹éƒ½æ˜¯å†…ç½®çš„å¯éåŽ†å¯¹è±¡å¹¶ä¸”æœ‰é»˜è®¤çš„è¿­ä»£è¡Œä¸º, æ¯”å¦‚ Arrayã€Map, å¦ä¸€äº›ç±»åž‹åˆ™ä¸æ˜¯ (æ¯”å¦‚ Object) ã€‚ ä¸ºäº†å˜æˆå¯éåŽ†å¯¹è±¡ï¼Œ ä¸€ä¸ªå¯¹è±¡å¿…é¡»å®žçŽ° @@iterator æ–¹æ³•, æ„æ€æ˜¯è¿™ä¸ªå¯¹è±¡ï¼ˆæˆ–è€…å®ƒåŽŸåž‹é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡ï¼‰å¿…é¡»æœ‰ä¸€ä¸ªåå­—æ˜¯ Symbol.iterator çš„å±žæ€§: æ•°ç»„æœ‰å†…ç½®çš„ @@iteratorï¼Œ å› æ­¤for..ofå¯ä»¥ç›´æŽ¥åº”ç”¨åœ¨æ•°ç»„ä¸Š: 1234567var myArr = [1, 2, 3];for (var v of myArr) &#123; console.log(v);&#125;// 1// 2// 3 æˆ‘ä»¬å†é€šè¿‡æ•°ç»„çš„Symbol.iteratorå±žæ€§çœ‹çœ‹@@iteratoræ˜¯æ€Žä¹ˆå·¥ä½œçš„ï¼š 123456var myArr = [1, 2, 3];it = myArr[Symbol.iterator]();it.next(); // &#123;value: 1, done: false&#125;it.next(); // &#123;value: 2, done: false&#125;it.next(); // &#123;value: 3, done: false&#125;it.next(); // &#123;value: undefined, done: true&#125; å¦‚ä½ æ‰€è§ï¼Œè°ƒç”¨è¿­ä»£å™¨çš„next()æ–¹æ³•ä¼šè¿”å›žå½¢å¼ä¸º{value: .., done: ..}çš„å€¼ï¼Œvalueæ˜¯å½“å‰çš„éåŽ†å€¼ï¼Œdoneæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿˜æœ‰å¯ä»¥éåŽ†çš„å€¼ã€‚ ä¸Šé¢ç¤ºä¾‹ä¸­éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¦å·Symbol.iteratoræ¥èŽ·å–å¯¹è±¡çš„@@iteratorå†…éƒ¨å±žæ€§ã€‚å¼•ç”¨ç±»ä¼¼ iterator çš„ç‰¹æ®Šå±žæ€§æ—¶è¦ä½¿ç”¨ç¬¦å·åï¼Œè€Œä¸æ˜¯ç¬¦å·åŒ…å«çš„å€¼ã€‚æ­¤å¤–ï¼Œè™½ç„¶çœ‹èµ·æ¥å¾ˆåƒä¸€ä¸ªå¯¹è±¡ï¼Œä½†@@iteratoræœ¬èº«å¹¶ä¸æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›žè¿­ä»£å™¨å¯¹è±¡çš„å‡½æ•°â€”â€”è¿™ç‚¹éžå¸¸ç²¾å¦™å¹¶ä¸”é‡è¦ã€‚ å¯æ˜¯æ™®é€šå¯¹è±¡æ²¡æœ‰å†…ç½®çš„@@iteratorï¼Œæ‰€ä»¥æ— æ³•å®Œæˆfor..oféåŽ†ã€‚åˆ¶å®šè€…ä¹‹æ‰€ä»¥è¿™æ ·åšï¼Œæœ‰è®¸å¤šå¤æ‚çš„åŽŸå› ï¼Œä¸è¿‡ç®€å•æ¥è¯´ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é¿å…å½±å“æœªæ¥çš„å¯¹è±¡ç±»åž‹ã€‚ ä½†æˆ‘ä»¬å¯ä»¥ç»™ä»»ä½•æƒ³éåŽ†çš„å¯¹è±¡è‡ªå®šä¹‰@@iteratorï¼Œä¾‹å¦‚ï¼š 1234567891011121314151617181920212223242526272829303132var myObj = &#123; a: 1, b: 2 &#125;;Object.defineProperty(myObj, Symbol.iterator, &#123; enumerable: false, writable: false, configurable: true, value: function() &#123; var o = this; var idx = 0; var ks = Object.keys(o); return &#123; next: function() &#123; return &#123; value: o[ks[idx++]], done: idx &gt; ks.length &#125;; &#125; &#125;; &#125;&#125;);// æ‰‹åŠ¨éåŽ† myObjvar it = myObj[Symbol.iterator]();it.next(); // &#123;value: 1, done: false&#125;it.next(); //&#123;value: 2, done: false&#125;it.next(); //&#123;value: undefined, done: true&#125;// ç”¨ for..of éåŽ† myObjfor (var v of myObj) &#123; console.log(v);&#125;// 1// 2 å¯¹è±¡çš„ä»£ç† ProxyES6 ä¸­å¼•å…¥çš„ Proxy æ˜¯ä¸€ä¸ªå…ƒç¼–ç¨‹çš„ç‰¹æ€§ã€‚å…ƒç¼–ç¨‹æ˜¯æŒ‡çš„æ˜¯å¼€å‘äººå‘˜å¯¹ â€œè¯­è¨€æœ¬èº«è¿›è¡Œç¼–ç¨‹â€ã€‚ä¸€èˆ¬æ˜¯ç¼–ç¨‹è¯­è¨€æš´éœ²äº†ä¸€äº› APIï¼Œä¾›å¼€å‘äººå‘˜æ¥æ“ä½œè¯­è¨€æœ¬èº«çš„æŸäº›ç‰¹æ€§ã€‚ Proxy å¯¹è±¡ç”¨äºŽå®šä¹‰åŸºæœ¬æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸º (ä¾‹å¦‚å±žæ€§æŸ¥æ‰¾ï¼Œèµ‹å€¼ï¼Œæžšä¸¾ï¼Œå‡½æ•°è°ƒç”¨ç­‰)ã€‚Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æž¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚ä¹Ÿå°±è¯´å®ƒå¯ä»¥ â€œä»£ç†â€ å¯¹è±¡çš„åŽŸç”Ÿè¡Œä¸ºï¼Œæ›¿æ¢ä¸ºæ‰§è¡Œè‡ªå®šä¹‰è¡Œä¸ºã€‚ Proxy è¯­æ³•å¦‚ä¸‹ï¼š 1let p = new Proxy(target, handler); å…¶ä¸­ï¼Œnew Proxy()è¡¨ç¤ºç”Ÿæˆä¸€ä¸ª Proxy å®žä¾‹ï¼Œtargetå‚æ•°è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ï¼Œhandlerå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®šåˆ¶æ‹¦æˆªè¡Œä¸ºã€‚ ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬çŸ¥é“å½“æˆ‘ä»¬è¦èŽ·å–å¯¹è±¡çš„å±žæ€§å€¼çš„æ—¶å€™ï¼Œå¯¹è±¡å†…éƒ¨ä¼šè°ƒç”¨ get æ–¹æ³•åŽ»èŽ·å–è¿™ä¸ªå±žæ€§ï¼Œå¦‚æžœè¯¥å±žæ€§ä¸å­˜åœ¨åœ¨è¯¥å¯¹è±¡ä¸­ï¼Œåˆ™ä¼šç»§ç»­å‘ [[Prototype]] åŽŸåž‹é“¾å‘ä¸Šå¯»æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ° Object.prototypeã€‚ å¦‚æžœæˆ‘ä»¬æŒ‰ä¸Šä¸€èŠ‚çš„æ–¹æ³•ç»™è¯¥å±žæ€§è®¾ç½®äº†get()æ–¹æ³•ï¼Œåˆ™æŸ¥è¯¢è¯¥å±žæ€§å€¼æ—¶ä¼šè¿”å›žget() æ–¹æ³•çš„è¿”å›žå€¼ã€‚Proxy å¯ä»¥ç»™æ‰€æœ‰æŸ¥è¯¢ä¸åˆ°çš„å±žæ€§è®¾ç½®ç»Ÿä¸€çš„get()æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼š 12345678910var a = &#123; x: 2 &#125;;var obj = new Proxy(a, &#123; get: function(target, name) &#123; return name in target ? target[name] : 3; &#125;&#125;);obj.x; // 2obj.y; // 3obj.z; // 3a.y; // undefined éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦ä½¿å¾— Proxy èµ·ä½œç”¨ï¼Œå¿…é¡»é’ˆå¯¹ Proxy å®žä¾‹ï¼ˆä¸Šä¾‹æ˜¯ proxy å¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ç©ºå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œã€‚ å¦‚æžœhandleræ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£å°±ç­‰åŒäºŽç›´æŽ¥é€šå‘åŽŸå¯¹è±¡ã€‚ 12345var a = &#123; x: 2 &#125;;var obj = new Proxy(a, &#123;&#125;);obj.y = 3;a.y = 3; æœ‰ä¸€ä¸ªæŠ€å·§æ˜¯æŠŠ Proxy å®žä¾‹ä½œä¸ºå…¶ä»–å¯¹è±¡çš„åŽŸåž‹å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥è®©å…¶ä»–å¯¹è±¡ç»§æ‰¿ï¼ˆæˆ–è€…è¯´å§”æ‰˜ï¼Ÿï¼‰Proxy å®žä¾‹çš„æ‹¦æˆªæ–¹æ³•ã€‚ 123456789101112var obj = new Proxy( &#123;&#125;, &#123; get: function() &#123; return 233; &#125; &#125;);var a = Object.create(obj);a.someprop; // 233 æ­¤å¤–ï¼ŒProxy å¯¹è±¡è¿˜æä¾›äº†ä¸€ä¸ª revoke æ–¹æ³•ï¼Œå¯ä»¥éšæ—¶æ³¨é”€æ‰€æœ‰çš„ä»£ç†æ“ä½œã€‚ 12345678910111213var p = Proxy.revocable( &#123;&#125;, &#123; get() &#123; return 1; &#125; &#125;);var a = p.proxy;a.x; // 1p.revoke();a.x; // Uncaught TypeError: Cannot perform 'get' on a proxy that has been revoked Proxy.revocableæ–¹æ³•è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„proxyå±žæ€§æ˜¯ Proxy å®žä¾‹ï¼Œrevokeå±žæ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å–æ¶ˆ Proxy å®žä¾‹ã€‚ä¸Šé¢ä»£ç ä¸­ï¼Œå½“æ‰§è¡Œrevokeå‡½æ•°ä¹‹åŽï¼Œå†è®¿é—® Proxy å®žä¾‹ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ Proxy.revocableçš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ï¼Œç›®æ ‡å¯¹è±¡ä¸å…è®¸ç›´æŽ¥è®¿é—®ï¼Œå¿…é¡»é€šè¿‡ä»£ç†è®¿é—®ï¼Œä¸€æ—¦è®¿é—®ç»“æŸï¼Œå°±æ”¶å›žä»£ç†æƒï¼Œä¸å…è®¸å†æ¬¡è®¿é—®ã€‚ åŒ…æ‹¬ get()ã€set() åœ¨å†…ï¼ŒProxy æ”¯æŒçš„æ‹¦æˆªæ“ä½œæœ‰åå¤šç§ï¼ŒåŒ…å«äº†å¤§éƒ¨åˆ†å¯¹è±¡çš„æ–¹æ³•æ“ä½œçš„æ‹¦æˆªã€‚å…·ä½“è¯·æŸ¥é˜… ECMAScript 6 å…¥é—¨ åŠ MDN æ–‡æ¡£ å¯¹è±¡æ–¹æ³•åŽŸåž‹ç›¸å…³ create,setPrototypeOf,getPrototypeOfObject.create(proto, [ propertiesObject ])è¯¥æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åŽŸåž‹å¯¹è±¡å’Œå…¶å±žæ€§åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚å¯ç†è§£ä¸ºè¯¥æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶æŠŠè¿™ä¸ªå¯¹è±¡çš„ [[Prototype]]å…³è”åˆ°æŒ‡å®šå¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒObject.create(null)ä¼šåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰ç©ºï¼ˆæˆ–è€… nullï¼‰[[Prototype]] é“¾çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ— æ³•è¿›è¡Œå§”æ‰˜ã€‚ç”±äºŽè¿™ä¸ªå¯¹è±¡æ²¡æœ‰åŽŸåž‹é“¾ï¼Œæ‰€ä»¥instanceofæ“ä½œç¬¦æ— æ³•è¿›è¡Œåˆ¤æ–­ï¼Œå› æ­¤æ€»æ˜¯è¿”å›ž falseã€‚è¿™äº›ç‰¹æ®Šçš„ç©º [[Prototype]] å¯¹è±¡é€šå¸¸è¢«ç§°ä½œâ€œå­—å…¸â€ï¼Œä»–ä»¬å®Œå…¨ä¸ä¼šå—åˆ°åŽŸåž‹é“¾çš„å¹²æ‰°ï¼Œå› æ­¤éžå¸¸é€‚åˆç”¨æ¥å‚¨å­˜æ•°æ®ã€‚ Object.setPrototypeOf(obj, prototype)è¯¥æ–¹æ³•æ˜¯ ES6 çš„æ–°æ–¹æ³•ï¼Œç”¨äºŽè®¾ç½®ä¸€ä¸ªæŒ‡å®šçš„å¯¹è±¡çš„åŽŸåž‹ ( ä¾‹å¦‚,å†…ç½®çš„ [[Prototype]] å±žæ€§ï¼‰åˆ°å¦ä¸€ä¸ªå¯¹è±¡æˆ– nullã€‚å¯ä»¥ä»£æ›¿ ES5 çš„Object.createã€‚ ä¾‹å¦‚æœ‰ä¸¤ä¸ªå¯¹è±¡ a å’Œ bï¼Œæˆ‘ä»¬éœ€è¦æŠŠ b è®¾ä¸º a çš„åŽŸåž‹ï¼Œä»¥ä¾¿ a å¯ä»¥ç»§æ‰¿ b çš„å±žæ€§ï¼š 12345678var a = &#123; x: 1 &#125;;var b = &#123; y: 2 &#125;;Object.setPrototypeOf(a, b);a.x; //1a.y; // 2Object.getOwnPropertyNames(a); // ["x"] ä¸Šä¾‹ä¸­æŠŠ b è®¾ä¸º a çš„åŽŸåž‹ï¼Œå› æ­¤å½“å‘ a æŸ¥è¯¢ y æ—¶ï¼Œç”±äºŽ a æœ¬èº«æ²¡æœ‰ y å±žæ€§ï¼Œæ‰€ä»¥ä¼šå¾ªç€åŽŸåž‹é“¾æŸ¥è¯¢åˆ° b çš„ yã€‚ å†ä¾‹å¦‚æœ‰ä¸¤ä¸ªå‡½æ•°ï¼ˆå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡å“¦ï¼ï¼‰ Bar å’Œ Fooï¼Œæˆ‘ä»¬éœ€è¦æŠŠ Bar.prototype å…³è”åˆ° Foo.prototype: 12345678910111213141516171819202122// åˆ›å»º Foofunction Foo(name) &#123; this.name = name;&#125;Foo.prototype.sayName = function() &#123; return this.name;&#125;;// åˆ›å»º Barfunction Bar(name) &#123; Foo.call(this, name);&#125;//å…³è” prototype// ES6 ä¹‹å‰éœ€è¦æŠ›å¼ƒé»˜è®¤çš„ Bar.prototypeBar.prototype = Object.create(Foo.prototype);// ES6 å¼€å§‹å¯ä»¥ç›´æŽ¥ä¿®æ”¹çŽ°æœ‰çš„ Bar.prototypeObject.setPrototypeOf(Bar.prototype, Foo.prototype);var a = new Bar("a");a.sayName(); å¦‚æžœä¸è€ƒè™‘Object.create(..)æ–¹æ³•å¸¦æ¥çš„è½»å¾®æ€§èƒ½æŸå¤±ï¼ˆæŠ›å¼ƒçš„å¯¹è±¡éœ€è¦è¿›è¡Œåžƒåœ¾å›žæ”¶ï¼‰ï¼Œå®ƒå…¶å®žæ¯” ES6 åŠå…¶ä¹‹åŽçš„æ–¹æ³•æ›´çŸ­åˆ‡å¯è¯»æ€§æ›´é«˜ã€‚ Object.getPrototypeOf(obj)è¯¥æ–¹æ³•è¿”å›žæŒ‡å®šå¯¹è±¡çš„åŽŸåž‹ï¼ˆå³å†…éƒ¨ [[Prototype]] å±žæ€§çš„å€¼ï¼‰ã€‚å¦‚æžœæ²¡æœ‰ç»§æ‰¿å±žæ€§ï¼Œåˆ™è¿”å›ž null ã€‚ 1234var a = &#123;&#125;;var b = Object.create(a);Object.getPrototypeOf(b) === a; // true]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ·±å…¥æ•°ç»„]]></title>
    <url>%2F2018%2F02%2F26%2FJavaScript%E6%B7%B1%E5%85%A5%E6%95%B0%E7%BB%84%2F</url>
    <content type="text"><![CDATA[æ•°ç»„åŸºç¡€ç®€ä»‹æ•°ç»„æ˜¯åº”ç”¨æœ€å¹¿æ³›çš„æ•°æ®å­˜å‚¨ç»“æž„ã€‚å®ƒè¢«æ¤å…¥åˆ°å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­ã€‚åœ¨ ECMAScript ä¸­æ•°ç»„æ˜¯éžå¸¸å¸¸ç”¨çš„å¼•ç”¨ç±»åž‹ã€‚ å±žæ€§lengthlength å±žæ€§è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ï¼Œå³å…¶ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚JavaScript æ•°ç»„çš„ length å±žæ€§æ—¶å¯å˜çš„ï¼Œå½“ length å±žæ€§è¢«è®¾ç½®çš„æ›´å¤§æ—¶ï¼Œæ•´ä¸ªæ•°ç»„çš„çŠ¶æ€äº‹å®žä¸Šä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä»…ä»…æ˜¯ length å±žæ€§å˜å¤§;å½“ length å±žæ€§è¢«è®¾ç½®çš„æ¯”åŽŸæ¥å°æ—¶ï¼Œåˆ™åŽŸå…ˆæ•°ç»„ä¸­ç´¢å¼•å¤§äºŽæˆ–ç­‰äºŽ length çš„å…ƒç´ çš„å€¼å…¨éƒ¨è¢«ä¸¢å¤±ã€‚ prptotypeè¿”å›žå¯¹è±¡ç±»åž‹åŽŸåž‹çš„å¼•ç”¨ã€‚prototype å±žæ€§æ˜¯ object å…±æœ‰çš„ã€‚ä¸€èˆ¬ç”¨æ¥ç»™æ•°ç»„å®žä¾‹æ·»åŠ æ–¹æ³•ã€‚ constructorè¡¨ç¤ºåˆ›å»ºå¯¹è±¡çš„å‡½æ•°ã€‚è¯´æ˜Žï¼šconstructor å±žæ€§æ˜¯æ‰€æœ‰å…·æœ‰ prototype çš„å¯¹è±¡çš„æˆå‘˜ã€‚constructor å±žæ€§ä¿å­˜äº†å¯¹æž„é€ ç‰¹å®šå¯¹è±¡å®žä¾‹çš„å‡½æ•°çš„å¼•ç”¨ã€‚ åŸºæœ¬æ“ä½œåˆ›å»ºæ•°ç»„12345678// æ•°ç»„å®žä¾‹çš„åˆ›å»ºvar arr = [];var arr = new Array();var arr = new Array(5); // åˆ›å»ºä¸€ä¸ªlengthä¸º5çš„æ•°ç»„ [undefined, undefined, undefined, undefined, undefined]var arr = new Array(1, 2, 3); // åˆ›å»ºæ•°ç»„å¹¶èµ‹å€¼ [1,2,3]var arr = new Array(3).fill(5); // åˆ›å»ºä¸€ä¸ªlengthä¸º3çš„æ•°ç»„ï¼Œå¹¶é‡Œé¢èµ‹å€¼å‡ä¸º5 [5,5,5]var arr = Array.of(7); // åˆ›å»ºæ•°ç»„å¹¶èµ‹å€¼[7]var arr = Array.of(1, 2, 4); // åˆ›å»ºæ•°ç»„å¹¶èµ‹å€¼ [1,2,4] æ£€æµ‹æ•°ç»„12345678910111213// åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ä¸€ä¸ªæ•°ç»„var arr = [];if (arr instanceof Array) &#123;&#125; // æ–¹æ³•1if (Object.prototype.toString.call(arr) == "[object Array]") &#123;&#125; // æ–¹æ³•2if (Array.isArray(arr)) &#123;&#125; // æ–¹æ³•3if (arr.constructor == Array) &#123;&#125; // æ–¹æ³•4 æ•°ç»„æ–¹æ³•Array.isArray(obj)æ£€æµ‹å¯¹è±¡æ˜¯å¦ Array,æ˜¯åˆ™èŒƒæ¹– true,å¦åˆ™ä¸º false.Array.from(arrayLike,mapFn,thisArg)è¯¥æ–¹æ³•ä»Žä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®žä¾‹ã€‚å‚æ•° arrayLike æ˜¯æƒ³è¦è½¬æ¢æˆçœŸå®žæ•°ç»„çš„ç±»æ•°ç»„å¯¹è±¡æˆ–å¯éåŽ†å¯¹è±¡ã€‚mapFn æ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æžœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œåˆ™æœ€åŽç”Ÿæˆçš„æ•°ç»„ä¼šç»è¿‡è¯¥å‡½æ•°çš„åŠ å·¥å¤„ç†åŽå†è¿”å›žã€‚thisArg æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºæ‰§è¡Œ mapFn å‡½æ•°æ—¶ this çš„å€¼ã€‚ æ‰€è°“ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæœ¬è´¨ç‰¹å¾åªæœ‰ä¸€ç‚¹ï¼Œå³å¿…é¡»æœ‰ length å±žæ€§ã€‚å› æ­¤ï¼Œä»»ä½•æœ‰ length å±žæ€§çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥é€šè¿‡ Array.from æ–¹æ³•è½¬ä¸ºæ•°ç»„ã€‚ å®žé™…åº”ç”¨ä¸­ï¼Œå¸¸è§çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ˜¯ DOM æ“ä½œè¿”å›žçš„ NodeList é›†åˆï¼Œä»¥åŠå‡½æ•°å†…éƒ¨çš„ arguments å¯¹è±¡ã€‚ 123456789101112131415var arrayLike = &#123; 0: "a", 1: "b", 2: "c", length: 3&#125;;let arrayLike2 = &#123; length: 3 &#125;;let str = "abcd";let newArray = Array.from(arrayLike); // ['a','b','c']let newArray2 = Array.from(arrayLike, i =&gt; &#123; i + "1";&#125;); // ['a1','b1','c1']let newArray3 = Array.from(arrayLike2); // [undefined,undefined,undefined]let newArray4 = Array.from(str); // ['a','b','c','d'] Array.of(itemâ€¦)è¯¥æ–¹æ³•ç”¨äºŽåˆ›å»ºæ•°ç»„å®žä¾‹ã€‚è¯¥æ–¹æ³•ç”¨äºŽæ›¿ä»£ Array() æˆ– new Array()ã€‚Array.of() å’Œ Array æž„é€ å‡½æ•°ä¹‹é—´çš„åŒºåˆ«åœ¨äºŽå¤„ç†æ•´æ•°å‚æ•°ï¼šArray.of(7) åˆ›å»ºä¸€ä¸ªå…·æœ‰å•ä¸ªå…ƒç´  7 çš„æ•°ç»„ï¼Œè€Œ Array(7) åˆ›å»ºä¸€ä¸ªåŒ…å« 7 ä¸ª undefined å…ƒç´ çš„æ•°ç»„ã€‚ 1234Array.of(7); // [7]Array.of(1, 2, 3); // [1, 2, 3]Array(7); // [ , , , , , , ]Array(1, 2, 3); // [1, 2, 3] æ•°ç»„å®žä¾‹æ–¹æ³•è½¬æ¢æ–¹æ³•arr.join(separator)æŠŠæ•°ç»„æž„æž„é€ æˆå­—ç¬¦ä¸²ï¼Œå®ƒå…ˆæŠŠæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åŽå†ç”¨ separator åˆ†éš”ç¬¦æŠŠå®ƒä»¬é“¾æŽ¥åœ¨ä¸€èµ·ï¼Œseparator åˆ†éš”ç¬¦é»˜è®¤æ˜¯é€—å· â€œ,â€ï¼Œè¦æƒ³åšåˆ°æ— é—´éš”é“¾æŽ¥ï¼Œå¯ä»¥ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ä½œä¸º separatorï¼š 1234var arr = [1, 2, 3, 4, 5];arr.join("|"); //"1|2|3|4|5"arr.join(""); //12345//å¦æ‰€æœ‰å¯¹è±¡æœ‰å…·æœ‰çš„ toLocaleStringã€toStringã€valueOfï¼Œå¯ä»¥çœ‹ä½œæ˜¯joinçš„ç‰¹æ®Šç”¨æ³•ï¼Œä¸å¸¸ç”¨ æ ˆæ–¹æ³•arr.push(itemâ€¦)å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ–°å…ƒç´ æ·»åŠ åˆ°æ•°ç»„ç»“å°¾ï¼Œå¹¶è¿”å›žæ•°ç»„æ–°é•¿åº¦ã€‚arr.pop()ç§»é™¤æœ€åŽä¸€ä¸ªå…ƒç´ å¹¶è¿”å›žè¯¥å…ƒç´ å€¼ã€‚ é˜Ÿåˆ—æ–¹æ³•arr.unshift(itemâ€¦)å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ–°å…ƒç´ æ·»åŠ åˆ°æ•°ç»„å¼€å§‹ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ è‡ªåŠ¨åŽç§»ï¼Œè¿”å›žæ•°ç»„æ–°é•¿åº¦ã€‚arr.shift()ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›žè¯¥å…ƒç´ å€¼ï¼Œæ•°ç»„ä¸­å…ƒç´ è‡ªåŠ¨å‰ç§».å¦‚æžœè¿™ä¸ªæ•°ç»„æ˜¯ç©ºçš„ï¼Œå®ƒä¼šè¿”å›ž undefinedã€‚shift é€šå¸¸æ¯” pop æ…¢çš„å¤šã€‚ é‡æŽ’åºæ–¹æ³•arr.reverse()åè½¬æ•°ç»„çš„é¡ºåºã€‚arr.sort(compareFn)ç»™æ•°ç»„æŽ’åºï¼Œé»˜è®¤å‡åºã€‚ æ³¨æ„ï¼š sort é»˜è®¤ä¼šå°†æ•°ç»„å†…å®¹è§†ä¸ºå­—ç¬¦ä¸²æ¥æŽ’åºï¼Œæ‰€ä»¥å¯¹æ•°å­—æŽ’åºæ—¶é»˜è®¤çš„æŽ’åºè§„åˆ™ä¼šé”™çš„ç¦»è°±ã€‚ä¸€èˆ¬æˆ‘ä»¬ç»™ sort å¸¦å…¥ä¸ªæ¯”è¾ƒå‡½æ•°æ¥æ›¿ä»£åŽŸæ¥çš„é»˜è®¤çš„æ¯”è¾ƒæ–¹æ³•ï¼Œæ¯”è¾ƒæ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æžœä¸¤ä¸ªå‚æ•°ç›¸ç­‰åˆ™è¿”å›ž 0ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æŽ’åœ¨å‰é¢åˆ™è¿”å›žä¸€ä¸ªè´Ÿæ•°ï¼Œå¦‚æžœç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æŽ’åœ¨å‰é¢åˆ™è¿”å›žä¸€ä¸ªæ­£æ•°ï¼š 12345//æ•°ç»„æŽ’åºvar arr = [2, 3, 1, 5, 4];arr.sort(function(a, b) &#123; return a - b;&#125;); // [1,2,3,4,5] æ“ä½œæ–¹æ³•arr.concat(itemâ€¦)è¯¥æ–¹æ³•äº§ç”Ÿä¸€ä»½ arr çš„æµ…å¤åˆ¶ï¼Œå¹¶å°†å¤šä¸ªæ•°ç»„ï¼ˆä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯æ•°ç»„å’Œå­—ç¬¦ä¸²çš„æ··åˆï¼‰é™„åŠ åœ¨å…¶åŽè¿žæŽ¥ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›žè¿žæŽ¥å¥½çš„æ–°çš„æ•°ç»„ã€‚ arr.slice(start, end)è¯¥æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„ä¸€æ®µåšæµ…å¤åˆ¶ï¼Œé¦–å…ˆå¤åˆ¶æ•°ç»„ arr[start] è‡³ arr[end] çš„éƒ¨åˆ†ï¼Œæ³¨æ„ä¸åŒ…æ‹¬ end å¯¹åº”çš„å…ƒç´ ï¼Œå¦‚æžœçœç•¥ end å°†å¤åˆ¶ start ä¹‹åŽçš„æ‰€æœ‰å…ƒç´ ï¼ˆæˆ–è€…ç†è§£æˆ end çš„é»˜è®¤å€¼ä¸º arr.lengthï¼‰ã€‚å­—ç¬¦ä¸²ä¹Ÿæœ‰ä¸ªåŒåæ–¹æ³• string.sliceã€‚ arr.splice(start, deleteCount, itemâ€¦)è¯¥æ–¹æ³•ä»Ž arr ä¸­ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶å°†æ–°çš„ item æ’å…¥è‡³ç§»é™¤å…ƒç´ çš„å¼€å§‹ä½ç½®ï¼Œ å‚æ•° start æ˜¯ç§»é™¤å…ƒç´ çš„å¼€å§‹ä½ç½®ï¼ŒdeleteCount æ˜¯è¦ç§»é™¤çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œitem æ˜¯è¦è¢«æ’å…¥çš„å…ƒç´ ã€‚å®ƒè¿”å›žä¸€ä¸ªåŒ…å«è¢«ç§»é™¤å…ƒç´ çš„æ•°ç»„ã€‚ arr.copyWithin(target, start, end)è¯¥æ–¹æ³•å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼ˆä¼šè¦†ç›–åŽŸæˆå‘˜ï¼‰ï¼Œå¹¶è¿”å›žä¿®æ”¹åŽçš„æ•°ç»„ã€‚ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚å‚æ•° target ä¸ºå¼€å§‹æ›¿æ¢æ•°æ®çš„ä½ç½®ï¼Œè‹¥ target å¤§äºŽç­‰äºŽ arr.lengthï¼Œå°†ä¼šä¸å‘ç”Ÿæ‹·è´ã€‚start æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºå¼€å§‹è¯»å–æ•°æ®çš„ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚end æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºåœæ­¢è¯»å–æ•°æ®çš„ä½ç½®ï¼Œé»˜è®¤ä¸º arr.lengthã€‚ 12[1, 2, 3, 4, 5].copyWithin(0, 3);// [4, 5, 3, 4, 5] ä¸Šé¢ä»£ç è¡¨ç¤ºå°†ä»Ž 3 å·ä½ç›´åˆ°æ•°ç»„ç»“æŸçš„æˆå‘˜ï¼ˆ4 å’Œ 5ï¼‰ï¼Œå¤åˆ¶åˆ°ä»Ž 0 å·ä½å¼€å§‹çš„ä½ç½®ï¼Œç»“æžœè¦†ç›–äº†åŽŸæ¥çš„ 1 å’Œ 2ã€‚ arr.fill(value, start, end)è¯¥æ–¹æ³•ä½¿ç”¨ç»™å®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ï¼Œå‚æ•° value æ˜¯ç”¨æ¥å¡«å……æ•°ç»„çš„å€¼ã€‚start æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºå¡«å……å¼€å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 0ã€‚end æ˜¯å¯é€‰å‚æ•°ï¼Œä¸ºå¡«å……çš„ç»“æŸä½ç½®ï¼Œé»˜è®¤ä¸º arr.lengthã€‚ 123[1, 2, 3] .fill(4) // [4, 4, 4] [(1, 2, 3)].fill(4, 1, 2); // [1, 4, 3] fill æ–¹æ³•æ˜¯ä¸ªå¯å˜æ–¹æ³•, å®ƒä¼šæ”¹å˜è°ƒç”¨å®ƒçš„ this å¯¹è±¡æœ¬èº«, ç„¶åŽè¿”å›žå®ƒ, è€Œå¹¶ä¸æ˜¯è¿”å›žä¸€ä¸ªå‰¯æœ¬ã€‚ ä½ç½®æ–¹æ³•arr.indexOf(searchElement,start)è¯¥æ–¹æ³•è¿”å›žè¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå¦‚æžœæ²¡æ‰¾åˆ°è¿”å›ž -1ã€‚æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼ŒsearchElement æ˜¯è¦æŸ¥æ‰¾çš„é¡¹ï¼Œstart æ˜¯æŸ¥æ‰¾èµ·å§‹ä½ç½®çš„ç´¢å¼•ï¼Œé»˜è®¤æ˜¯ 0ã€‚ arr.lastIndexOf(searchElement, start)ä»Ž start ä½ç½®å¼€å§‹å‘å‰æŸ¥æ‰¾ï¼Œstart é»˜è®¤å€¼ä¸º arr.length â€“ 1ã€‚ æ³¨æ„è¯¥æ–¹æ³•åœ¨æ¯”è¾ƒæŸ¥æ‰¾é¡¹ä¸Žæ•°ç»„ä¸­æ¯ä¸€é¡¹æ—¶ï¼Œä¼šä½¿ç”¨å…¨ç­‰æ“ä½œç¬¦ï¼Œä¹Ÿå°±æ˜¯è¦æ±‚æŸ¥æ‰¾çš„é¡¹å¿…é¡»ä¸¥æ ¼ç›¸ç­‰ã€‚ arr.includes(searchElement, fromIndex)è¯¥æ–¹æ³•ç”¨æ¥åˆ¤æ–­å½“å‰æ•°ç»„æ˜¯å¦åŒ…å«æŸæŒ‡å®šçš„å€¼ï¼Œå¦‚æžœæ˜¯ï¼Œåˆ™è¿”å›ž trueï¼Œå¦åˆ™è¿”å›ž falseã€‚å‚æ•° searchElement ä¸ºéœ€è¦æŸ¥æ‰¾çš„å…ƒç´ å€¼ã€‚å‚æ•° fromIndex æ˜¯å¯é€‰å‚æ•°ï¼Œä»Žè¯¥ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ searchElementï¼Œå¦‚æžœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä»Ž array.length + fromIndex çš„ç´¢å¼•å¼€å§‹æœç´¢ï¼Œé»˜è®¤ä¸º 0ã€‚ å¦‚æžœ fromIndex å¤§äºŽç­‰äºŽæ•°ç»„é•¿åº¦ ï¼Œåˆ™è¿”å›ž false ã€‚è¯¥æ•°ç»„ä¸ä¼šè¢«æœç´¢ã€‚è¯¥æ–¹æ³•å±žäºŽ ES7ï¼Œä½† Babel è½¬ç å™¨å·²ç»æ”¯æŒã€‚ 123[1, 2, 3].includes(2); // true[1, 2, 3].includes(4); // false[1, 2, NaN].includes(NaN); // true æ²¡æœ‰è¯¥æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ•°ç»„çš„ indexOf æ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€‚ 123if (arr.indexOf(el) !== -1) &#123; // ...&#125; indexOf æ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå®ƒçš„å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºçŽ°ä½ç½®ï¼Œæ‰€ä»¥è¦åŽ»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äºŽ-1ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚äºŒæ˜¯ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸å½“è¿ç®—ç¬¦ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹ NaN çš„è¯¯åˆ¤ã€‚includes ä½¿ç”¨çš„æ˜¯ä¸ä¸€æ ·çš„åˆ¤æ–­ç®—æ³•ï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚ 12345[NaN] .indexOf(NaN) // -1 [NaN].includes(NaN);// true includes() æ–¹æ³•æœ‰æ„è®¾è®¡ä¸ºé€šç”¨æ–¹æ³•ã€‚å®ƒä¸è¦æ±‚ this å€¼æ˜¯æ•°ç»„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«ç”¨äºŽå…¶ä»–ç±»åž‹çš„å¯¹è±¡ (æ¯”å¦‚ç±»æ•°ç»„å¯¹è±¡)ã€‚ 1234(function() &#123; console.log([].includes.call(arguments, 2)); // true console.log([].includes.call(arguments, 4)); // false&#125;)(1, 2, 3); è¿­ä»£æ–¹æ³•arr.every(callback,thisArg)å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æžœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›ž trueï¼Œåˆ™è¿”å›ž trueã€‚callback è¢«è°ƒç”¨æ—¶ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŽŸæ•°ç»„ã€‚thisArg ä¸ºå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šæ‰§è¡Œ callback æ—¶ä½¿ç”¨çš„ this å€¼ã€‚ arr.some(callback,thisArg)å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æžœè¯¥å‡½æ•°å¯¹ä»»æ„ä¸€é¡¹è¿”å›ž true,åˆ™è¿”å›ž trueã€‚ arr.filter(callback,thisArg)å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›žè¯¥å‡½æ•°ä¼šè¿”å›ž true çš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚ arr.forEach(callback)å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›žå€¼ã€‚æœ¬è´¨ä¸Šå’Œä½¿ç”¨ for ä¸€æ ·ã€‚ arr.map(callback)å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œè¿”å›žæ¯æ¬¡å‡½æ•°è°ƒç”¨åŽç»“æžœç»„æˆçš„æ•°ç»„ã€‚ arr.find(callback,thisArg)è¯¥æ–¹æ³•å¯¹æ•°ç»„æ‰€æœ‰æˆå‘˜ä¾æ¬¡æ‰§è¡Œ callback å‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›žå€¼ä¸º true çš„æˆå‘˜å¹¶è¿”å›žã€‚å¦‚æžœæ²¡æœ‰ï¼Œåˆ™è¿”å›ž undefined. 1[1, 2, -5, 19].find((v, i, arr) =&gt; v &lt; 0); // -5 arr.findIndex(callback, thisArg)è¯¥æ–¹æ³•ä¸Ž arr.find() ç±»ä¼¼ï¼Œå¯¹æ•°ç»„ä¸­çš„æˆå‘˜ä¾æ¬¡æ‰§è¡Œ callback å‡½æ•°ï¼Œç›´è‡³æ‰¾åˆ°ç¬¬ä¸€ä¸ªè¿”å›žå€¼ä¸º true çš„æˆå‘˜ï¼Œç„¶åŽè¿”å›žè¯¥æˆå‘˜çš„ç´¢å¼•ã€‚å¦‚æžœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›ž -1ã€‚ 1[1, 5, 10, 15].findIndex((v, i, arr) =&gt; v &gt; 9); // 2 arr.entries()arr.keys()arr.values()è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½è¿”å›žä¸€ä¸ªæ–°çš„ Array iterator å¯¹è±¡ï¼Œå¯ä»¥ç”¨for...ofå¾ªçŽ¯è¿›è¡ŒéåŽ†ï¼ŒåŒºåˆ«æ˜¯keys()æ˜¯å¯¹é”®åçš„éåŽ†ã€values()æ˜¯å¯¹é”®å€¼çš„éåŽ†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éåŽ†ã€‚ 12345678910111213141516171819for (let index of ['a', 'b'].keys()) &#123; console.log(index); &#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem) ;&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 "a"// 1 "b"var arr = ["a", "b";var iterator = arr.entries(); // undefinedconsole.log(iterator); // Array Iterator &#123;&#125;console.log(iterator.next().value); // [0, "a"]console.log(iterator.next().value); // [1, "b"] å½’å¹¶æ–¹æ³•arr.reduce(callback,initialValue)arr.reduceRight(callback,initialValue)è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„æ‰€æœ‰çš„é¡¹ï¼Œç„¶åŽè¿”å›žä¸€ä¸ªæœ€ç»ˆå€¼ã€‚reduce()æ–¹æ³•ä»Žæ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéåŽ†åˆ°æœ€åŽï¼Œè€Œ reduceRight()åˆ™ä»Žæ•°ç»„çš„æœ€åŽä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éåŽ†åˆ°ç¬¬ä¸€é¡¹ã€‚å®ƒä»¬æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œcallback æ¯ä¸€é¡¹ä¸Šè°ƒç”¨çš„å‡½æ•°ï¼Œcallback è¢«è°ƒç”¨æ—¶ä¼ å…¥å››ä¸ªå‚æ•°ï¼šä¸Šä¸€æ¬¡è°ƒç”¨å›žè°ƒè¿”å›žçš„å€¼ã€æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„ç´¢å¼•å€¼ï¼ˆå¦‚æžœæä¾›äº† initialValue ï¼Œä»Ž 0 å¼€å§‹ï¼›å¦åˆ™ä»Ž 1 å¼€å§‹ï¼‰ã€åŽŸæ•°ç»„ã€‚initialValue æ˜¯å¯é€‰é¡¹ï¼Œä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ï¼Œå…¶å€¼ç”¨äºŽç¬¬ä¸€æ¬¡è°ƒç”¨ callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ æ•°ç»„å¸¸è§é—®é¢˜ç»ƒä¹ æ•°ç»„åˆå¹¶å¤šä¸ªä¸€ç»´æ•°ç»„åˆå¹¶å¦‚æœ‰ä¸¤ä¸ªä¸€ç»´æ•°ç»„ï¼Œè¦å°†ä»–ä»¬åˆå¹¶æˆä¸€ä¸ªæ•°ç»„: 1234var arr1 = [1, 2];var arr2 = [3, 4];// =&gt; [1,2,3,4] Array.prototype.concat()æ–¹æ³• 1var arr = arr1.concat(arr2); //[1, 2, 3, 4] for å¾ªçŽ¯å’Œ Array.prototype.push() 123456function flation(arr1, arr2) &#123; for (var i = 0; i &lt; arr2.length; i++) &#123; arr1.push(arr2[i]); &#125; return arr1;&#125; reduce()æˆ– reduceRight()æ–¹æ³• 12345function flatten(arr1, arr2) &#123; arr2.reduce(function(prev, curr) &#123; return prev.push(curr); &#125;, arr1);&#125; å¤šç»´ï¼ˆå¤åˆï¼‰æ•°ç»„åˆå¹¶æˆä¸€ç»´æ•°ç»„ä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ç»„å¤šç»´æ•°ç»„ï¼Œè¦æŠŠå®ƒæ‹å¹³æˆ 1 ç»´æ•°ç»„ï¼š 12345678910var myArray = [ [1, 2], [3, 4, 5], [6, 7, 8, 9], [11, 12, [12, 13, [14]]], 10, 11];// =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11] Array.prototype.push()æ–¹æ³• 123456789101112131415unction flatten(arr, result) &#123; if (!result) &#123; result = [] &#125; for (var i = 0; i &lt; arr.length; i++) &#123; if(arr[i].constructor == Array) &#123; flatten(arr[i], r) &#125; else &#123; result.push(arr[i]) &#125; &#125; return result&#125;flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11,12,[12,13,[14]]], 10, 11])//[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11] Array.prototype.concat()æ–¹æ³• 12345678910//çœç•¥å¯¹äºŒç»´ä»¥ä¸Šæ•°ç»„çš„åˆ¤æ–­function flatten(arr) &#123; var result = []; for (var i = 0; i &lt; arr.length; i++) &#123; result = result.concat(arr[i]); &#125; return result;&#125;flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9]]); //[1, 2, 3, 4, 5, 6, 7, 8, 9]flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], 10, 11]); //[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11] å¯ä»¥é€šè¿‡ Function.prototype.apply()æ–¹æ³•ï¼Œè®©å…¶å˜å¾—æ›´ç®€å•: 1234//çœç•¥å¯¹äºŒç»´ä»¥ä¸Šæ•°ç»„çš„åˆ¤æ–­function flatten(arr) &#123; return Array.prototype.concat.apply([], arr);&#125; åœ¨ ES6 ä¸­ï¼Œè¿˜å¯ä»¥è¿™æ ·å†™ï¼š 1234//çœç•¥å¯¹äºŒç»´ä»¥ä¸Šæ•°ç»„çš„åˆ¤æ–­function flatten(arr) &#123; return [].concat(...arr);&#125; å¦‚æžœè¦å¤„ç†ä¸‰ç»´æˆ–æ›´å¤šç»´æ•°ç»„ï¼Œåˆ™éœ€è¦åŠ ä¸€äº›åˆ¤æ–­ï¼š 123456function flatten(arr) &#123; arr = [].concat.apply([], arr); return arr.some(Array.isArray) ? flatten(arr) : arr;&#125;flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11, 12, [12, 13, [14]]], 10, 11]);//[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10, 11] ä½¿ç”¨ join()å’Œ split()åˆ©ç”¨æ•°ç»„å®žä¾‹çš„ join()æ–¹æ³•å’Œå­—ç¬¦ä¸²å®žä¾‹çš„ split()æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†å¤šç»´æ•°ç»„æ‹å¹³ï¼š 12345function flatten(arr) &#123; return arr.join(",").split(",");&#125;flatten([[1, 2], [3, 4, 5], [6, 7, 8, 9], [11, 12, [12, 13, [14]]], 10, 11]);//["1", "2", "3", "4", "5", "6", "7", "8", "9", "11", "12", "12", "13", "14", "10", "11"] è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹åœ¨äºŽè¿”å›žçš„æ•°ç»„å†…å…¨æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æžœä¸éœ€è¦æ ¡éªŒå†…å®¹ç±»åž‹çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚ æ•°ç»„åŽ»é‡åŒé‡å¾ªçŽ¯åŽ»é‡æ€è·¯ï¼š æž„å»ºä¸€ä¸ªç©ºæ•°ç»„æ¥å­˜æ”¾åŽ»é‡åŽçš„æ•°ç»„ å¯¹åŽŸæ•°ç»„åšå¾ªçŽ¯éåŽ†ï¼Œæ¯æ¬¡ä»Žæ•°ç»„ä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ä¸Žç»“æžœæ•°ç»„åšå¯¹æ¯” å¦‚æžœåŽŸæ•°ç»„å–å‡ºçš„å…ƒç´ ä¸Žç»“æžœæ•°ç»„å…ƒç´ ç›¸åŒï¼Œåˆ™è·³å‡ºå¾ªçŽ¯ï¼›åä¹‹åˆ™å°†å…¶å­˜æ”¾åˆ°ç»“æžœæ•°ç»„ã€‚ 1234567891011121314151617181920function unique(arr) &#123; let result = []; if (arr.length &lt; 2) return; result[0] = arr[0]; for (let i = 1; i &lt; arr.length; i++) &#123; var repeat = false; for (let j = 0; j &lt; result.length; j++) &#123; if (arr[i] == result[j]) &#123; repeat = true; break; &#125; &#125; if (!repeat) &#123; result.push(arr[i]); &#125; &#125; return result;&#125;unique([1, 2, 3, 4, 3, 2, "a", "b", "a"]);//[1, 2, 3, 4, "a", "b"] è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥é‡‡ç”¨ forEach()æ–¹æ³•å’Œ indexOf()æ–¹æ³•æ¨¡æ‹Ÿå®žçŽ°ï¼š 123456789function unique(arr) &#123; let result = []; if (arr.length &lt; 2) return; result[0] = arr[0]; arr.forEach(item =&gt; &#123; if (!result.includes(item)) result.push(item); &#125;); return result;&#125; æŽ’åºéåŽ†åŽ»é‡æ€è·¯ï¼š æž„å»ºä¸€ä¸ªç©ºæ•°ç»„æ¥å­˜æ”¾åŽ»é‡åŽçš„æ•°ç»„ ç”¨sort()æ–¹æ³•å¯¹åŽŸæ•°ç»„åšä¸€ä¸ªæŽ’åºï¼ŒæŽ’å®ŒåºåŽå¯¹æ•°ç»„åšéåŽ†ï¼Œæ£€æµ‹æ•°ç»„ä¸­ç¬¬ i ä¸ªå…ƒç´ ä¸Žç»“æžœæ•°ç»„ä¸­çš„æœ€åŽä¸€ä¸ªå…ƒç´ æ˜¯å¦ç›¸åŒï¼Œå¦‚æžœä¸åŒï¼Œåˆ™æ”¾åˆ°ç»“æžœæ•°ç»„ä¸­ã€‚ 1234567891011function unique() &#123; arr.sort(); var result = []; arr.forEach(item =&gt; &#123; if (item !== result[result.length - 1]) &#123; result.push(item); &#125; &#125;); return result;&#125;unique([1, 2, 3, 4, 3, 2, "a", "b", "a"]); è¿™ç§æ–¹æ³•æœ‰ä¸¤ä¸ªç‰¹è‰²ï¼š åŽ»é‡åŽçš„æ•°ç»„ä¼šåšæŽ’åºï¼Œä¸»è¦æ˜¯å› ä¸ºåŽŸæ•°åœ¨åŽ»é‡å‰åšäº†æŽ’åº åŽ»é‡åŽçš„æ•°ç»„ï¼Œä¸Žæ•°å­—ç›¸åŒçš„æ•°å­—å­—ç¬¦æ— æ³•åŒºåˆ†ï¼Œæ¯”å¦‚â€˜1â€™å’Œ 1 å¯¹è±¡é”®å€¼å¯¹æ³•æ€è·¯ï¼š åˆ›å»ºä¸€ä¸ª js å¯¹è±¡åŠæ–°æ•°ç»„ éåŽ†åŽŸæ•°ç»„ï¼Œæ¯æ¬¡å–å‡ºä¸€ä¸ªå…ƒç´ ä¸Ž js å¯¹è±¡çš„é”®åšå¯¹æ¯” å¦‚æžœä¸åŒ…å«ï¼Œå°†å­˜å…¥å¯¹è±¡çš„å…ƒç´ çš„å€¼æŽ¨å…¥åˆ°ç»“æžœæ•°ç»„ä¸­ï¼Œå¹¶å°† object å¯¹è±¡ä¸­è¯¥å±žæ€§åçš„å€¼è®¾ä¸º 1 1234567891011121314function unique(arr) &#123; var result = []; var object = &#123;&#125;; for (var i = 0; i &lt; arr.length; i++) &#123; if (!object[typeof arr[i] + arr[i]]) &#123; //é”®åé‡ŒåŠ å…¥typeof(arr[i])æ˜¯ä¸ºäº†åŒºåˆ«ä¸åŒç±»åž‹çš„å€¼ï¼Œå¦‚1å’Œ`1` result.push(arr[i]); object[typeof arr[i] + arr[i]] = 1; &#125; &#125; return result;&#125;unique([1, 2, 3, 4, 3, 2, "1", "a", "b", "a"]);//[1, 2, 3, 4, "a", "b"] è¿™ç§æ–¹æ³•æ¯”è¾ƒè€—å†…å­˜ï¼Œä½†è¿è¡Œä¸‹æ¥è€—æ—¶æœ€å°‘ï¼Œæ˜¯è¾ƒä¸ºä¼˜ç§€çš„æ–¹æ¡ˆã€‚ ä½¿ç”¨ ES6 çš„ Set å’Œ Map æ–¹æ³•12345678910111213// å€ŸåŠ©Mapæ•°æ®ç»“æž„function unique(arr) &#123; const seen = new Map(); return arr.filter(item =&gt; !seen.has(item) &amp;&amp; seen.set(item, 1));&#125;//å€ŸåŠ© Set æ•°æ®ç»“æž„function unique(arr) &#123; return Array.from(new Set(arr)); //æˆ– return [...new Set(arr)]&#125;unique([1, 2, 3, 4, 3, 2, "1", "a", "b", "a"]);//[1, 2, 3, 4, "1", "a", "b"] æ•°ç»„éšæœºæŽ’åºé€’å½’çš„æ–¹æ³•æ€è·¯:ä¸æ–­ä»ŽåŽŸæ•°ç»„ä¸­éšæœºå–ä¸€ä¸ªå…ƒç´ æ”¾è¿›æ–°æ•°ç»„ï¼ŒåŒæ—¶åˆ é™¤åŽŸæ•°ç»„ä¸­è¯¥å€¼ï¼Œé€’å½’é‡å¤è‡³å…¨éƒ¨å–å‡ºã€‚ 1234567891011121314function randomSort(arr, newArr = []) &#123; // å¦‚æžœåŽŸæ•°ç»„åªæœ‰ä¸€ä¸ªå€¼ if (arr.length == 1) &#123; newArr.push(arr[0]); return newArr; // é€’å½’ç»“æŸ &#125; let random = Math.ceil(Math.random() * arr.length - 1); newArr.push(arr[random]); arr.splice(random, 1); return randomSort(arr, newArr);&#125;randomSort([1, 2, 3, 4, 5, 6, 7]); //[2, 3, 1, 5, 6, 7, 4]randomSort([1, 2, 3, 4, 5, 6, 7]); //[3, 4, 2, 5, 1, 6, 7] éšæœºäº¤æ¢æ•°ç»„å†…çš„å…ƒç´  (åŽŸç† from underscore.jsï¼‰æ€è·¯ï¼šéåŽ†æ•°ç»„ï¼Œæ¯æ¬¡ä»Ž i ä½ç½®åŽå…ƒç´ éšæœºæŒ‘ä¸€ä¸ªæ”¾åˆ° i ä½ç½®ï¼Œå°†åŽŸ i ä½ç½®å…ƒç´ æ”¾è‡³è¢«æŒ‘å…ƒç´ ä½ç½® 12345678910Array.prototype.shuffle = function() &#123; var len = this.length, arr = this.slice(0), temp, index; for (var i = 0; i &lt; len; i++) &#123; index = i + Math.floor(Math.random() * (len - i)) [arr[i],arr[index]] = [arr[index],arr[i]]; &#125; return arr.slice(0)&#125; éšæœºä»ŽåŽŸæ•°ç»„æŠ½å–ä¸€ä¸ªå…ƒç´ ,åŠ å…¥åˆ°æ–°æ•°ç»„æ€è·¯ï¼šéåŽ†æ•°ç»„ï¼Œæ¯æ¬¡ä»Žæ•°ç»„ä¸­éšæœºæŒ‘ä¸€ä¸ªå…ƒç´ ï¼ˆéšæœºæ•°æœ€å¤§å€¼ä¸ºåŽŸæ•°ç»„å‰©ä½™é•¿åº¦ï¼‰ï¼Œå°†è¯¥å…ƒç´ æ‹¿å‡ºæ¥æ”¾å…¥æ–°æ•°ç»„ã€‚ 12345678910111213Array.prototype.shuffle = function() &#123; var len = this.length, arr = this.slice(0), result = [], index; for (var i = 0; i &lt; len; i++) &#123; index = Math.floor(Math.random() * (len - i)); result.push(arr.splice(index, 1)[0]); &#125; return result; 1;&#125;[(1, 2, 3, 4, 5, 6, 7)].shuffle();//[5, 3, 2, 1, 7, 4, 6]]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ·±å…¥ä¹‹ç»§æ‰¿çš„å¤šç§æ–¹å¼]]></title>
    <url>%2F2018%2F02%2F26%2FJavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E7%BB%A7%E6%89%BF%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[åŽŸåž‹é“¾ç»§æ‰¿123456789101112131415function Parent() &#123; this.name = "Jay";&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child() &#123;&#125;Child.prototype = new Parent();var child1 = new Child();console.log(child1.getName()); // Jay å­˜åœ¨çš„é—®é¢˜ï¼š1ï¼Œå¼•ç”¨ç±»åž‹çš„å±žæ€§è¢«æ‰€æœ‰çš„å®žä¾‹å…±äº«ï¼Œeg: 1234567891011121314151617function Parent() &#123; this.names = ["Jhon", "Michel"];&#125;function Child() &#123;&#125;Child.prototype = new Parent();var child1 = new Child();child1.names.push("Lili");console.log(child1.names); // ["Jhon","Michel","Lili"]var child2 = new Child();console.log(child2.names); // ["Jhon","Michel","Lili"] 2ï¼Œåœ¨åˆ›å»º Child çš„å®žä¾‹æ—¶ï¼Œä¸èƒ½å‘ Parent ä¼ å‚ å€Ÿç”¨æž„é€ å‡½æ•°ï¼ˆç»å…¸ç»§æ‰¿ï¼‰1234567891011121314151617function Parent() &#123; this.names = ["Jhon", "Michel"];&#125;function Child() &#123; Parent.call(this);&#125;var child1 = new Child();child1.names.push("Lili");console.log(child1.names); // ["Jhon","Michel","Lili"]var child2 = new Child();console.log(child2.names); // ["Jhon","Michel"] ä¼˜ç‚¹ï¼š1ï¼Œé¿å…äº†å¼•ç”¨ç±»åž‹çš„å±žæ€§è¢«æ‰€æœ‰å®žä¾‹å…±äº«ã€‚2ï¼Œå¯ä»¥åœ¨ Child ä¸­é—´å‘ Parent ä¼ å‚. eg: 123456789101112131415function Parent(name) &#123; this.name = name;&#125;function Child(name) &#123; Parent.call(this, name);&#125;var child1 = new Child("kaer");console.log(child1.name); // kaervar child2 = new Child("james");console.log(child2.name); // james ç¼ºç‚¹ï¼šæ–¹æ³•éƒ½åœ¨æž„é€ å‡½æ•°é‡Œå®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®žä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ ç»„åˆç»§æ‰¿åŽŸåž‹é“¾ç»§æ‰¿å’Œç»å…¸ç»§æ‰¿çš„ç»„åˆã€‚ 12345678910111213141516171819202122232425function Parent(name) &#123; this.name = name; this.colors = ["red", "cyan"];&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child(name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();var child1 = new Child("xiaoming", 20);child1.colors.push("black");console.log(child1.name, child1.age, child1.colors); // xiaoming 20 ["red", "cyan", "black"]var child2 = new Child("david", 23);console.log(child2.name, child2.age, child2.colors); // david 23 ["red", "cyan"] ä¼˜ç‚¹ï¼šèžåˆåŽŸåž‹é“¾ç»§æ‰¿å’Œæž„é€ å‡½æ•°çš„ä¼˜ç‚¹ï¼Œæ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚ åŽŸåž‹å¼ç»§æ‰¿12345function CreateObj(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125; ä¸Šé¢å°±æ˜¯ ES5 Object.create çš„æ¨¡æ‹Ÿå®žçŽ°ï¼Œå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºåˆ›å»ºçš„å¯¹è±¡çš„åŽŸåž‹ã€‚ç¼ºç‚¹ï¼šåŒ…å«å¼•ç”¨ç±»åž‹çš„å±žæ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŽŸåž‹é“¾ç»§æ‰¿ä¸€æ ·ã€‚ 12345678910111213var person = &#123; name: "kevin", friends: ["daisy", "kelly"]&#125;;var person1 = createObj(person);var person2 = createObj(person);person1.name = "person1";console.log(person2.name); // kevinperson1.firends.push("taylor");console.log(person2.friends); // ["daisy", "kelly", "taylor"] æ³¨æ„ï¼šä¿®æ”¹ person1.name çš„å€¼ï¼Œperson2.name çš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸º person1 å’Œ person2 æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸º person1.name = â€˜person1â€™ï¼Œç»™ person1 æ·»åŠ äº† name å€¼ï¼Œå¹¶éžä¿®æ”¹äº†åŽŸåž‹ä¸Šçš„ name å€¼. å¯„ç”Ÿå¼ç»§æ‰¿åˆ›å»ºä¸€ä¸ªä»…ç”¨äºŽå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥åšå¢žå¼ºå¯¹è±¡ï¼Œæœ€åŽè¿”å›žå¯¹è±¡ã€‚ 1234567function createObj(o) &#123; var clone = object.create(o); clone.sayName = function() &#123; console.log("hi"); &#125;; return clone;&#125; ç¼ºç‚¹: è·Ÿå€Ÿç”¨æž„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯è™Žè°ƒç”¨ä¸¤æ¬¡çˆ¶æž„é€ å‡½æ•°ã€‚ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»åž‹å®žä¾‹çš„åŽŸåž‹çš„æ—¶å€™ï¼š 1Child.prototype = new Parent(); ä¸€æ¬¡æ˜¯åœ¨åˆ›å»ºå­ç±»åž‹å®žä¾‹çš„æ—¶å€™ï¼š 1var child1 = new Child("david", 23); å›žæƒ³ä¸‹ new çš„æ¨¡æ‹Ÿå®žçŽ°ï¼Œå…¶å®žåœ¨è¿™å¥ä¸­ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œï¼š 1Parent.call(this, name); åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆä¼šè°ƒç”¨äº†ä¸€æ¬¡ Parent æž„é€ å‡½æ•°ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æžœæˆ‘ä»¬æ‰“å° child1 å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå‘çŽ° Child.prototype å’Œ child1 éƒ½æœ‰ä¸€ä¸ªå±žæ€§ä¸º colorsï¼Œå±žæ€§å€¼ä¸º[â€˜redâ€™, â€˜blueâ€™, â€˜greenâ€™]ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç²¾ç›Šæ±‚ç²¾ï¼Œé¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨å‘¢ï¼Ÿ å¦‚æžœæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent() ï¼Œè€Œæ˜¯é—´æŽ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype å‘¢ï¼Ÿ çœ‹çœ‹å¦‚ä½•å®žçŽ°ï¼š 12345678910111213141516171819202122function Parent(name) &#123; this.name = name; this.colors = ["red", "cyan"];&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child(name, age) &#123; Parent.call(this, name); this.age = age;&#125;// å…³é”®çš„ä¸‰æ­¥var F = function() &#123;&#125;;F.prototype = Parent.prototype;Child.prototype = new F();var Child1 = new Child("david", 23);console.log(child1); æœ€åŽå°è£…ä¸€ä¸‹è¿™ä¸ªå‡½æ•°æ–¹æ³•ï¼š 1234567891011121314function object(o) &#123; functin F () &#123;&#125; F.prototype = o; return new F();&#125;function prototype (child,parent) &#123; var prototype = object(parent.prototype); prototype.constructor = child; child.prototype = prototype;&#125;// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™prototype(Child,Parent); å¼•ç”¨ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­å¯¹å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„å¤¸èµžå°±æ˜¯ï¼š è¿™ç§æ–¹å¼çš„é«˜æ•ˆçŽ‡ä½“çŽ°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ Parent æž„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±žæ€§ã€‚ä¸Žæ­¤åŒæ—¶ï¼ŒåŽŸåž‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»åž‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚ åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€ŸæŽŒæ¡JavaScripté¢è¯•åŸºç¡€3]]></title>
    <url>%2F2018%2F02%2F21%2F%E5%BF%AB%E9%80%9F%E6%8E%8C%E6%8F%A1JavaScript%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%803%2F</url>
    <content type="text"><![CDATA[new å…³é”®å­—å¦‚æžœä½¿ç”¨ new å…³é”®å­—æ¥è°ƒç”¨å‡½æ•°å¼å¾ˆç‰¹åˆ«çš„å½¢å¼ã€‚æˆ‘ä»¬æŠŠé‚£äº›ç”¨ new è°ƒç”¨çš„å‡½æ•°å«åšæž„é€ å‡½æ•°(constructor function)ã€‚ ä½¿ç”¨äº† new çš„å‡½æ•°åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ å°†å¯¹è±¡çš„ prototype è®¾ç½®ä¸ºæž„é€ å‡½æ•°çš„ prototype æ‰§è¡Œæž„é€ å‡½æ•°ï¼Œthis æ‰§è¡Œæ–°æž„é€ çš„å¯¹è±¡ è¿”å›žè¯¥å¯¹è±¡ã€‚å¦‚æžœæž„é€ å‡½æ•°è¿”å›žå¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›žè¯¥æž„é€ å¯¹è±¡ã€‚ 123456// ä¸ºäº†æ›´å¥½åœ°ç†è§£åº•å±‚ï¼Œæˆ‘ä»¬æ¥å®šä¹‰newå…³é”®å­—function myNew(constructor, ...arguments) &#123; var obj = &#123;&#125;; Object.setPrototypeOf(obj, constructor.prototype); return constructor.apply(obj, arguments) || obj;&#125; ä½¿ç”¨ new å’Œä¸ä½¿ç”¨çš„åŒºåˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿ 123456789function Bird() &#123; this.wings = 2;&#125;/* æ™®é€šçš„å‡½æ•°è°ƒç”¨ */let fakeBird = Bird();console.log(fakeBird); // undefined/* ä½¿ç”¨newè°ƒç”¨ */let realBird = new Bird();console.log(realBird); // &#123; wings: 2 &#125; ä¸ºäº†ä¾¿äºŽå¯¹æ¯”ç†è§£ï¼Œè¯‘è€…é¢å¤–å¢žåŠ äº†æµ‹è¯•äº†ä¸€ç§æƒ…å†µï¼š 1234567function MBird() &#123; this.wings = 2; return "hello";&#125;let realMBrid = new MBird();console.log(realMBird); // &#123; wings: 2 &#125; ä½ ä¼šå‘çŽ°ï¼Œè¿™ä¸€å¥ return â€œhelloâ€å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼ åŽŸåž‹å’Œç»§æ‰¿åŽŸåž‹(Prototype)æ˜¯ JavaScript ä¸­æœ€å®¹æ˜“æžæ··çš„æ¦‚å¿µï¼Œå…¶ä¸­ä¸€ä¸ªåŽŸå› æ˜¯ prototype å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªä¸åŒçš„æƒ…å½¢ä¸‹ã€‚ åŽŸåž‹å…³ç³»æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª prototype å¯¹è±¡ï¼Œé‡Œé¢åŒ…å«äº†æ‰€æœ‰å®ƒçš„åŽŸåž‹çš„å±žæ€§ã€‚.__proto__æ˜¯ä¸€ä¸ªä¸æ­£è§„çš„æœºåˆ¶(ES6 ä¸­æä¾›)ï¼Œç”¨æ¥èŽ·å–ä¸€ä¸ªå¯¹è±¡çš„ prototypeã€‚ä½ å¯ä»¥ç†è§£ä¸ºå®ƒæŒ‡å‘å¯¹è±¡çš„ parentã€‚æ‰€æœ‰æ™®é€šçš„å¯¹è±¡éƒ½ç»§æ‰¿.constructor å±žæ€§ï¼Œå®ƒæŒ‡å‘è¯¥å¯¹è±¡çš„æž„é€ å‡½æ•°ã€‚å½“ä¸€ä¸ªå¯¹è±¡é€šè¿‡æž„é€ å‡½æ•°å®žçŽ°çš„æ—¶å€™ï¼Œ__proto__å±žæ€§æŒ‡å‘æž„é€ å‡½æ•°çš„æž„é€ å‡½æ•°çš„.prototypeã€‚Object.getPrototypeOf()æ˜¯ ES5 çš„æ ‡å‡†å‡½æ•°ï¼Œç”¨æ¥èŽ·å–ä¸€ä¸ªå¯¹è±¡çš„åŽŸåž‹ã€‚ åŽŸåž‹å±žæ€§æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª.prototype å±žæ€§ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰å¯ä»¥è¢«ç»§æ‰¿çš„å±žæ€§ã€‚è¯¥å¯¹è±¡é»˜è®¤åŒ…å«äº†æŒ‡å‘åŽŸæž„é€ å‡½æ•°çš„.constructor å±žæ€§ã€‚æ¯ä¸€ä¸ªä½¿ç”¨æž„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæž„é€ å‡½æ•°å±žæ€§ã€‚ æŽ¥ä¸‹æ¥é€šè¿‡ä¾‹å­æ¥å¸®åŠ©ç†è§£ï¼š 12345678910111213141516171819202122function Dog(breed, name) &#123; (this.breed = breed), (this.name = name);&#125;Dog.prototype.describe = function() &#123; console.log(`$&#123;this.name&#125; is a $&#123;this.breed&#125;`);&#125;;const rusty = new Dog("Beagle", "Rusty");/* .prototype å±žæ€§åŒ…å«äº†æž„é€ å‡½æ•°ä»¥åŠæž„é€ å‡½æ•°ä¸­åœ¨prototypeä¸Šå®šä¹‰çš„å±žæ€§ã€‚*/console.log(Dog.prototype); // &#123; describe: Æ’ , constructor: Æ’ &#125;/* ä½¿ç”¨Dogæž„é€ å‡½æ•°æž„é€ çš„å¯¹è±¡ */console.log(rusty); // &#123; breed: "Beagle", name: "Rusty" &#125;/* ä»Žæž„é€ å‡½æ•°çš„åŽŸåž‹ä¸­ç»§æ‰¿ä¸‹æ¥çš„å±žæ€§æˆ–å‡½æ•° */console.log(rusty.describe()); // "Rusty is a Beagle"/* .__proto__ å±žæ€§æŒ‡å‘æž„é€ å‡½æ•°çš„.prototypeå±žæ€§ */console.log(rusty.__proto__); // &#123; describe: Æ’ , constructor: Æ’ &#125;/* .constructor å±žæ€§æŒ‡å‘æž„é€ å‡½æ•° */console.log(rusty.constructor); // Æ’ Dog(breed, name) &#123; ... &#125; åŽŸåž‹é“¾åŽŸåž‹é“¾æ˜¯æŒ‡å¯¹è±¡ä¹‹é—´é€šè¿‡ prototype é“¾æŽ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæœ‰å‘çš„é“¾æ¡ã€‚å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±žæ€§çš„æ—¶å€™ï¼ŒJavaScript å¼•æ“Žä¼šé¦–å…ˆæŸ¥çœ‹è¯¥å¯¹è±¡æ˜¯å¦åŒ…å«è¯¥å±žæ€§ã€‚å¦‚æžœæ²¡æœ‰ï¼Œå°±åŽ»æŸ¥æ‰¾å¯¹è±¡çš„ prototype ä¸­æ˜¯å¦åŒ…å«ã€‚ä»¥æ­¤ç±»æŽ¨ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±žæ€§æˆ–åˆ™æ‰¾åˆ°æœ€åŽä¸€ä¸ªå¯¹è±¡ã€‚æœ€åŽä¸€ä¸ªå¯¹è±¡çš„ prototype é»˜è®¤ä¸º nullã€‚ æ‹¥æœ‰ vs ç»§æ‰¿ä¸€ä¸ªå¯¹è±¡æœ‰ä¸¤ç§å±žæ€§ï¼Œåˆ†åˆ«æ˜¯å®ƒè‡ªèº«å®šä¹‰çš„å’Œç»§æ‰¿çš„ã€‚ 123456789101112131415function Car() &#123;&#125;Car.prototype.wheels = 4;Car.prototype.airbags = 1;var myCar = new Car();myCar.color = "black";/* åŽŸåž‹é“¾ä¸­çš„å±žæ€§ä¹Ÿå¯ä»¥é€šè¿‡inæ¥æŸ¥çœ‹: */console.log("airbags" in myCar); // trueconsole.log(myCar.wheels); // 4console.log(myCar.year); // undefined/* é€šè¿‡hasOwnPropertyæ¥æŸ¥çœ‹æ˜¯å¦æ‹¥æœ‰è¯¥å±žæ€§: */console.log(myCar.hasOwnProperty("airbags")); // false â€” Inheritedconsole.log(myCar.hasOwnProperty("color")); // true Object.create(obj) åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œprototype æŒ‡å‘ objã€‚ 123456var dog = &#123; legs: 4 &#125;;var myDog = Object.create(dog);console.log(myDog.hasOwnProperty("legs")); // falseconsole.log(myDog.legs); // 4console.log(myDog.__proto__ === dog); // true ç»§æ‰¿æ˜¯å¼•ç”¨ä¼ å€¼ç»§æ‰¿å±žæ€§éƒ½æ˜¯é€šè¿‡å¼•ç”¨çš„å½¢å¼ã€‚çœ‹ä¾‹å­ï¼š 1234567891011var objProt = &#123; text: "original" &#125;;var objAttachedToProt = Object.create(objProt);console.log(objAttachedToProt.text); // original// æˆ‘ä»¬æ›´æ”¹objProtçš„textå±žæ€§ï¼ŒobjAttachedToProtçš„textå±žæ€§åŒæ ·æ›´æ”¹äº†objProt.text = "prototype property changed";console.log(objAttachedToProt.text); // prototype property changed// ä½†æ˜¯å¦‚æžœæˆ‘ä»¬è®²ä¸€ä¸ªæ–°çš„å¯¹è±¡èµ‹å€¼ç»™objProtï¼Œé‚£ä¹ˆobjAttachedToProtçš„textå±žæ€§ä¸å—å½±å“objProt = &#123; text: "replacing property" &#125;;console.log(objAttachedToProt.text); // prototype property changed å¼‚æ­¥ JavaScriptJavaScript æ˜¯ä¸€ä¸ªå•çº¿ç¨‹ç¨‹åºè¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´ JavaScript å¼•æ“Žä¸€æ¬¡åªèƒ½æ‰§è¡ŒæŸä¸€æ®µä»£ç ã€‚å®ƒå¯¼è‡´çš„é—®é¢˜å°±æ˜¯ï¼šå¦‚æžœæœ‰ä¸€æ®µä»£ç éœ€è¦è€—è´¹å¾ˆé•¿çš„æ—¶é—´æ‰§è¡Œï¼Œå…¶å®ƒçš„æ“ä½œå°±è¢«å¡ä½äº†ã€‚JavaScript ä½¿ç”¨ Call Stack æ¥è®°å½•å‡½æ•°çš„è°ƒç”¨ã€‚ä¸€ä¸ª Call Stack å¯ä»¥çœ‹æˆæ˜¯ä¸€æ‘žä¹¦ã€‚æœ€åŽä¸€æœ¬ä¹¦æ”¾åœ¨æœ€ä¸Šé¢ï¼Œä¹Ÿæœ€å…ˆè¢«ç§»èµ°ã€‚æœ€å…ˆæ”¾çš„ä¹¦åœ¨æœ€åº•å±‚ï¼Œæœ€åŽè¢«ç§»èµ°ã€‚ ä¸ºäº†é¿å…å¤æ‚ä»£ç å ç”¨ CPU å¤ªé•¿æ—¶é—´ï¼Œä¸€ä¸ªè§£æ³•å°±æ˜¯å®šä¹‰å¼‚æ­¥å›žè°ƒå‡½æ•°ã€‚æˆ‘ä»¬è‡ªå·±æ¥å®šä¹‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•°çœ‹çœ‹ï¼š 1234567function greetingAsync(name, callback) &#123; let greeting = "hello, " + name; setTimeout(_ =&gt; callback(greeting), 0);&#125;greetingAsync("fundebug", console.log);console.log("start greeting"); æˆ‘ä»¬åœ¨ greetingAsync ä¸­æž„é€ äº† greeting è¯­å¥ï¼Œç„¶åŽé€šè¿‡ setTimeout å®šä¹‰äº†å¼‚æ­¥ï¼Œcallback å‡½æ•°ï¼Œæ˜¯ä¸ºäº†è®©ç”¨æˆ·è‡ªå·±åŽ»å®šä¹‰ greeting çš„å…·ä½“æ–¹å¼ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬æ—¶å€™ç›´æŽ¥ä½¿ç”¨ console.logã€‚ ä¸Šé¢ä»£ç æ‰§è¡Œé¦–å…ˆä¼šæ‰“å° start greetingï¼Œç„¶åŽæ‰æ˜¯ hello, fundebugã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒgreetingAsync çš„å›žè°ƒå‡½æ•°åŽæ‰§è¡Œã€‚åœ¨ç½‘ç«™å¼€å‘ä¸­ï¼Œå’ŒæœåŠ¡å™¨äº¤äº’çš„æ—¶å€™éœ€è¦ä¸æ–­åœ°å‘é€å„ç§è¯·æ±‚ï¼Œè€Œä¸€ä¸ªé¡µé¢å¯èƒ½æœ‰å‡ åä¸ªè¯·æ±‚ã€‚å¦‚æžœæˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæŒ‰ç…§é¡ºåºæ¥è¯·æ±‚å¹¶ç­‰å¾…ç»“æžœï¼Œä¸²è¡Œçš„æ‰§è¡Œä¼šä½¿å¾—ç½‘é¡µåŠ è½½å¾ˆæ…¢ã€‚é€šè¿‡å¼‚æ­¥çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå‘è¯·æ±‚ï¼Œç„¶åŽåœ¨å›žè°ƒä¸­å¤„ç†è¯·æ±‚ç»“æžœï¼Œé«˜æ•ˆä½Žå¹¶å‘å¤„ç†ã€‚ ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æè¿°æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼š 123456789101112131415161718const first = function() &#123; console.log("First message");&#125;;const second = function() &#123; console.log("Second message");&#125;;const third = function() &#123; console.log("Third message");&#125;;first();setTimeout(second, 0);third();// è¾“å‡º:// First message// Third message// Second message åˆå§‹çŠ¶æ€ä¸‹ï¼Œæµè§ˆå™¨æŽ§åˆ¶å°æ²¡æœ‰è¾“å‡ºï¼Œå¹¶ä¸”äº‹ä»¶ç®¡ç†å™¨(Event Manager)æ˜¯ç©ºçš„ï¼› first()è¢«æ·»åŠ åˆ°è°ƒç”¨æ ˆ å°† console.log(â€œFirst messageâ€)åŠ åˆ°è°ƒç”¨æ ˆ console.log(â€œFirst messageâ€)æ‰§è¡Œå¹¶è¾“å‡ºâ€œFirst messageâ€åˆ°æŽ§åˆ¶å° console.log(â€œFirst messageâ€)ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ first()ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ setTimeout(second, 0)åŠ åˆ°è°ƒç”¨æ ˆ setTimeout(second, 0)æ‰§è¡Œï¼Œ0ms ä¹‹åŽï¼Œsecond()è¢«åŠ åˆ°å›žè°ƒé˜Ÿåˆ— setTimeout(second, 0)ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ third()åŠ åˆ°è°ƒç”¨æ ˆ console.log(â€œThird messageâ€)åŠ åˆ°è°ƒç”¨æ ˆ console.log(â€œThird messageâ€)æ‰§è¡Œå¹¶è¾“å‡ºâ€œThird messageâ€åˆ°æŽ§åˆ¶å° console.log(â€œThird messageâ€)ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ third()ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ Event Loop å°† second()ä»Žå›žè°ƒé˜Ÿåˆ—ç§»åˆ°è°ƒç”¨æ ˆ console.log(â€œSecond messageâ€)åŠ åˆ°è°ƒç”¨æ ˆ console.log(â€œSecond messageâ€)Second messageâ€åˆ°æŽ§åˆ¶å° console.log(â€œSecond messageâ€)ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ Second()ä»Žè°ƒç”¨æ ˆä¸­ç§»é™¤ ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šsecond()å‡½æ•°åœ¨ 0ms ä¹‹åŽå¹¶æ²¡æœ‰ç«‹å³æ‰§è¡Œï¼Œä½ ä¼ å…¥åˆ° setTimeout()å‡½æ•°çš„æ—¶é—´å’Œ second()å»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´å¹¶ä¸ä¸€å®šç›´æŽ¥ç›¸å…³ã€‚äº‹ä»¶ç®¡ç†å™¨ç­‰åˆ° setTimeout()è®¾ç½®çš„æ—¶é—´åˆ°æœŸæ‰ä¼šå°†å…¶åŠ å…¥å›žè°ƒé˜Ÿåˆ—ï¼Œè€Œå›žè°ƒé˜Ÿåˆ—ä¸­å®ƒæ‰§è¡Œçš„æ—¶é—´å’Œå®ƒåœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®ä»¥åŠå®ƒå‰é¢çš„å‡½æ•°çš„æ‰§è¡Œæ—¶é—´æœ‰å…³ã€‚ åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€ŸæŽŒæ¡JavaScripté¢è¯•åŸºç¡€2]]></title>
    <url>%2F2018%2F02%2F21%2F%E5%BF%AB%E9%80%9F%E6%8E%8C%E6%8F%A1JavaScript%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%802%2F</url>
    <content type="text"><![CDATA[é—­åŒ…é—­åŒ…ç”±ä¸€ä¸ªå‡½æ•°ä»¥åŠè¯¥å‡½æ•°å®šä¹‰å¼æ‰€åœ¨çš„çŽ¯å¢ƒç»„æˆã€‚ 12345678910function sayHi(name) &#123; var message = `Hi $&#123;name&#125;`; function greeting() &#123; console.log(message); &#125; return greeting();&#125;var sayHiToJon = sayHi("Jon");console.log(sayHiToJon); // Æ’() &#123; console.log(message) &#125;console.log(sayHiToJon()); // 'Hi Jon!' è¯·ç†è§£var sayHiToJon=sayHi(&#39;Jon&#39;);è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼ŒsayHi å‡½æ•°æ‰§è¡Œï¼Œé¦–å…ˆå°† message çš„å€¼è®¡ç®—å‡ºæ¥ï¼Œç„¶åŽå®šä¹‰äº† greeting å‡½æ•°ï¼Œå‡½æ•°ä¸­å¼•ç”¨äº† message å˜é‡ï¼Œæœ€åŽï¼Œè¿”å›ž greeting å‡½æ•°ã€‚å¦‚æžœæŒ‰ç…§ C/Java è¯­è¨€çš„æ€è·¯ï¼ŒsayHiToJon å°±ç­‰ä»·äºŽ greeting å‡½æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ï¼šmessage ä¸ºå®šä¹‰ã€‚ä½†æ˜¯åœ¨ JavaScript ä¸­ä¸ä¸€æ ·ï¼Œè¿™é‡Œçš„ sayHiToJon å‡½æ•°ç­‰äºŽ greeting å‡½æ•°ä»¥åŠä¸€ä¸ªçŽ¯å¢ƒï¼Œè¯¥çŽ¯å¢ƒä¸­åŒ…å«äº† messageã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ sayHiToJon å‡½æ•°ï¼Œå¯ä»¥æˆåŠŸå°† message æ‰“å°å‡ºæ¥ã€‚å› æ­¤ï¼Œè¿™é‡Œçš„é—­åŒ…å°±æ˜¯ greeting å‡½æ•°å’Œä¸€ä¸ªåŒ…å« message å˜é‡çš„çŽ¯å¢ƒã€‚ é—­åŒ…çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºŽæ•°æ®éš”ç¦»ï¼Œä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­è¯´æ˜Žï¼š 12345678910111213141516171819function SpringfieldSchool() &#123; let staff = ["Seymour Skinner", "Edna Krabappel"]; return &#123; getStaff: function() &#123; console.log(staff); &#125;, addStaff: function(name) &#123; staff.push(name); &#125; &#125;;&#125;let elementary = SpringfieldSchool();console.log(elementary); // &#123; getStaff: Æ’, addStaff: Æ’ &#125;console.log(staff); // ReferenceError: staff is not defined/* Closure allows access to the staff variable */elementary.getStaff(); // ["Seymour Skinner", "Edna Krabappel"]elementary.addStaff("Otto Mann");elementary.getStaff(); // ["Seymour Skinner", "Edna Krabappel", "Otto Mann"] åœ¨ elementary è¢«åˆ›å»ºçš„æ—¶å€™ï¼ŒSpringfieldSchool å·²ç»è¿”å›žã€‚ä¹Ÿå°±æ˜¯è¯´ staff æ— æ³•è¢«å¤–éƒ¨è®¿é—®ã€‚å”¯ä¸€å¯ä»¥è®¿é—®çš„æ–¹å¼å°±æ˜¯é‡Œé¢çš„é—­åŒ…å‡½æ•° getStaff å’Œ addStaffã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé¢è¯•é¢˜ï¼šä¸‹é¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•ä¿®å¤ï¼Ÿ 123456const arr = [10, 12, 15, 21];for (var i = 0; i &lt; arr.length; i++) &#123; setTimeout(function() &#123; console.log(`The value $&#123;arr[i]&#125; is at index: $&#123;i&#125;`); &#125;, (i + 1) * 1000);&#125; ä¸Šé¢çš„ä»£ç è¾“å‡ºçš„ç»“æžœå…¨éƒ¨éƒ½ä¸€æ ·ï¼šâ€The value undefined is at index: 4â€ã€‚å› ä¸ºæ‰€æœ‰åœ¨ setTimeout ä¸­å®šä¹‰çš„åŒ¿åå‡½æ•°éƒ½å¼•ç”¨äº†åŒä¸€ä¸ªå¤–éƒ¨å˜é‡ iã€‚å½“åŒ¿åå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œi çš„å€¼ä¸º 4ã€‚ è¿™ä¸ªé—®é¢˜å¯ä»¥æ”¹ç”¨ IIFE(åŽé¢ä¼šä»‹ç»)æ–¹æ³•æ¥è§£å†³ï¼Œé€šè¿‡å¯¹æ¯ä¸€ä¸ªåŒ¿åå‡½æ•°æž„å»ºç‹¬ç«‹çš„å¤–éƒ¨ä½œç”¨åŸŸæ¥å®žçŽ°ã€‚ 12345678const arr = [10, 12, 15, 21];for (var i = 0; i &lt; arr.length; i++) &#123; (function(j) &#123; setTimeout(function() &#123; console.log(`The value $&#123;arr[j]&#125; is at index: $&#123;j&#125;`); &#125;, j * 1000); &#125;)(i);&#125; å½“ç„¶ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨ let æ¥å£°æ˜Ž iã€‚ 123456const arr = [10, 20, 30, 40];for (let i = 0; i &lt; arr.length; i++) &#123; setTimeout(function() &#123; console.log("The value $&#123;arr[i]&#125; is at index: $&#123;i&#125;"); &#125;, i * 1000);&#125; ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼(Immediate Invoked Function Expression)(IIFE)ä¸€ä¸ª IIFE æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼åœ¨å®šä¹‰ä¹‹åŽç«‹å³è¢«è°ƒç”¨ã€‚å¸¸ç”¨åœ¨ä½ æƒ³å¯¹ä¸€ä¸ªæ–°å£°æ˜Žçš„å˜é‡åˆ›å»ºä¸€ä¸ªéš”ç¦»çš„ä½œç”¨åŸŸã€‚å®ƒçš„æ ¼å¼ä¸º:(function(){....})()ã€‚å‰é¢çš„å¤§æ‹¬å·ç”¨äºŽå‘Šè¯‰ç¼–è¯‘å™¨è¿™é‡Œä¸ä»…ä»…æ˜¯å‡½æ•°å®šä¹‰ï¼ŒåŽé¢çš„å¤§æ‹¬å·ç”¨äºŽæ‰§è¡Œè¯¥å‡½æ•°ã€‚ 12345678910111213141516171819var result = [];for (var i = 0; i &lt; 5; i++) &#123; result.push(function() &#123; return i; &#125;);&#125;console.log(result[1]()); // 5console.log(result[3]()); // 5result = [];for (var i = 0; i &lt; 5; i++) &#123; (function() &#123; var j = i; // copy current value of i result.push(function() &#123; return j; &#125;); &#125;)();&#125;console.log(result[1]()); // 1console.log(result[3]()); // 3 ä½¿ç”¨ IIFE å¯ä»¥ï¼š ä¸ºå‡½æ•°ç»‘å®šç§æœ‰æ•°æ® åˆ›å»ºä¸€ä¸ªæ–°çš„çŽ¯å¢ƒ é¿å…æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ çŽ¯å¢ƒï¼ˆContextï¼‰æˆ‘ä»¬å¾€å¾€å®¹æ˜“å°†çŽ¯å¢ƒï¼ˆContextï¼‰å’Œä½œç”¨åŸŸï¼ˆScopeï¼‰æžæ··ï¼Œè§£é‡Šä¸€ä¸‹ï¼š çŽ¯å¢ƒï¼ˆContextï¼‰ï¼šç”±å‡½æ•°å¦‚ä½•è¢«è°ƒç”¨è€Œå†³å®šï¼Œå¾€å¾€æŒ‡ this. ä½œç”¨åŸŸï¼ˆScopeï¼‰ï¼šå¯è®¿é—®çš„å˜é‡ã€‚ å‡½æ•°è°ƒç”¨ï¼šcall, apply, bindè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸ºäº†å°† this ç»‘å®šåˆ°å‡½æ•°ï¼ŒåŒºåˆ«åœ¨äºŽè°ƒç”¨çš„æ–¹å¼ã€‚ .call(a,b,c,dâ€¦)ä¼šç†è§£æ‰§è¡Œå‡½æ•°ï¼Œéœ€è¦æŠŠå‚æ•°æŒ‰ç…§é¡ºåºä¼ å…¥ï¼› .apply([a,b,c,dâ€¦])ä¼šç†è§£æ‰§è¡Œå‡½æ•°ï¼Œéœ€è¦æŠŠå‚æ•°ç»„åˆæˆæ•°ç»„ä¼ å…¥äº†ï¼› .call()å’Œ.apply()å‡ ä¹Žç›¸åŒã€‚å“ªä¸ªä¼ å…¥å‚æ•°æ–¹ä¾¿ï¼Œä½ å°±é€‰æ‹©å“ªä¸ªã€‚ 12345678910const Snow = &#123; surename: "Snow" &#125;;const char = &#123; surename: "Stark", knows: function(arg, name) &#123; console.log(`You know $&#123;arg&#125;, $&#123;name&#125; $&#123;this.surename&#125;`); &#125;&#125;;char.knows("something", "Bran"); // You know something, Bran Starkchar.knows.call(Snow, "nothing", "Jon"); // You know nothing, Jon Snowchar.knows.apply(Snow, ["nothing", "Jon"]); // You know nothing, Jon Snow æ³¨æ„ï¼šå¦‚æžœä½ å°†æ•°ç»„ä¼ å…¥ call å‡½æ•°ï¼Œå®ƒä¼šè®¤ä¸ºåªæœ‰ä¸€ä¸ªå‚æ•°ã€‚ ES6 å…è®¸ä½¿ç”¨æ–°çš„æ“ä½œç¬¦å°†æ•°ç»„å˜æ¢ä¸ºä¸€ä¸ªåºåˆ—ã€‚ 1char.knows.call(Snow, ...["nothing", "Jon"]); // You know nothing, Jon Snow .bind()è¿”å›žä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä»¥åŠç›¸åº”çš„çŽ¯å¢ƒå’Œå‚æ•°ã€‚å¦‚æžœä½ æƒ³è¯¥å‡½æ•°ç¨åŽè°ƒç”¨ï¼Œé‚£ä¹ˆæŽ¨èä½¿ç”¨ bindã€‚.bind()å‡½æ•°çš„ä¼˜ç‚¹åœ¨äºŽå®ƒå¯ä»¥è®°å½•ä¸€ä¸ªæ‰§è¡ŒçŽ¯å¢ƒï¼Œå¯¹äºŽå¼‚æ­¥è°ƒç”¨å’Œäº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹å¾ˆæœ‰ç”¨ã€‚ .bind()ä¼ å‚æ•°çš„æ–¹å¼å’Œ call ç›¸åŒã€‚ 123456789const Snow = &#123; surename: "Snow" &#125;;const char = &#123; surename: "Stark", knows: function(arg, name) &#123; console.log(`You know $&#123;arg&#125;, $&#123;name&#125; $&#123;this.surename&#125;`); &#125;&#125;;const whoKnowsNothing = char.knows.bind(Snow, "nothing");whoKnowsNothing("Jon"); // You know nothing, Jon Snow this å…³é”®å­—è¦ç†è§£ JavaScript ä¸­ this å…³é”®å­—ï¼Œç‰¹åˆ«æ˜¯å®ƒæŒ‡å‘è°ï¼Œæœ‰æ—¶å€™ç›¸å½“åœ°å¤æ‚ã€‚this çš„å€¼é€šå¸¸ç”±å‡½æ•°çš„æ‰§è¡ŒçŽ¯å¢ƒå†³å®šã€‚ç®€å•çš„è¯´ï¼Œæ‰§è¡ŒçŽ¯å¢ƒæŒ‡å‡½æ•°å¦‚ä½•è¢«è°ƒç”¨çš„ã€‚this åƒæ˜¯ä¸€ä¸ªå ä½ç¬¦(placeholder)ï¼Œå®ƒæŒ‡å‘å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œè°ƒç”¨å¯¹åº”çš„æ–¹æ³•çš„å¯¹è±¡ã€‚ ä¸‹é¢æœ‰åºåœ°åˆ—å‡ºäº†åˆ¤æ–­ this æŒ‡å‘çš„è§„åˆ™ã€‚å¦‚æžœç¬¬ä¸€æ¡åŒ¹é…ï¼Œé‚£ä¹ˆå°±ä¸ç”¨åŽ»æ£€æŸ¥ç¬¬äºŒæ¡äº†ã€‚ new ç»‘å®šå½“ä½¿ç”¨ new å…³é”®å­—è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œthis æŒ‡å‘æ–°æž„å»ºçš„å¯¹è±¡(å®žä¾‹)ã€‚ 123456function Person(name,age)&#123; this.name = name; this.age = age; console.log(this);&#125;const = Rachel = new Person('Rachel',30); // &#123;name: 'Rachel',age: 30&#125; æ˜¾ç¤ºç»‘å®š(Explicit binding)å½“ä½¿ç”¨ call æˆ–åˆ™ apply çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¾ç¤ºçš„ä¼ å…¥ä¸€ä¸ªå¯¹è±¡å‚æ•°ï¼Œè¯¥å‚æ•°ä¼šç»‘å®šåˆ° thisã€‚ æ³¨æ„ï¼š.bind()å‡½æ•°ä¸ä¸€æ ·ã€‚ç”¨ bind å®šä¹‰ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä½†æ˜¯ä¾ç„¶ç»‘å®šåˆ°åŽŸæ¥çš„å¯¹è±¡ã€‚ 12345678function fn() &#123; console.log(this);&#125;var agent = &#123; id: "007" &#125;;fn.call(agent); // &#123; id: '007' &#125;fn.apply(agent); // &#123; id: '007' &#125;var boundFn = fn.bind(agent);boundFn(); // &#123; id: '007' &#125; éšå¼ç»‘å®šå½“ä¸€ä¸ªå‡½æ•°åœ¨æŸä¸ªçŽ¯å¢ƒä¸‹è°ƒç”¨(åœ¨æŸä¸ªå¯¹è±¡é‡Œ)ï¼Œthis æŒ‡å‘è¯¥å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´è¯¥å‡½æ•°æ˜¯å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ã€‚ 1234567var building = &#123; floors: 5, printThis: function() &#123; console.log(this); &#125;&#125;;building.printThis(); // &#123; floors: 5, printThis: function() &#123;â€¦&#125; &#125; é»˜è®¤ç»‘å®šå¦‚æžœä¸Šé¢æ‰€æœ‰çš„è§„åˆ™éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆ this æŒ‡å‘å…¨å±€å¯¹è±¡(åœ¨æµè§ˆå™¨ä¸­ï¼Œå°±æ˜¯ window å¯¹è±¡)ã€‚å½“å‡½æ•°æ²¡æœ‰ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ï¼Œè€Œå•ç‹¬å®šä¹‰çš„æ—¶å€™ï¼Œè¯¥å‡½æ•°é»˜è®¤ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚ 1234function printWindow() &#123; console.log(this);&#125;printWindow(); // window object æ³¨æ„ï¼šä¸‹é¢çš„æƒ…å†µä¸­ï¼Œinner å‡½æ•°ä¸­çš„ this æŒ‡å‘å…¨å±€ã€‚ 12345678910function Dinosaur(name) &#123; this.name = name; var self = this; inner(); function inner() &#123; alert(this); // window object â€” the function has overwritten the 'this' context console.log(self); // &#123;name: 'Dino'&#125; â€” referencing the stored value from the outer context &#125;&#125;var myDinosaur = new Dinosaur("Dino"); è¯æ³•(Lexical) thiså½“æ˜¯ä½¿ç”¨=&gt;æ¥å®šä¹‰å‡½æ•°æ—¶ï¼Œthis æŒ‡å‘å®šä¹‰è¯¥å‡½æ•°æ—¶å€™å¤–å±‚çš„ thisã€‚å¤‡æ³¨ï¼šå¤§æ¦‚æ˜¯å’Œå®šä¹‰çš„è¯æ³•(=&gt;)æœ‰å…³ï¼ŒæŠŠå®ƒç§°ä½œ Lexical thisã€‚ 123456function Cat(name) &#123; this.name = name; console.log(this); // &#123; name: 'Garfield' &#125; (() =&gt; console.log(this))(); // &#123; name: 'Garfield' &#125;&#125;var myCat = new Cat("Garfield"); åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿«é€ŸæŽŒæ¡JavaScripté¢è¯•åŸºç¡€1]]></title>
    <url>%2F2018%2F02%2F20%2F%E5%BF%AB%E9%80%9F%E6%8E%8C%E6%8F%A1JavaScript%E9%9D%A2%E8%AF%95%E5%9F%BA%E7%A1%801%2F</url>
    <content type="text"><![CDATA[ç±»åž‹å’Œç±»åž‹è½¬æ¢åœ¨ JavaScript ä¸­æœ‰ 7 ä¸ªå†…ç½®ç±»åž‹ï¼šnull,undefined,boolean,number,string,object å’Œ symbolï¼ˆES6)ã€‚ é™¤äº† object ä»¥å¤–ï¼Œå…¶ä»–éƒ½å«åšåŸºæœ¬ç±»åž‹ã€‚ 123456typeof 0; //numbertypeof true; // booleantypeof "abc"; // stringtypeof null; // objecttypeof undefined; // undefinedtypeof Symbol("Hi"); // symbol Null vs. Undefined Undefinedè¡¨ç¤ºæœªå®šä¹‰ã€‚å¯¹äºŽæ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡ï¼Œå‡½æ•°è°ƒç”¨æ—¶æœªæä¾›çš„å‡½æ•°å‚æ•°ï¼Œä¸å­˜åœ¨çš„å¯¹è±¡å±žæ€§ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼å°±æ˜¯ undefinedã€‚å¦‚æžœä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›žè¯­å¥ï¼Œé‚£ä¹ˆé»˜è®¤çš„è¿”å›žå€¼ä¹Ÿæ˜¯ undefinedã€‚ Nullè¡¨ç¤ºå€¼ä¸ºç©ºã€‚ä¸€ä¸ªå˜é‡æˆ‘ä»¬å¯ä»¥å°†å…¶èµ‹å€¼ä¸º null,è¡¨ç¤ºå½“å‰æ²¡æœ‰å€¼ã€‚ éšå¼è½¬æ¢ 1234var name = "Joey";if (name) &#123; console.log(name + " doesn't share food!"); // Joey doesnâ€™t share food!&#125; åœ¨ if è¯­å¥çš„æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œname ä»Žå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¸ƒå°”åž‹ã€‚åœ¨ if çš„ä»£ç å—ä¸­ï¼Œåœ¨æŽ§åˆ¶å°å°† name åŽŸåŽŸæœ¬æœ¬æ‰“å°å‡ºæ¥ã€‚ä½ çŸ¥é“åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å­—ç¬¦ä¸²ä¼šè½¬æ¢ä¸ºçœŸï¼Œä»€ä¹ˆæ—¶å€™ä¸ºå‡ä¹ˆï¼Ÿ &quot;&quot;ï¼Œ0ï¼Œ nullï¼Œundefined, NaN, false ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºfalseã€‚å…¶å®ƒçš„éƒ½ä¼šè½¬æ¢ä¸ºçœŸï¼š 123456Boolean(null); // falseBoolean("hello"); // trueBoolean("0"); // trueBoolean(" "); // trueBoolean([]); // trueBoolean(function() &#123;&#125;); // true ç©ºæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°å®šä¹‰éƒ½ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºçœŸã€‚ String &amp; Number ä¹‹é—´çš„è½¬æ¢- ç¬¬ä¸€ä¸ªä½ è¦éžå¸¸å°å¿ƒçš„æ˜¯+æ“ä½œç¬¦ã€‚å› ä¸ºå®ƒåŒæ—¶ç”¨äºŽæ•°å­—ç›¸åŠ å’Œå­—ç¬¦ä¸²æ‹¼æŽ¥ã€‚ *,/,-åªç”¨äºŽæ•°å­—è¿ç®—ï¼Œå½“è¿™äº›æ“ä½œç¬¦å’Œå­—ç¬¦ä¸²ä¸€èµ·ä½¿ç”¨ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸²ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ã€‚ 12345678910111 + "2" = "12""" + 1 + 0 = "10""" - 1 + 0 = -1"-9\n" + 5 = "-9\n5""-9\n" - 5 = -14"2" * "3" = 64 + 5 + "px" = "9px""$" + 4 + 5 = "$45""4" - 2 = 2"4px" - 2 = NaNnull + 1 = 1 == vs. === ä¸€ä¸ªå¹¿æ³›è¢«æŽ¥å—çš„è®¤çŸ¥å°±æ˜¯ï¼š==åˆ¤æ–­å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ===åŒæ—¶åˆ¤æ–­å€¼æ˜¯å¦ç›¸ç­‰å’Œç±»åž‹æ˜¯å¦ç›¸åŒã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰äº›è¯¯è§£ã€‚ å®žé™…ä¸Šï¼Œ==åœ¨éªŒè¯ç›¸ç­‰æ€§çš„æ—¶å€™ï¼Œä¼šå¯¹ç±»åž‹ä¸åŒçš„å€¼åšä¸€ä¸ªç±»åž‹è½¬æ¢ã€‚===å¯¹è¦åˆ¤æ–­çš„å€¼ä¸åšç±»åž‹è½¬æ¢ã€‚ 12342 == "2"; // True2 === "2"; // Falseundefined == null; // Trueundefined === null; // False ç±»åž‹è½¬æ¢æœ‰å¾ˆå¤šå–å·§çš„åœ°æ–¹ï¼Œè¦æ³¨æ„ï¼š 1234let a = "0";console.log(Boolean(a)); // Truelet b = false;console.log(Boolean(b)); // False ä½ è®¤ä¸ºä¸‹é¢çš„ç›¸ç­‰åˆ¤æ–­ä¼šè¾“å‡ºä»€ä¹ˆå€¼å‘¢? 1console.log(a == b); å®žé™…ä¸Šä¼šè¿”å›ž trueã€‚çŸ¥é“ä¸ºä»€ä¹ˆå—ï¼Ÿ å¦‚æžœä½ å°†ä¸€ä¸ªå¸ƒå°”ç±»åž‹çš„å’Œéžå¸ƒå°”ç±»åž‹çš„åˆ¤æ–­ï¼ŒJavaScript ä¼šå°†å¸ƒå°”ç±»åž‹çš„è½¬æ¢ä¸ºæ•°å­—ç„¶åŽå†æ¯”å¯¹ã€‚æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š 123"0" == false(1);"0" == 0(2);0 == 0(3); æ‰€ä»¥ï¼Œæœ€ç»ˆå˜æˆäº† 0==0ï¼Œå½“ç„¶è¿”å›ž true å•¦ã€‚ ä¸€äº›æ¯”è¾ƒå®¹æ˜“æŽ‰å‘çš„æ¯”è¾ƒï¼Œæˆ‘åœ¨è¿™é‡Œåˆ—å‡ºæ¥ï¼š 123456789false == ""; // truefalse == []; // truefalse == &#123;&#125;; // false"" == 0; // true"" == []; // true"" == &#123;&#125;; // false0 == []; // true0 == &#123;&#125;; // false0 == null; // false å€¼ vs. å¼•ç”¨å¯¹äºŽåŸºæœ¬ç±»åž‹çš„å€¼ï¼Œèµ‹å€¼æ˜¯é€šè¿‡å€¼æ‹·è´çš„å½¢å¼ï¼›æ¯”å¦‚ï¼šnullï¼Œundefinedï¼Œbooleanï¼Œnumberï¼Œstring å’Œ ES6 çš„ symbolã€‚å¯¹äºŽå¤æ‚ç±»åž‹çš„å€¼ï¼Œé€šè¿‡å¼•ç”¨æ‹·è´çš„å½¢å¼èµ‹å€¼ã€‚æ¯”å¦‚ï¼šå¯¹è±¡ã€å¯¹è±¡åŒ…æ‹¬æ•°ç»„å’Œå‡½æ•°ã€‚ 1234567891011121314var a = 2; // 'a' hold a copy of the value 2.var b = a; // 'b' is always a copy of the value in 'a'b++;console.log(a); // 2console.log(b); // 3var c = [1, 2, 3];var d = c; // 'd' is a reference to the shared valued.push(4); // Mutates the referenced value (object)console.log(c); // [1,2,3,4]console.log(d); // [1,2,3,4]/* Compound values are equal by reference */var e = [1, 2, 3, 4];console.log(c === d); // trueconsole.log(c === e); // false å¦‚æžœæƒ³å¯¹å¤æ‚ç±»åž‹çš„å€¼è¿›è¡Œå€¼æ‹·è´ï¼Œä½ éœ€è¦è‡ªå·±åŽ»å¯¹æ‰€æœ‰å­å…ƒç´ è¿›è¡Œæ‹·è´ã€‚ 1234const copy = c.slice(); // 'copy' å³ä½¿copyå’Œcç›¸åŒï¼Œä½†æ˜¯copyæŒ‡å‘æ–°çš„å€¼console.log(c); // [1,2,3,4]console.log(copy); // [1,2,3,4]console.log(c === copy); // false ä½œç”¨åŸŸï¼ˆScopeï¼‰ä½œç”¨åŸŸæ˜¯ç¨‹åºçš„æ‰§è¡ŒçŽ¯å¢ƒï¼Œå®ƒåŒ…å«äº†åœ¨å½“å‰ä½ç½®å¯è®¿é—®çš„å˜é‡å’Œå‡½æ•°ã€‚ å…¨å±€ä½œç”¨åŸŸæ˜¯æœ€å¤–å±‚çš„ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡å±žäºŽå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥è¢«ä»»ä½•å…¶ä»–å­ä½œç”¨åŸŸè®¿é—®ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œwindow å¯¹è±¡å°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚ å±€éƒ¨ä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°å†…éƒ¨çš„ä½œç”¨åŸŸã€‚åœ¨å±€éƒ¨ä½œç”¨åŸŸå®šä¹‰çš„å˜é‡åªèƒ½åœ¨è¯¥ä½œç”¨åŸŸä»¥åŠå…¶å­ä½œç”¨åŸŸè¢«è®¿é—®ã€‚ 123456789101112131415function outer() &#123; let a = 1; function inner() &#123; let b = 2; function innermost() &#123; let c = 3; console.log(a, b, c); // 1 2 3 &#125; innermost(); console.log(a, b); // 1 2 â€” 'c' is not defined &#125; inner(); console.log(a); // 1 â€” 'b' and 'c' are not defined&#125;outer(); ä½ å¯ä»¥å°†ä½œç”¨åŸŸæƒ³è±¡æˆä¸€ç³»åˆ—ä¸æ–­å˜å°çš„é—¨ã€‚å¦‚æžœä¸€ä¸ªä¸ªå­ä¸é«˜çš„äººå¯ä»¥ç©¿è¿‡æœ€å°çš„é—¨(å±€éƒ¨æœ€å°ä½œç”¨åŸŸ)ï¼Œé‚£ä¹ˆå¿…ç„¶å¯ä»¥ç©¿è¿‡ä»»ä½•æ¯”å®ƒå¤§çš„é—¨(å¤–éƒ¨ä½œç”¨åŸŸ)ã€‚ æå‡(Hoisting)åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œå°† var å’Œ function çš„å®šä¹‰ç§»åŠ¨åˆ°ä»–ä»¬ä½œç”¨åŸŸæœ€å‰é¢çš„è¡Œä¸ºå«åšæå‡ã€‚ æ•´ä¸ªå‡½æ•°å®šä¹‰ä¼šè¢«æå‡ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥åœ¨å‡½æ•°è¿˜æœªå®šä¹‰ä¹‹å‰è°ƒç”¨å®ƒï¼Œè€Œä¸ç”¨æ‹…å¿ƒæ‰¾ä¸åˆ°è¯¥å‡½æ•°ã€‚ 12345console.log(toSquare(3)); // 9function toSquare(n) &#123; return n * n;&#125; å˜é‡åªä¼šè¢«éƒ¨åˆ†æå‡ã€‚è€Œä¸”åªæœ‰å˜é‡çš„å£°æ˜Žä¼šè¢«æå‡ï¼Œèµ‹å€¼ä¸ä¼šåŠ¨ã€‚ let å’Œ const ä¸ä¼šè¢«æå‡ã€‚ 12345678910111213141516171819202122232425&#123; /* Original code */ console.log(i); // undefined var i = 10; console.log(i); // 10&#125;&#123; /* Compilation phase */ var i; console.log(i); // undefined i = 10; console.log(i); // 10&#125;// ES6 let &amp; const&#123; console.log(i); // ReferenceError: i is not defined const i = 10; console.log(i); // 10&#125;&#123; console.log(i); // ReferenceError: i is not defined let i = 10; console.log(i); // 10&#125; å‡½æ•°è¡¨è¾¾å¼å’Œå‡½æ•°å£°æ˜Ž å‡½æ•°è¡¨è¾¾å¼ ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼æ˜¯åœ¨å‡½æ•°æ‰§è¡Œåˆ°å‡½æ•°è¡¨è¾¾å¼å®šä¹‰çš„ä½ç½®æ‰å¼€å§‹åˆ›å»ºï¼Œå¹¶è¢«ä½¿ç”¨ã€‚å®ƒä¸ä¼šè¢«æå‡ã€‚ 123var sum = function(a, b) &#123; return a + b;&#125;; å‡½æ•°å£°æ˜Ž å‡½æ•°å£°æ˜Žçš„å‡½æ•°å¯ä»¥åœ¨æ–‡ä»¶ä¸­ä»»æ„ä½ç½®è°ƒç”¨ï¼Œå› ä¸ºå®ƒä¼šè¢«æå‡ã€‚ 123function sum(a, b) &#123; return a + b;&#125; å˜é‡ï¼švarï¼Œlet å’Œ conståœ¨ ES6 ä¹‹å‰ï¼Œåªèƒ½ä½¿ç”¨ var æ¥å£°æ˜Žå˜é‡ã€‚åœ¨ä¸€ä¸ªå‡½æ•°ä½“ä¸­å£°æ˜Žçš„å˜é‡å’Œå‡½æ•°ï¼Œå‘¨å›´çš„ä½œç”¨åŸŸå†…æ— æ³•è®¿é—®ã€‚åœ¨å—ä½œç”¨åŸŸ if å’Œ for ä¸­å£°æ˜Žçš„å˜é‡ï¼Œå¯ä»¥åœ¨ if å’Œ for çš„å¤–éƒ¨è¢«è®¿é—®ã€‚ æ³¨æ„ï¼šå¦‚æžœæ²¡æœ‰ä½¿ç”¨ var,let æˆ–åˆ™ const å…³é”®å­—å£°æ˜Žçš„å˜é‡å°†ä¼šç»‘å®šåˆ°å…¨å±€ä½œç”¨åŸŸä¸Šã€‚ 1234567891011function greeting() &#123; console.log(s); // undefined if (true) &#123; var s = "Hi"; undeclaredVar = "I am automatically created in global scope"; &#125; console.log(s); // 'Hi'&#125;console.log(s); // Error â€” ReferenceError: s is not definedgreeting();console.log(undeclaredVar); // 'I am automatically created in global scope' ES6 çš„ let å’Œ const éƒ½æ˜¯æ–°å¼•å…¥çš„å…³é”®å­—ã€‚å®ƒä»¬ä¸ä¼šè¢«æå‡ï¼Œè€Œä¸”æ˜¯å—ä½œç”¨åŸŸã€‚ä¹Ÿå°±æ˜¯è¯´è¢«å¤§æ‹¬å·åŒ…å›´èµ·æ¥çš„åŒºåŸŸå£°æ˜Žçš„å˜é‡å¤–éƒ¨å°†ä¸å¯è®¿é—®ã€‚ 12345678910111213let g1 = "global 1";let g2 = "global 2";&#123; /* Creating a new block scope */ g1 = "new global 1"; let g2 = "local global 2"; console.log(g1); // 'new global 1' console.log(g2); // 'local global 2' console.log(g3); // ReferenceError: g3 is not defined let g3 = "I am not hoisted";&#125;console.log(g1); // 'new global 1'console.log(g2); // 'global 2' ä¸€ä¸ªå¸¸è§çš„è¯¯è§£æ˜¯ï¼šä½¿ç”¨ const å£°æ˜Žçš„å˜é‡ï¼Œå…¶å€¼ä¸å¯æ›´æ”¹ã€‚å‡†ç¡®åœ°è¯´å®ƒä¸å¯ä»¥è¢«é‡æ–°èµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥æ›´æ”¹ã€‚ 12345678910111213const tryMe = "initial assignment";tryMe = "this has been reassigned"; // TypeError: Assignment to constant variable.// You cannot reassign but you can change itâ€¦const array = ["Ted", "is", "awesome!"];array[0] = "Barney";array[3] = "Suit up!";console.log(array); // [â€œBarneyâ€, â€œisâ€, â€œawesome!â€, â€œSuit up!â€]const airplane = &#123;&#125;;airplane.wings = 2;airplane.passengers = 200;console.log(airplane); // &#123;passengers: 200, wings: 2&#125; åŽŸæ–‡åœ°å€]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>åŸºç¡€çŸ¥è¯†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptä¹‹åŽŸåž‹å’ŒåŽŸåž‹é“¾]]></title>
    <url>%2F2018%2F02%2F08%2FJavaScript%E4%B9%8B%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE%2F</url>
    <content type="text"><![CDATA[æž„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æˆ‘ä»¬å…ˆä½¿ç”¨æž„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š 1234function Person() &#123;&#125;var person = new Person();person.name = "lili";console.log(person.name); // lili åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPerson å°±æ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºäº†ä¸€ä¸ªå®žä¾‹å¯¹è±¡ personã€‚ prototypeæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±žæ€§ï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨å„ç§ä¾‹å­ä¸­çœ‹åˆ°é‚£ä¸ª prototype,æ¯”å¦‚ï¼š 123456789function Person() &#123;&#125;/** *è™½ç„¶å†™åœ¨æ³¨é‡Šäº†ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼šprototypeæ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±žæ€§ */Person.prototype.name = "Jay";var person1 = new Person();var person2 = new Person();console.log(person1.name); // jayconsole.log(person2.name); // jay é‚£è¿™ä¸ªå‡½æ•°çš„ prototype å±žæ€§åˆ°åº•æŒ‡å‘çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å…¶å®žï¼Œå‡½æ•°çš„ prototype å±žæ€§æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æž„é€ å‡½æ•°è€Œåˆ›å»ºçš„å®žä¾‹çš„åŽŸåž‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŽŸåž‹ã€‚ é‚£ä»€ä¹ˆæ˜¯åŽŸåž‹å‘¢ï¼Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼šæ¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼ˆnull é™¤å¤–ï¼‰åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸Žä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŽŸåž‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»ŽåŽŸåž‹â€˜ç»§æ‰¿â€™å±žæ€§ã€‚ è®©æˆ‘ä»¬ç”¨ä¸€å¼ å›¾è¡¨ç¤ºæž„é€ å‡½æ•°å’Œå®žä¾‹åŽŸåž‹ä¹‹é—´çš„å…³ç³»ï¼šåœ¨è¿™å¼ å›¾ä¸­æˆ‘ä»¬ç”¨çš„Object.prototypeè¡¨ç¤ºå®žä¾‹åŽŸåž‹ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€Žä¹ˆè¡¨ç¤ºå®žä¾‹ä¸Žå®žä¾‹åŽŸåž‹ï¼Œä¹Ÿå°±æ˜¯ person å’Œ Person.prototype ä¹‹é—´çš„å…³ç³»å‘¢ï¼Ÿ __proto__è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼ˆnull é™¤å¤–ï¼‰éƒ½å…·æœ‰çš„ä¸€ä¸ªå±žæ€§ï¼Œå«__proto__ï¼Œè¿™ä¸ªå±žæ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŽŸåž‹ï¼Œè¯æ˜Žå¦‚ä¸‹ï¼š 123function Person() &#123;&#125;var person = new Person();console.log(person.__proto__ === Person.prototype); // true æ›´æ–°å…³ç³»å›¾ï¼šæ—¢ç„¶å®žä¾‹å¯¹è±¡å’Œæž„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŽŸåž‹ï¼Œé‚£ä¹ˆåŽŸåž‹æ˜¯å¦æœ‰å±žæ€§æŒ‡å‘æž„é€ å‡½æ•°æˆ–è€…å®žä¾‹å‘¢ï¼Ÿ constructoræŒ‡å‘å®žä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæž„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®žä¾‹ï¼Œä½†æ˜¯åŽŸåž‹æŒ‡å‘æž„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯ç¬¬ä¸‰ä¸ªå±žæ€§: constructorï¼Œæ¯ä¸ªåŽŸåž‹éƒ½æœ‰ä¸€ä¸ª constructor å±žæ€§æŒ‡å‘å…³è”çš„æž„é€ å‡½æ•°ã€‚ 12function Person() &#123;&#125;console.log(Person === Object.prototype.constructor); å†æ›´æ–°å…³ç³»å›¾ï¼šç»¼ä¸Šæ‰€è¿°: 1234567function Person() &#123;&#125;var person = new Person();console.log(person.__proto__ === Person.prototype); // trueconsole.log((Person.prototype.constructor = Person)); // true// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥èŽ·å¾—å¯¹è±¡çš„åŽŸåž‹console.log(Object.getPrototypeOf(person) === Person.prototype); // true äº†è§£äº†æž„é€ å‡½æ•°ã€å®žä¾‹åŽŸåž‹ã€å’Œå®žä¾‹ä¹‹é—´çš„å…³ç³»ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬è®²è®²å®žä¾‹å’ŒåŽŸåž‹çš„å…³ç³»ã€‚ å®žä¾‹ä¸ŽåŽŸåž‹å½“è¯»å–å®žä¾‹çš„å±žæ€§æ—¶ï¼Œå¦‚æžœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸Žå¯¹è±¡å…³è”çš„åŽŸåž‹ä¸­çš„å±žæ€§ï¼Œå¦‚æžœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±åŽ»æ‰¾åŽŸåž‹çš„åŽŸåž‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚ä¸¾ä¸ªä¾‹å­ï¼š 12345678910function Person() &#123;&#125;Person.prototype.name = "jay";var person = new Person();person.name = "John";console.log(person.name); // Johndelete person.name;console.log(person.name); // jay åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®žä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±žæ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æžœè‡ªç„¶ä¸º Johnã€‚ ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±žæ€§æ—¶ï¼Œè¯»å– person.name,ä»Ž person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±žæ€§å°±ä¼šä»Ž person çš„åŽŸåž‹ä¹Ÿå°±æ˜¯ person.__proto__,ä¹Ÿå°±æ˜¯ Person.prototype ä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾æ‰“ name å±žæ€§ï¼Œç»“æžœä¸º jayã€‚ ä½†æ˜¯ä¸‡ä¸€æ²¡æ‰¾åˆ°å‘¢ï¼ŒåŽŸåž‹çš„åŽŸåž‹åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åŽŸåž‹çš„åŽŸåž‹åœ¨å‰é¢ï¼Œæˆ‘ä»¬å·²ç»è®²äº†åŽŸåž‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŽŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼š 123var obj = new Object();obj.name = "Kevin";console.log(obj.name); // Kevin å…¶å®žåŽŸåž‹å¯¹è±¡å°±æ˜¯é€šè¿‡ Object æž„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æ‰€è®²ï¼Œå®žä¾‹çš„__proto__æŒ‡å‘æž„é€ å‡½æ•°çš„ prototype,æ‰€ä»¥è½½æ›´æ–°å…³ç³»å›¾ï¼š åŽŸåž‹é“¾é‚£ Object.prototype çš„åŽŸåž‹å‘¢ï¼Ÿnull, æˆ‘ä»¬å¯ä»¥æ‰“å°ï¼š 1console.log(Object.prototype.__proto__ === null); // true ç„¶è€Œ null ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ null ä»£è¡¨â€™æ²¡æœ‰å¯¹è±¡â€™ï¼Œå³è¯¥å¤„ä¸è¯¥æœ‰å€¼ã€‚ æ‰€ä»¥ Object.prototype.__proto__çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŽŸåž‹ï¼Œå…¶å®žè¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚ æ‰€ä»¥æŸ¥æ‰¾å±žæ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚ æœ€åŽä¸€å¼ å…³ç³»å›¾ï¼š é¡ºä¾¿è¿˜è¦è¯´ä¸€ä¸‹ï¼Œå›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŽŸåž‹ç»„æˆçš„é“¾çŠ¶ç»“æž„å°±æ˜¯åŽŸåž‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚ è¡¥å……constructoré¦–å…ˆæ˜¯ constructor å±žæ€§ï¼Œä¾‹å­ï¼š 123function Person() &#123;&#125;var person = new Person();console.log(person.constructor == Person); // true å½“èŽ·å– person.constructor æ—¶ï¼Œå…¶å®ž person ä¸­å¹¶æ²¡æœ‰ constructor å±žæ€§ï¼Œå½“ä¸èƒ½è¯»å–åˆ° constructor å±žæ€§æ—¶ï¼Œä¼šä»Ž person çš„åŽŸåž‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŽŸåž‹ä¸­æœ‰è¿™ä¸ªå±žæ€§ï¼Œæ‰€ä»¥ï¼š 1person.constructor = Person.prototype.constructor; __proto__å…¶æ¬¡æ˜¯__proto__ ï¼Œç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéžæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŽŸåž‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äºŽ Person.prototype ä¸­ï¼Œå®žé™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäºŽ Object.prototype ï¼Œä¸Žå…¶è¯´æ˜¯ä¸€ä¸ªå±žæ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.__proto__ æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›žäº† Object.getPrototypeOf(obj)ã€‚ çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿæœ€åŽæ˜¯å…³äºŽç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»ŽåŽŸåž‹â€™ç»§æ‰¿â€™å±žæ€§â€ï¼Œå®žé™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œ å¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±žæ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºäº†ä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥ä¸Žå…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>åŽŸåž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯è·¨åŸŸæ•´ç†]]></title>
    <url>%2F2018%2F02%2F07%2F%E5%89%8D%E7%AB%AF%E8%B7%A8%E5%9F%9F%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ è·¨åŸŸä¸€è¯ä»Žå­—é¢æ„æ€çœ‹ï¼Œå°±æ˜¯è·¨åŸŸåå˜›ï¼Œä½†å®žé™…ä¸Šè·¨åŸŸçš„èŒƒå›´ç»å¯¹ä¸æ­¢é‚£ä¹ˆç‹­éš˜ã€‚å…·ä½“æ¦‚å¿µå¦‚ä¸‹ï¼šåªè¦åè®®ã€åŸŸåã€ç«¯å£æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸã€‚ä¹‹æ‰€ä»¥ä¼šäº§ç”Ÿè·¨åŸŸè¿™ä¸ªé—®é¢˜å‘¢ï¼Œå…¶å®žä¹Ÿå¾ˆå®¹æ˜“æƒ³æ˜Žç™½ï¼Œè¦æ˜¯éšä¾¿å¼•ç”¨å¤–éƒ¨æ–‡ä»¶ï¼Œä¸åŒæ ‡ç­¾ä¸‹çš„é¡µé¢å¼•ç”¨ç±»ä¼¼çš„å½¼æ­¤çš„æ–‡ä»¶ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“æ‡µé€¼çš„ï¼Œå®‰å…¨ä¹Ÿå¾—ä¸åˆ°ä¿éšœäº†å°±ã€‚ä»€ä¹ˆäº‹ï¼Œéƒ½æ˜¯å®‰å…¨ç¬¬ä¸€å˜›ã€‚ä½†åœ¨å®‰å…¨é™åˆ¶çš„åŒæ—¶ä¹Ÿç»™æ³¨å…¥ iframe æˆ–æ˜¯ ajax åº”ç”¨ä¸Šå¸¦æ¥äº†ä¸å°‘éº»çƒ¦ã€‚æ‰€ä»¥æˆ‘ä»¬è¦é€šè¿‡ä¸€äº›æ–¹æ³•ä½¿æœ¬åŸŸçš„ js èƒ½å¤Ÿæ“ä½œå…¶ä»–åŸŸçš„é¡µé¢å¯¹è±¡æˆ–è€…ä½¿å…¶ä»–åŸŸçš„ js èƒ½æ“ä½œæœ¬åŸŸçš„é¡µé¢å¯¹è±¡ï¼ˆiframe ä¹‹é—´ï¼‰ã€‚ ä¸‹é¢æ˜¯å…·ä½“çš„è·¨åŸŸæƒ…å†µè¯¦è§£ï¼š 123456789101112131415161718192021222324URL è¯´æ˜Ž æ˜¯å¦å…è®¸é€šä¿¡http://www.a.com/a.jshttp://www.a.com/b.js åŒä¸€åŸŸåä¸‹ å…è®¸http://www.a.com/lab/a.jshttp://www.a.com/script/b.js åŒä¸€åŸŸåä¸‹ä¸åŒæ–‡ä»¶å¤¹ å…è®¸http://www.a.com:8000/a.jshttp://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒç«¯å£ ä¸å…è®¸http://www.a.com/a.jshttps://www.a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒåè®® ä¸å…è®¸http://www.a.com/a.jshttp://70.32.92.74/b.js åŸŸåå’ŒåŸŸåå¯¹åº”ip ä¸å…è®¸http://www.a.com/a.jshttp://script.a.com/b.js ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒ ä¸å…è®¸ï¼ˆcookieè¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸å…è®¸è®¿é—®ï¼‰http://www.a.com/a.jshttp://a.com/b.js åŒä¸€åŸŸåï¼Œä¸åŒäºŒçº§åŸŸåï¼ˆåŒä¸Šï¼‰ ä¸å…è®¸ï¼ˆcookieè¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸å…è®¸è®¿é—®ï¼‰http://www.cnblogs.com/a.jshttp://www.a.com/b.js ä¸åŒåŸŸå ä¸å…è®¸ è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤ç‚¹: å¦‚æžœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜â€œå‰å°â€æ˜¯æ— èƒ½ä¸ºåŠ›çš„ï¼› åœ¨è·¨åŸŸé—®é¢˜ä¸Šï¼ŒåŸŸä»…ä»…æ˜¯é€šè¿‡â€œURL çš„é¦–éƒ¨â€æ¥è¯†åˆ«è€Œä¸ä¼šåŽ»å°è¯•åˆ¤æ–­ç›¸åŒçš„ ip åœ°å€å¯¹åº”ç€ä¸¤ä¸ªåŸŸæˆ–ä¸¤ä¸ªåŸŸæ˜¯å¦åœ¨åŒä¸€ä¸ª ip ä¸Šã€‚(â€œURL çš„é¦–éƒ¨â€æŒ‡ window.location.protocol +window.location.hostï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºâ€œDomains, protocols and ports must matchâ€ã€‚) é€šè¿‡ document.domain è·¨åŸŸ å‰é¢è¯´è¿‡äº†ï¼Œæµè§ˆå™¨æœ‰ä¸€ä¸ªåŒæºç­–ç•¥ï¼Œå…¶é™åˆ¶ä¹‹ä¸€æ˜¯ä¸èƒ½é€šè¿‡ ajax çš„æ–¹æ³•åŽ»è¯·æ±‚ä¸åŒæºä¸­çš„æ–‡æ¡£ã€‚ç¬¬äºŒä¸ªé™åˆ¶æ˜¯æµè§ˆå™¨ä¸­ä¸åŒåŸŸçš„æ¡†æž¶ä¹‹é—´æ˜¯ä¸èƒ½è¿›è¡Œ js çš„äº¤äº’æ“ä½œçš„ã€‚ä¸åŒçš„æ¡†æž¶ä¹‹é—´æ˜¯å¯ä»¥èŽ·å– window å¯¹è±¡çš„ï¼Œä½†å´æ— æ³•èŽ·å–ç›¸åº”çš„å±žæ€§å’Œæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€ä¸ªé¡µé¢ï¼Œå®ƒçš„åœ°å€æ˜¯www.damonare.cn/a.html ï¼Œ åœ¨è¿™ä¸ªé¡µé¢é‡Œé¢æœ‰ä¸€ä¸ª iframeï¼Œå®ƒçš„ src æ˜¯damonare.cn/b.html, å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªé¡µé¢ä¸Žå®ƒé‡Œé¢çš„ iframe æ¡†æž¶æ˜¯ä¸åŒåŸŸçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯æ— æ³•é€šè¿‡åœ¨é¡µé¢ä¸­ä¹¦å†™ js ä»£ç æ¥èŽ·å– iframe ä¸­çš„ä¸œè¥¿çš„ï¼š 123456789&lt;script type="text/javascript"&gt; function test()&#123; var iframe = document.getElementById('ifame'); var win = iframe.contentWindow;//å¯ä»¥èŽ·å–åˆ°iframeé‡Œçš„windowå¯¹è±¡ï¼Œä½†è¯¥windowå¯¹è±¡çš„å±žæ€§å’Œæ–¹æ³•å‡ ä¹Žæ˜¯ä¸å¯ç”¨çš„ var doc = win.document;//è¿™é‡ŒèŽ·å–ä¸åˆ°iframeé‡Œçš„documentå¯¹è±¡ var name = win.name;//è¿™é‡ŒåŒæ ·èŽ·å–ä¸åˆ°windowå¯¹è±¡çš„nameå±žæ€§ &#125;&lt;/script&gt;&lt;iframe id = "iframe" src="http://damonare.cn/b.html" onload = "test()"&gt;&lt;/iframe&gt; è¿™ä¸ªæ—¶å€™ï¼Œdocument.domainå°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ï¼Œæˆ‘ä»¬åªè¦æŠŠwww.damonare.cn/a.htmlå’Œdamonare.cn/b.htmlè¿™ä¸¤ä¸ªé¡µé¢çš„document.domainéƒ½è®¾æˆç›¸åŒçš„åŸŸåå°±å¯ä»¥äº†ã€‚ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œdocument.domainçš„è®¾ç½®æ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘ä»¬åªèƒ½æŠŠdocument.domainè®¾ç½®æˆè‡ªèº«æˆ–æ›´é«˜ä¸€çº§çš„çˆ¶åŸŸï¼Œä¸”ä¸»åŸŸå¿…é¡»ç›¸åŒã€‚ åœ¨é¡µé¢www.damonare.cn/a.htmlä¸­è®¾ç½®document.domain: 1234567&lt;iframe id = "iframe" src="http://damonare.cn/b.html" onload = "test()"&gt;&lt;/iframe&gt;&lt;script type="text/javascript"&gt; document.domain = 'damonare.cn';//è®¾ç½®æˆä¸»åŸŸ function test()&#123; alert(document.getElementById('iframe').contentWindow);//contentWindow å¯å–å¾—å­çª—å£çš„ window å¯¹è±¡ &#125;&lt;/script&gt; åœ¨é¡µé¢damonare.cn/b.htmlä¸­ä¹Ÿè®¾ç½®document.domain: 1234&lt;script type="text/javascript"&gt; document.domain = 'damonare.cn';//åœ¨iframeè½½å…¥è¿™ä¸ªé¡µé¢ä¹Ÿè®¾ç½®document.domainï¼Œä½¿ä¹‹ä¸Žä¸»é¡µé¢çš„document.domainç›¸åŒ&lt;/script&gt; ä¿®æ”¹document.domainçš„æ–¹æ³•åªé€‚ç”¨äºŽä¸åŒå­åŸŸçš„æ¡†æž¶é—´çš„äº¤äº’ã€‚ é€šè¿‡ location.hash è·¨åŸŸ å› ä¸ºçˆ¶çª—å£å¯ä»¥å¯¹ iframe è¿›è¡Œ URL è¯»å†™ï¼Œiframe ä¹Ÿå¯ä»¥è¯»å†™çˆ¶çª—å£çš„ URLï¼ŒURL æœ‰ä¸€éƒ¨åˆ†è¢«ç§°ä¸º hashï¼Œå°±æ˜¯#å·åŠå…¶åŽé¢çš„å­—ç¬¦ï¼Œå®ƒä¸€èˆ¬ç”¨äºŽæµè§ˆå™¨é”šç‚¹å®šä½ï¼ŒServer ç«¯å¹¶ä¸å…³å¿ƒè¿™éƒ¨åˆ†ï¼Œåº”è¯¥è¯´ HTTP è¯·æ±‚è¿‡ç¨‹ä¸­ä¸ä¼šæºå¸¦ hashï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„ä¿®æ”¹ä¸ä¼šäº§ç”Ÿ HTTP è¯·æ±‚ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿæµè§ˆå™¨åŽ†å²è®°å½•ã€‚æ­¤æ–¹æ³•çš„åŽŸç†å°±æ˜¯æ”¹å˜ URL çš„ hash éƒ¨åˆ†æ¥è¿›è¡ŒåŒå‘é€šä¿¡ã€‚æ¯ä¸ª window é€šè¿‡æ”¹å˜å…¶ä»– window çš„ location æ¥å‘é€æ¶ˆæ¯ï¼ˆç”±äºŽä¸¤ä¸ªé¡µé¢ä¸åœ¨åŒä¸€ä¸ªåŸŸä¸‹ IEã€Chrome ä¸å…è®¸ä¿®æ”¹ parent.location.hash çš„å€¼ï¼Œæ‰€ä»¥è¦å€ŸåŠ©äºŽçˆ¶çª—å£åŸŸåä¸‹çš„ä¸€ä¸ªä»£ç† iframeï¼‰ï¼Œå¹¶é€šè¿‡ç›‘å¬è‡ªå·±çš„ URL çš„å˜åŒ–æ¥æŽ¥æ”¶æ¶ˆæ¯ã€‚è¿™ä¸ªæ–¹å¼çš„é€šä¿¡ä¼šé€ æˆä¸€äº›ä¸å¿…è¦çš„æµè§ˆå™¨åŽ†å²è®°å½•ï¼Œè€Œä¸”æœ‰äº›æµè§ˆå™¨ä¸æ”¯æŒ onhashchange äº‹ä»¶ï¼Œéœ€è¦è½®è¯¢æ¥èŽ·çŸ¥ URL çš„æ”¹å˜ï¼Œæœ€åŽï¼Œè¿™æ ·åšä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œè¯¸å¦‚æ•°æ®ç›´æŽ¥æš´éœ²åœ¨äº† url ä¸­ï¼Œæ•°æ®å®¹é‡å’Œç±»åž‹éƒ½æœ‰é™ç­‰ã€‚ å‡å¦‚çˆ¶é¡µé¢æ˜¯ baidu.com/a.html,iframe åµŒå…¥çš„é¡µé¢ä¸º google.com/b.htmlï¼ˆæ­¤å¤„çœç•¥äº†åŸŸåç­‰ url å±žæ€§ï¼‰ï¼Œè¦å®žçŽ°æ­¤ä¸¤ä¸ªé¡µé¢é—´çš„é€šä¿¡å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ã€‚1, a.html ä¼ é€æ•°æ®åˆ° b.html a.html ä¸‹ä¿®æ”¹ iframe çš„ src ä¸º google.com/b.html#paco b.html ç›‘å¬åˆ° url å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ç›¸åº”æ“ä½œ 2, b.html ä¼ é€æ•°æ®åˆ° a.htmlï¼Œç”±äºŽä¸¤ä¸ªé¡µé¢ä¸åœ¨åŒä¸€ä¸ªåŸŸä¸‹ IEã€Chrome ä¸å…è®¸ä¿®æ”¹ parent.location.hash çš„å€¼ï¼Œæ‰€ä»¥è¦å€ŸåŠ©äºŽçˆ¶çª—å£åŸŸåä¸‹çš„ä¸€ä¸ªä»£ç† iframe b.html ä¸‹åˆ›å»ºä¸€ä¸ªéšè—çš„ iframeï¼Œæ­¤ iframe çš„ src æ˜¯ baidu.com åŸŸä¸‹çš„ï¼Œå¹¶æŒ‚ä¸Šè¦ä¼ é€çš„ hash æ•°æ®ï¼Œå¦‚ src=â€www.baidu.com/proxy.html#â€¦â€ proxy.html ç›‘å¬åˆ° url å‘ç”Ÿå˜åŒ–ï¼Œä¿®æ”¹ a.html çš„ urlï¼ˆå› ä¸º a.html å’Œ proxy.html åŒåŸŸï¼Œæ‰€ä»¥ proxy.html å¯ä¿®æ”¹ a.html çš„ url hashï¼‰ a.html ç›‘å¬åˆ° url å‘ç”Ÿå˜åŒ–ï¼Œè§¦å‘ç›¸åº”æ“ä½œ b.html é¡µé¢çš„å…³é”®ä»£ç å¦‚ä¸‹: 123456789try &#123; parent.location.hash = "data";&#125; catch (e) &#123; // ieã€chromeçš„å®‰å…¨æœºåˆ¶æ— æ³•ä¿®æ”¹parent.location.hashï¼Œ var ifrproxy = document.createElement("iframe"); ifrproxy.style.display = "none"; ifrproxy.src = "http://www.baidu.com/proxy.html#data"; document.body.appendChild(ifrproxy);&#125; proxy.html é¡µé¢çš„å…³é”®ä»£ç å¦‚ä¸‹ : 12//å› ä¸ºparent.parentï¼ˆå³baidu.com/a.htmlï¼‰å’Œbaidu.com/proxy.htmlå±žäºŽåŒä¸€ä¸ªåŸŸï¼Œæ‰€ä»¥å¯ä»¥æ”¹å˜å…¶location.hashçš„å€¼parent.parent.location.hash = self.location.hash.substring(1); é€šè¿‡ HTML5 çš„ postMessage æ–¹æ³•è·¨åŸŸ é«˜çº§æµè§ˆå™¨ Internet Explorer 8+, chromeï¼ŒFirefox , Opera å’Œ Safari éƒ½å°†æ”¯æŒè¿™ä¸ªåŠŸèƒ½ã€‚è¿™ä¸ªåŠŸèƒ½ä¸»è¦åŒ…æ‹¬æŽ¥å—ä¿¡æ¯çš„â€messageâ€äº‹ä»¶å’Œå‘é€æ¶ˆæ¯çš„â€postMessageâ€æ–¹æ³•ã€‚ æ¯”å¦‚ damonare.cn åŸŸçš„ A é¡µé¢é€šè¿‡ iframe åµŒå…¥äº†ä¸€ä¸ª google.com åŸŸçš„ B é¡µé¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®žçŽ° A å’Œ B çš„é€šä¿¡ã€‚ A é¡µé¢é€šè¿‡ postMessage æ–¹æ³•å‘é€æ¶ˆæ¯ï¼š 12345window.onload = function() &#123; var ifr = document.getElementById("ifr"); var targetOrigin = "http://www.google.com"; ifr.contentWindow.postMessage("hello", targetOrigin);&#125;; postMessage çš„ä½¿ç”¨æ–¹æ³•ï¼š otherWindow.postMessage(message, targetOrigin); otherWindow:æŒ‡ç›®æ ‡çª—å£ï¼Œä¹Ÿå°±æ˜¯ç»™å“ªä¸ª window å‘æ¶ˆæ¯ï¼Œæ˜¯ window.frames å±žæ€§çš„æˆå‘˜æˆ–è€…ç”± window.open æ–¹æ³•åˆ›å»ºçš„çª—å£ message:æ˜¯è¦å‘é€çš„æ¶ˆæ¯ï¼Œç±»åž‹ä¸º Stringã€Object(IE8ã€9 ä¸æ”¯æŒ)targetOrigin:æ˜¯é™å®šæ¶ˆæ¯æŽ¥æ”¶èŒƒå›´ï¼Œä¸é™åˆ¶è¯·ä½¿ç”¨ â€˜*â€™ B é¡µé¢é€šè¿‡ message äº‹ä»¶ç›‘å¬å¹¶æŽ¥å—æ¶ˆæ¯: 1234567891011121314var onmessage = function(ev) &#123; var data = ev.data; // æ¶ˆæ¯ var origin = ev.origin; // æ¶ˆæ¯æ¥æºåœ°å€ var source = ev.source; // æºwindowå¯¹è±¡ if (origin == "http://www.baidu.com") &#123; console.log(data); // hello &#125;&#125;;if (window.addEventListener != "undefined") &#123; window.addEventListener("message", onmessage, false);&#125; else if (window.attachEvent != "undefined") &#123; // ie window.attachEvent("message", onmessage);&#125; åŒç†ï¼Œä¹Ÿå¯ä»¥ B é¡µé¢å‘é€æ¶ˆæ¯ï¼Œç„¶åŽ A é¡µé¢ç›‘å¬å¹¶æŽ¥å—æ¶ˆæ¯ã€‚ é€šè¿‡ jsonp è·¨åŸŸ åˆšæ‰è¯´çš„è¿™å‡ ç§éƒ½æ˜¯åŒå‘é€šä¿¡çš„ï¼Œå³ä¸¤ä¸ª iframeï¼Œé¡µé¢ä¸Ž iframe æˆ–æ˜¯é¡µé¢ä¸Žé¡µé¢ä¹‹é—´çš„ï¼Œä¸‹é¢è¯´å‡ ç§å•é¡¹è·¨åŸŸçš„ï¼ˆä¸€èˆ¬ç”¨æ¥èŽ·å–æ•°æ®ï¼‰ï¼Œå› ä¸ºé€šè¿‡ script æ ‡ç­¾å¼•å…¥çš„ js æ˜¯ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ script æ ‡ç­¾å¼•å…¥ä¸€ä¸ª js æˆ–è€…æ˜¯ä¸€ä¸ªå…¶ä»–åŽç¼€å½¢å¼ï¼ˆå¦‚ phpï¼Œjsp ç­‰ï¼‰çš„æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶è¿”å›žä¸€ä¸ª js å‡½æ•°çš„è°ƒç”¨ã€‚ æ¯”å¦‚ï¼Œæœ‰ä¸ª a.html é¡µé¢ï¼Œå®ƒé‡Œé¢çš„ä»£ç éœ€è¦åˆ©ç”¨ ajax èŽ·å–ä¸€ä¸ªä¸åŒåŸŸä¸Šçš„ json æ•°æ®ï¼Œå‡è®¾è¿™ä¸ª json æ•°æ®åœ°å€æ˜¯ damonare.cn/data.php, é‚£ä¹ˆ a.html ä¸­çš„ä»£ç å°±å¯ä»¥è¿™æ ·ï¼š 123456&lt;script type="text/javascript"&gt; function dosomething(jsondata)&#123; //å¤„ç†èŽ·å¾—çš„jsonæ•°æ® &#125;&lt;/script&gt;&lt;script src="http://example.com/data.php?callback=dosomething"&gt;&lt;/script&gt; æˆ‘ä»¬çœ‹åˆ°èŽ·å–æ•°æ®çš„åœ°å€åŽé¢è¿˜æœ‰ä¸€ä¸ª callback å‚æ•°ï¼ŒæŒ‰æƒ¯ä¾‹æ˜¯ç”¨è¿™ä¸ªå‚æ•°åï¼Œä½†æ˜¯ä½ ç”¨å…¶ä»–çš„ä¹Ÿä¸€æ ·ã€‚å½“ç„¶å¦‚æžœèŽ·å–æ•°æ®çš„ jsonp åœ°å€é¡µé¢ä¸æ˜¯ä½ è‡ªå·±èƒ½æŽ§åˆ¶çš„ï¼Œå°±å¾—æŒ‰ç…§æä¾›æ•°æ®çš„é‚£ä¸€æ–¹çš„è§„å®šæ ¼å¼æ¥æ“ä½œäº†ã€‚ å› ä¸ºæ˜¯å½“åšä¸€ä¸ª js æ–‡ä»¶æ¥å¼•å…¥çš„ï¼Œæ‰€ä»¥damonare.cn/data.phpè¿”å›žçš„å¿…é¡»æ˜¯ä¸€ä¸ªèƒ½æ‰§è¡Œçš„ js æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸ªé¡µé¢çš„ php ä»£ç å¯èƒ½æ˜¯è¿™æ ·çš„(ä¸€å®šè¦å’ŒåŽç«¯çº¦å®šå¥½å“¦): 12345&lt;?php$callback = $_GET['callback'];//å¾—åˆ°å›žè°ƒå‡½æ•°å$data = array('a','b','c');//è¦è¿”å›žçš„æ•°æ®echo $callback.'('.json_encode($data).')';//è¾“å‡º?&gt; æœ€ç»ˆï¼Œè¾“å‡ºç»“æžœä¸ºï¼šdosomething([â€˜aâ€™,â€™bâ€™,â€™câ€™]); å¦‚æžœä½ çš„é¡µé¢ä½¿ç”¨ jqueryï¼Œé‚£ä¹ˆé€šè¿‡å®ƒå°è£…çš„æ–¹æ³•å°±èƒ½å¾ˆæ–¹ä¾¿çš„æ¥è¿›è¡Œ jsonp æ“ä½œäº†ã€‚ 1234567&lt;script type="text/javascript"&gt; $.getJSON('http://example.com/data.php?callback=?,function(jsondata)') &#123; //å¤„ç†èŽ·å¾—çš„jsonæ•°æ® &#125; );&lt;/script&gt; jquery ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå…¨å±€å‡½æ•°æ¥æ›¿æ¢ callback=?ä¸­çš„é—®å·ï¼Œä¹‹åŽèŽ·å–åˆ°æ•°æ®åŽåˆä¼šè‡ªåŠ¨é”€æ¯ï¼Œå®žé™…ä¸Šå°±æ˜¯èµ·ä¸€ä¸ªä¸´æ—¶ä»£ç†å‡½æ•°çš„ä½œç”¨ã€‚\$.getJSON æ–¹æ³•ä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è·¨åŸŸï¼Œä¸è·¨åŸŸçš„è¯ï¼Œå°±è°ƒç”¨æ™®é€šçš„ ajax æ–¹æ³•ï¼›è·¨åŸŸçš„è¯ï¼Œåˆ™ä¼šä»¥å¼‚æ­¥åŠ è½½ js æ–‡ä»¶çš„å½¢å¼æ¥è°ƒç”¨ jsonp çš„å›žè°ƒå‡½æ•°ã€‚ JSONP çš„ä¼˜ç¼ºç‚¹ï¼š JSONP çš„ä¼˜ç‚¹æ˜¯ï¼šå®ƒä¸åƒ XMLHttpRequest å¯¹è±¡å®žçŽ°çš„ Ajax è¯·æ±‚é‚£æ ·å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ï¼›å®ƒçš„å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨æ›´åŠ å¤è€çš„æµè§ˆå™¨ä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä¸éœ€è¦ XMLHttpRequest æˆ– ActiveX çš„æ”¯æŒï¼›å¹¶ä¸”åœ¨è¯·æ±‚å®Œæ¯•åŽå¯ä»¥é€šè¿‡è°ƒç”¨ callback çš„æ–¹å¼å›žä¼ ç»“æžœã€‚ JSONP çš„ç¼ºç‚¹åˆ™æ˜¯ï¼šå®ƒåªæ”¯æŒ GET è¯·æ±‚è€Œä¸æ”¯æŒ POST ç­‰å…¶å®ƒç±»åž‹çš„ HTTP è¯·æ±‚ï¼›å®ƒåªæ”¯æŒè·¨åŸŸ HTTP è¯·æ±‚è¿™ç§æƒ…å†µï¼Œä¸èƒ½è§£å†³ä¸åŒåŸŸçš„ä¸¤ä¸ªé¡µé¢ä¹‹é—´å¦‚ä½•è¿›è¡Œ JavaScript è°ƒç”¨çš„é—®é¢˜ã€‚ é€šè¿‡ CORS è·¨åŸŸ CORSï¼ˆCross-Origin Resource Sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼Œå®šä¹‰äº†å¿…é¡»åœ¨è®¿é—®è·¨åŸŸèµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¸ŽæœåŠ¡å™¨åº”è¯¥å¦‚ä½•æ²Ÿé€šã€‚CORS èƒŒåŽçš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„ HTTP å¤´éƒ¨è®©æµè§ˆå™¨ä¸ŽæœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»Žè€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIE æµè§ˆå™¨ä¸èƒ½ä½ŽäºŽ IE10ã€‚æ•´ä¸ª CORS é€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸Žã€‚å¯¹äºŽå¼€å‘è€…æ¥è¯´ï¼ŒCORS é€šä¿¡ä¸ŽåŒæºçš„ AJAX é€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘çŽ° AJAX è¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚ å› æ­¤ï¼Œå®žçŽ° CORS é€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®žçŽ°äº† CORS æŽ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚ å¹³æ—¶çš„ ajax è¯·æ±‚å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š 123&lt;script type="text/javascript"&gt; var xhr = XMLHttpRequest(); xhr.open('GET','/getSomething',true); xhr.send();&lt;/script&gt; ä»¥ä¸Š getSomething éƒ¨åˆ†æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æžœæˆ‘ä»¬è¦ä½¿ç”¨ CORSï¼Œç›¸å…³ Ajax ä»£ç å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š 1234&lt;script type="text/javascript"&gt; var xhr = XMLHttpRequest(); xhr.open('GET','http://jaybein.site/getSomething',true); xhr.send();&lt;/script&gt; ä»£ç ä¸Žä¹‹å‰çš„åŒºåˆ«å°±åœ¨äºŽç›¸å¯¹è·¯å¾„æ¢æˆäº†å…¶ä»–åŸŸçš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä½ è¦è·¨åŸŸè®¿é—®çš„æŽ¥å£åœ°å€ã€‚ æœåŠ¡å™¨ç«¯å¯¹äºŽ CORS çš„æ”¯æŒï¼Œä¸»è¦å°±æ˜¯é€šè¿‡è®¾ç½®Access-Control-Allow-Originæ¥è¿›è¡Œçš„ã€‚å¦‚æžœæµè§ˆå™¨æ£€æµ‹åˆ°ç›¸åº”çš„è®¾ç½®ï¼Œå°±å¯ä»¥å…è®¸ Ajax è¿›è¡Œè·¨åŸŸçš„è®¿é—®ã€‚å…³äºŽ CORS æ›´å¤šäº†è§£å¯ä»¥çœ‹ä¸‹é˜®ä¸€å³°è€å¸ˆçš„è¿™ä¸€ç¯‡æ–‡ç« ï¼šè·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹ç¼“å­˜çš„ä¸€ç‚¹ç†è§£]]></title>
    <url>%2F2018%2F02%2F07%2F%E5%AF%B9%E7%BC%93%E5%AD%98%E7%9A%84%E4%B8%80%E7%82%B9%E7%90%86%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[ç¼“å­˜æ˜¯ä¸€ç§ä¿å­˜èµ„æºå‰¯æœ¬å¹¶åœ¨ä¸‹æ¬¡è¯·æ±‚æ—¶ç›´æŽ¥ä½¿ç”¨è¯¥å‰¯æœ¬çš„æŠ€æœ¯ã€‚ ç¼“å­˜çš„ç§ç±»å¾ˆå¤šå¼€å‘è€…ä¹ æƒ¯æŠŠ cookieã€webStorage ä»¥åŠ IndexedDB å­˜å‚¨çš„æ•°æ®ä¹Ÿç§°ä¹‹ä¸ºç¼“å­˜ï¼Œç†ç”±æ˜¯éƒ½æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å…¶å®žè¿™æ˜¯ä¸ä¸¥è°¨çš„ï¼Œcookie çš„å­˜åœ¨æ›´å¤šçš„æ˜¯ä¸ºäº†è®©æœåŠ¡ç«¯åŒºåˆ«ç”¨æˆ·ï¼ŒwebStorage å’Œ IndexedDB åˆ™æ›´å¤šç”¨åœ¨ä¿å­˜å…·ä½“çš„æ•°æ®å’Œåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æž„åŒ–æ•°æ®(æ–‡ä»¶/blobs)ä¸Šé¢ã€‚ å®žé™…ä¸Šæ‰€è°“çš„ç¼“å­˜åªæœ‰ä¸€ç§â€”â€”å®ƒæ˜¯è¯·æ±‚èµ„æºçš„å‰¯æœ¬ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœæ¯ä¸€ä¸ªèµ„æºæˆ‘ä»¬å®¢æˆ·ç«¯éƒ½ä¼šä¿å­˜ä¸€ä»½å‰¯æœ¬ï¼Œè¿™ä¼šæ€Žä¹ˆæ ·ï¼Ÿå®¢æˆ·ç«¯ä¼šç‚¸æŽ‰ï¼Œå¼€å‘è€…ä¼šç–¯æŽ‰ï¼æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä»½åè®®æ¥å¤„ç†ç¼“å­˜ï¼Œå¯ä»¥è®©å¼€å‘è€…æŽ§åˆ¶ç¼“å­˜çš„å»ºç«‹å’Œåˆ é™¤ã€‚è°å‘¢ï¼Ÿè¿˜èƒ½æœ‰è°ï¼ŒHTTP å‘—ã€‚HTTP åè®®é‡Œå®šä¹‰äº†å¾ˆå¤šå…³äºŽç¼“å­˜çš„è¯·æ±‚å’Œå“åº”å­—æ®µï¼Œè¿™ä¹Ÿæ˜¯æŽ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹è¦é€¼é€¼å¨çš„å¯¹è±¡ï¼Œç ”ç©¶ä¸‹ç©¶ç«Ÿæ˜¯å“ªäº›å­—æ®µæ€Žä¹ˆå½±å“ç¼“å­˜çš„ã€‚ ç¼“å­˜å¥½å¤„æœ‰å¾ˆå¤šï¼š ç¼“è§£æœåŠ¡å™¨åŽ‹åŠ›(ä¸ç”¨æ¯æ¬¡åŽ»è¯·æ±‚èµ„æº)ï¼› æå‡æ€§èƒ½(æ‰“å¼€æœ¬åœ°èµ„æºé€Ÿåº¦å½“ç„¶æ¯”è¯·æ±‚å›žæ¥å†æ‰“å¼€è¦å¿«å¾—å¤š)ï¼› å‡å°‘å¸¦å®½æ¶ˆè€—(æˆ‘ç›¸ä¿¡ä½ å¯ä»¥ç†è§£)ï¼› æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥ç¼“å­˜çš„ç›®æ ‡: ä¸€ä¸ªæ£€ç´¢è¯·æ±‚çš„æˆåŠŸå“åº”: å¯¹äºŽ GET è¯·æ±‚ï¼Œå“åº”çŠ¶æ€ç ä¸ºï¼š200ï¼Œåˆ™è¡¨ç¤ºä¸ºæˆåŠŸã€‚ä¸€ä¸ªåŒ…å«ä¾‹å¦‚ HTML æ–‡æ¡£ï¼Œå›¾ç‰‡ï¼Œæˆ–è€…æ–‡ä»¶çš„å“åº”ï¼› ä¸å˜çš„é‡å®šå‘: å“åº”çŠ¶æ€ç ï¼š301ï¼› å¯ç”¨ç¼“å­˜å“åº”ï¼šå“åº”çŠ¶æ€ç ï¼š304ï¼Œè¿™ä¸ªå­˜åœ¨ç–‘é—®ï¼ŒChrome ä¼šç¼“å­˜ 304 ä¸­çš„ç¼“å­˜è®¾ç½®ï¼ŒFirefoxï¼› é”™è¯¯å“åº”: å“åº”çŠ¶æ€ç ï¼š404 çš„ä¸€ä¸ªé¡µé¢ï¼› ä¸å®Œå…¨çš„å“åº”: å“åº”çŠ¶æ€ç  206ï¼Œåªè¿”å›žå±€éƒ¨çš„ä¿¡æ¯ï¼› é™¤äº† GET è¯·æ±‚å¤–ï¼Œå¦‚æžœåŒ¹é…åˆ°ä½œä¸ºä¸€ä¸ªå·²è¢«å®šä¹‰çš„ cache é”®åçš„å“åº”ï¼› æµè§ˆå™¨å¯¹äºŽç¼“å­˜çš„å¤„ç†æ˜¯æ ¹æ®ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶è¿”å›žçš„å“åº”å¤´æ¥ç¡®å®šçš„ã€‚é‚£ä¹ˆæµè§ˆå™¨æ€Žä¹ˆç¡®å®šä¸€ä¸ªèµ„æºè¯¥ä¸è¯¥ç¼“å­˜ï¼Œå¦‚ä½•åŽ»ç¼“å­˜å‘¢ â“ å“åº”å¤´ï¼å“åº”å¤´ï¼å“åº”å¤´ï¼é‡è¦çš„äº‹æƒ…è¯´ä¸‰éã€‚ä¾‹å¦‚ï¼š 1234567Age:23146Cache-Control:max-age=2592000Date:Tue, 28 Nov 2017 12:26:41 GMTETag:W/&quot;5a1cf09a-63c6&quot;Expires:Thu, 28 Dec 2017 05:27:45 GMTLast-Modified:Tue, 28 Nov 2017 05:14:02 GMTVary:Accept-Encoding å¼ºç¼“å­˜é˜¶æ®µä»¥ä¸Šè¯·æ±‚å¤´æ¥è‡ªç™¾åº¦é¦–é¡µæŸä¸ª CSS æ–‡ä»¶çš„å“åº”å¤´ã€‚æˆ‘åŽ»é™¤äº†ä¸€äº›å’Œç¼“å­˜æ— å…³çš„å­—æ®µï¼Œåªä¿ç•™äº†ä»¥ä¸Šéƒ¨åˆ†ã€‚æˆ‘ä»¬æ¥åˆ†æžä¸‹ï¼ŒExpiresæ˜¯ HTTP/1.0 ä¸­çš„å®šä¹‰ç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç»å¯¹æ—¶é—´ã€‚Cache-Control:max-age=2592000æ˜¯ HTTP/1.1 å®šä¹‰çš„å…³äºŽç¼“å­˜çš„å­—æ®µï¼Œå®ƒè§„å®šäº†ç¼“å­˜è¿‡æœŸçš„ä¸€ä¸ªç›¸å¯¹æ—¶é—´ã€‚ä¼˜å…ˆçº§ä¸Šå½“ç„¶æ˜¯ç‰ˆæœ¬é«˜çš„ä¼˜å…ˆäº†ï¼Œmax-age &gt; Expiresã€‚ è¿™å°±æ˜¯å¼ºç¼“å­˜é˜¶æ®µï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ª CSS æ–‡ä»¶ï¼Œå‘çŽ°æœ‰è¿™ä¸ªæ–‡ä»¶çš„ç¼“å­˜ï¼Œé‚£ä¹ˆå°±åˆ¤æ–­æ ¹æ®ä¸Šä¸€æ¬¡çš„å“åº”åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼Œå¦‚æžœæ²¡è¿‡æœŸï¼Œä½¿ç”¨ç¼“å­˜ã€‚åŠ è½½æ–‡ä»¶ï¼ŒOVERï¼âœŒï¸ Firefox æµè§ˆå™¨è¡¨çŽ°ä¸ºä¸€ä¸ªç°è‰²çš„ 200 çŠ¶æ€ç ã€‚ Chrome æµè§ˆå™¨çŠ¶æ€ç è¡¨çŽ°ä¸º: 1200 (from disk cache)æˆ–æ˜¯200 OK (from memory cache) å¤šè¯´ä¸€ç‚¹ï¼šå…³äºŽç¼“å­˜æ˜¯ä»Žç£ç›˜ä¸­èŽ·å–è¿˜æ˜¯ä»Žå†…å­˜ä¸­èŽ·å–ï¼ŒæŸ¥æ‰¾äº†å¾ˆå¤šèµ„æ–™ï¼Œå¾—å‡ºäº†ä¸€ä¸ªè¾ƒä¸ºå¯ä¿¡çš„ç»“è®ºï¼šChrome ä¼šæ ¹æ®æœ¬åœ°å†…å­˜çš„ä½¿ç”¨çŽ‡æ¥å†³å®šç¼“å­˜å­˜æ”¾åœ¨å“ªï¼Œå¦‚æžœå†…å­˜ä½¿ç”¨çŽ‡å¾ˆé«˜ï¼Œæ”¾åœ¨ç£ç›˜é‡Œé¢ï¼Œå†…å­˜çš„ä½¿ç”¨çŽ‡å¾ˆä½Žä¼šæš‚æ—¶æ”¾åœ¨å†…å­˜é‡Œé¢ã€‚è¿™å°±å¯ä»¥æ¯”è¾ƒåˆç†çš„è§£é‡Šäº†ä¸ºä»€ä¹ˆåŒä¸€ä¸ªèµ„æºæœ‰æ—¶æ˜¯from memory cacheæœ‰æ—¶æ˜¯from disk cacheçš„é—®é¢˜äº†ã€‚ åå•†ç¼“å­˜é˜¶æ®µé‚£ä¹ˆå½“è¿™ä¸ª CSS æ–‡ä»¶è¿‡æœŸäº†æ€Žä¹ˆåŠž?ETagå’ŒLast-Modifiedå°±è¯¥é—ªäº®ç™»åœºäº†ã€‚ å…ˆè¯´Last-Modifiedï¼Œè¿™ä¸ªå­—æ®µæ˜¯æ–‡ä»¶æœ€åŽä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼› ETagå‘¢ï¼ŸETagæ˜¯å¯¹æ–‡ä»¶çš„ä¸€ä¸ªæ ‡è®°ï¼Œå—¯ï¼Œå¯ä»¥è¿™ä¹ˆè¯´ï¼Œå…·ä½“ç”Ÿæˆæ–¹å¼ HTTP å¹¶æ²¡æœ‰ç»™å‡ºä¸€ä¸ªæ˜Žç¡®çš„æ–¹å¼ï¼Œæ‰€ä»¥ç†è®ºä¸Šåªè¦ä¸ä¼šé‡å¤ç”Ÿæˆæ–¹å¼æ— æ‰€è°“ï¼Œæ¯”å¦‚å¯¹èµ„æºå†…å®¹ä½¿ç”¨æŠ—ç¢°æ’žæ•£åˆ—å‡½æ•°ï¼Œä½¿ç”¨æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´æˆ³çš„å“ˆå¸Œå€¼ï¼Œç”šè‡³åªæ˜¯ä¸€ä¸ªç‰ˆæœ¬å·ã€‚ åˆ©ç”¨è¿™ä¸¤ä¸ªå­—æ®µæµè§ˆå™¨å¯ä»¥è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œå½“æµè§ˆå™¨å†æ¬¡è¯•å›¾è®¿é—®è¿™ä¸ª CSS æ–‡ä»¶ï¼Œå‘çŽ°ç¼“å­˜è¿‡æœŸï¼ŒäºŽæ˜¯ä¼šåœ¨æœ¬æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´é‡Œæºå¸¦If-Moified-Sinceå’ŒIf-None-Matchè¿™ä¸¤ä¸ªå­—æ®µï¼ŒæœåŠ¡å™¨é€šè¿‡è¿™ä¸¤ä¸ªå­—æ®µæ¥åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰ä¿®æ”¹ï¼Œå¦‚æžœæœ‰ä¿®æ”¹åˆ™è¿”å›žçŠ¶æ€ç  200 å’Œæ–°çš„å†…å®¹ï¼Œå¦‚æžœæ²¡æœ‰ä¿®æ”¹è¿”å›žçŠ¶æ€ç  304ï¼Œæµè§ˆå™¨æ”¶åˆ° 200 çŠ¶æ€ç ï¼Œè¯¥å’‹å¤„ç†å°±å’‹å¤„ç†(ç›¸å½“äºŽé¦–æ¬¡è®¿é—®è¿™ä¸ªæ–‡ä»¶äº†)ï¼Œå‘çŽ°è¿”å›ž 304ï¼ŒäºŽæ˜¯çŸ¥é“äº†æœ¬åœ°ç¼“å­˜è™½ç„¶è¿‡æœŸä½†ä»ç„¶å¯ä»¥ç”¨ï¼ŒäºŽæ˜¯åŠ è½½æœ¬åœ°ç¼“å­˜ã€‚ç„¶åŽæ ¹æ®æ–°çš„è¿”å›žçš„å“åº”å¤´æ¥è®¾ç½®ç¼“å­˜ã€‚(è¿™ä¸€æ­¥æœ‰æ‰€å·®å¼‚ï¼Œå‘çŽ°ä¸åŒæµè§ˆå™¨çš„å¤„ç†æ˜¯ä¸åŒçš„ï¼Œchrome ä¼šä¸º 304 è®¾ç½®ç¼“å­˜ï¼Œfirefox åˆ™ä¸ä¼š)ðŸ˜‘ å…·ä½“ä¸¤ä¸ªå­—æ®µæºå¸¦çš„å†…å®¹å¦‚ä¸‹(åˆ†åˆ«å’Œä¸Šé¢çš„Last-Modifiedã€ETagæºå¸¦çš„å€¼å¯¹åº”)ï¼š 12If-Moified-Since: Tue, 28 Nov 2017 05:14:02 GMTIf-None-Match: W/&quot;5a1cf09a-63c6&quot; åˆ°è¿™åå•†ç¼“å­˜ç»“æŸã€‚ å¯å‘å¼ç¼“å­˜é˜¶æ®µæˆ‘ä»¬æŠŠä¸Šé¢çš„å“åº”å¤´æ”¹ä¸‹ï¼š 12345Age:23146Cache-Control: publicDate:Tue, 28 Nov 2017 12:26:41 GMTLast-Modified:Tue, 28 Nov 2017 05:14:02 GMTVary:Accept-Encoding å‘çŽ°æ²¡ï¼Ÿæµè§ˆå™¨ç”¨æ¥ç¡®å®šç¼“å­˜è¿‡æœŸæ—¶é—´çš„å­—æ®µä¸€ä¸ªéƒ½æ²¡æœ‰ï¼é‚£è¯¥æ€Žä¹ˆåŠžï¼Ÿæœ‰äººå¯èƒ½ä¼šè¯´ä¸‹æ¬¡è¯·æ±‚ç›´æŽ¥è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œæºå¸¦If-Moified-Sinceå‘—ï¼Œä¸æ˜¯çš„ï¼Œæµè§ˆå™¨è¿˜æœ‰ä¸ªå¯å‘å¼ç¼“å­˜é˜¶æ®µã€‚ æ ¹æ®å“åº”å¤´ä¸­ 2 ä¸ªæ—¶é—´å­—æ®µDateå’ŒLast-Modifiedä¹‹é—´çš„æ—¶é—´å·®å€¼ï¼Œå–å…¶å€¼çš„ 10%ä½œä¸ºç¼“å­˜æ—¶é—´å‘¨æœŸã€‚ è¿™å°±æ˜¯å¯å‘å¼ç¼“å­˜é˜¶æ®µã€‚è¿™ä¸ªé˜¶æ®µå¾ˆå®¹è®©äººå¿½è§†ï¼Œä½†å®žé™…ä¸Šæ¯æ—¶æ¯åˆ»éƒ½åœ¨å‘æŒ¥ç€ä½œç”¨ã€‚æ‰€ä»¥åœ¨ä»ŠåŽçš„å¼€å‘è¿‡ç¨‹ä¸­å¦‚æžœé‡åˆ°é‚£ç§é»˜è®¤ç¼“å­˜çš„å‘ï¼Œä¸è¦å«åš£ï¼Œä¸è¦ç”Ÿæ°”ï¼Œæµè§ˆå™¨åªæ˜¯åœ¨éµå¾ªå¯å‘å¼ç¼“å­˜åè®®è€Œå·²ã€‚ä¸‹é¢ç”¨ä¸€å¼ å›¾ï¼Œæ¥è§£é‡Šæµè§ˆå™¨æ•´ä¸ªç¼“å­˜ç­–ç•¥çš„è¿‡ç¨‹ï¼šå¯¹äºŽç¼“å­˜ç­–ç•¥ä»‹ç»åˆ°è¿™ï¼ŒæŽ¥ä¸‹æ¥å†ç»†ç»†åˆ†æžä¸åŒçš„ HTTP é¦–éƒ¨å­—æ®µçš„å†…å®¹ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚ ä¼ é€é—¨]]></content>
      <categories>
        <category>æµè§ˆå™¨</category>
      </categories>
      <tags>
        <tag>cache</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript:å½»åº•ç†è§£åŒæ­¥ã€å¼‚æ­¥å’Œäº‹ä»¶å¾ªçŽ¯ï¼ˆEvent Loopï¼‰]]></title>
    <url>%2F2018%2F02%2F06%2FJavaScript-%E5%BD%BB%E5%BA%95%E7%90%86%E8%A7%A3%E5%90%8C%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%EF%BC%88Event-Loop%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å­¦ä¹  JavaScript çš„æ—¶å€™äº†è§£åˆ° JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œåˆšå¼€å§‹å¾ˆç–‘æƒ‘ï¼Œå•çº¿ç¨‹æ€Žä¹ˆå¤„ç†ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ç­‰è€—æ—¶æ“ä½œå‘¢ï¼Ÿæ•ˆçŽ‡å²‚ä¸æ˜¯ä¼šå¾ˆä½Žï¼Ÿéšç€å¯¹è¿™æ–¹é¢å†…å®¹çš„äº†è§£å’Œæ·±å…¥ï¼ŒçŸ¥é“äº†å…¶ä¸­çš„å¥¥ç§˜ã€‚æœ¬ç¯‡æ–‡ç« å°±ä¸»è¦è®²è§£ä¸€ä¸‹ JavaScript æ€Žä¹ˆå¤„ç†å¼‚æ­¥é—®é¢˜ã€‚ åŒæ­¥ä¸Žå¼‚æ­¥åœ¨ä»‹ç» JavaScript çš„å¼‚æ­¥æœºåˆ¶ä¹‹å‰ï¼Œé¦–å…ˆä»‹ç»ä¸€ä¸‹ï¼šä»€ä¹ˆæ˜¯åŒæ­¥ï¼Ÿä»€ä¹ˆæ˜¯å¼‚æ­¥ï¼Ÿ åŒæ­¥å¦‚æžœåœ¨å‡½æ•°è¿”å›žçš„æ—¶å€™ï¼Œè°ƒç”¨è€…å°±èƒ½å¤Ÿå¾—åˆ°é¢„æœŸç»“æžœ(å³æ‹¿åˆ°äº†é¢„æœŸçš„è¿”å›žå€¼æˆ–è€…çœ‹åˆ°äº†é¢„æœŸçš„æ•ˆæžœ)ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯åŒæ­¥çš„ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼š 1234//åœ¨å‡½æ•°è¿”å›žæ—¶ï¼ŒèŽ·å¾—äº†é¢„æœŸå€¼ï¼Œå³2çš„å¹³æ–¹æ ¹Math.sqrt(2);//åœ¨å‡½æ•°è¿”å›žæ—¶ï¼ŒèŽ·å¾—äº†é¢„æœŸçš„æ•ˆæžœï¼Œå³åœ¨æŽ§åˆ¶å°ä¸Šæ‰“å°äº†'hello'console.log("hello"); ä¸Šé¢ä¸¤ä¸ªå‡½æ•°å°±æ˜¯åŒæ­¥çš„ã€‚å¦‚æžœå‡½æ•°æ˜¯åŒæ­¥çš„ï¼Œå³ä½¿è°ƒç”¨å‡½æ•°æ‰§è¡Œçš„ä»»åŠ¡æ¯”è¾ƒè€—æ—¶ï¼Œä¹Ÿä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°å¾—åˆ°é¢„æœŸç»“æžœã€‚ å¼‚æ­¥å¦‚æžœåœ¨å‡½æ•°è¿”å›žçš„æ—¶å€™ï¼Œè°ƒç”¨è€…è¿˜ä¸èƒ½å¤Ÿå¾—åˆ°é¢„æœŸç»“æžœï¼Œè€Œæ˜¯éœ€è¦åœ¨å°†æ¥é€šè¿‡ä¸€å®šçš„æ‰‹æ®µå¾—åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯å¼‚æ­¥çš„ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789//è¯»å–æ–‡ä»¶fs.readFile("hello.txt", "utf8", function(err, data) &#123; console.log(data);&#125;);//ç½‘ç»œè¯·æ±‚var xhr = new XMLHttpRequest();xhr.onreadystatechange = xxx; // æ·»åŠ å›žè°ƒå‡½æ•°xhr.open("GET", url);xhr.send(); // å‘èµ·å‡½æ•° ä¸Šè¿°ç¤ºä¾‹ä¸­è¯»å–æ–‡ä»¶å‡½æ•° readFileå’Œç½‘ç»œè¯·æ±‚çš„å‘èµ·å‡½æ•° sendéƒ½å°†æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œè™½ç„¶å‡½æ•°ä¼šç«‹å³è¿”å›žï¼Œä½†æ˜¯ä¸èƒ½ç«‹åˆ»èŽ·å–é¢„æœŸçš„ç»“æžœï¼Œå› ä¸ºè€—æ—¶æ“ä½œäº¤ç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œï¼Œæš‚æ—¶èŽ·å–ä¸åˆ°é¢„æœŸç»“æžœï¼ˆåŽé¢ä»‹ç»ï¼‰ã€‚è€Œåœ¨JavaScriptä¸­é€šè¿‡å›žè°ƒå‡½æ•°function(err, data) { console.log(data); }å’Œ onreadystatechangeï¼Œåœ¨è€—æ—¶æ“ä½œæ‰§è¡Œå®ŒæˆåŽæŠŠç›¸åº”çš„ç»“æžœä¿¡æ¯ä¼ é€’ç»™å›žè°ƒå‡½æ•°ï¼Œé€šçŸ¥æ‰§è¡ŒJavaScriptä»£ç çš„çº¿ç¨‹æ‰§è¡Œå›žè°ƒã€‚ å¦‚æžœå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå‘å‡ºè°ƒç”¨ä¹‹åŽï¼Œé©¬ä¸Šè¿”å›žï¼Œä½†æ˜¯ä¸ä¼šé©¬ä¸Šè¿”å›žé¢„æœŸç»“æžœã€‚è°ƒç”¨è€…ä¸å¿…ä¸»åŠ¨ç­‰å¾…ï¼Œå½“è¢«è°ƒç”¨è€…å¾—åˆ°ç»“æžœä¹‹åŽä¼šé€šè¿‡å›žè°ƒå‡½æ•°ä¸»åŠ¨é€šçŸ¥è°ƒç”¨è€…ã€‚ å•çº¿ç¨‹ä¸Žå¤šçº¿ç¨‹åœ¨ä¸Šé¢ä»‹ç»å¼‚æ­¥çš„è¿‡ç¨‹ä¸­å°±å¯èƒ½ä¼šçº³é—·ï¼šæ—¢ç„¶ JavaScript æ˜¯å•çº¿ç¨‹ï¼Œæ€Žä¹ˆè¿˜å­˜åœ¨å¼‚æ­¥ï¼Œé‚£äº›è€—æ—¶æ“ä½œåˆ°åº•äº¤ç»™è°åŽ»æ‰§è¡Œäº†ï¼Ÿ JavaScript å…¶å®žå°±æ˜¯ä¸€é—¨è¯­è¨€ï¼Œè¯´æ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹å¾—ç»“åˆå…·ä½“è¿è¡ŒçŽ¯å¢ƒã€‚JS çš„è¿è¡Œé€šå¸¸æ˜¯åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œçš„ï¼Œå…·ä½“ç”± JS å¼•æ“ŽåŽ»è§£æžå’Œè¿è¡Œã€‚ä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“äº†è§£ä¸€ä¸‹æµè§ˆå™¨ã€‚ æµè§ˆå™¨ç›®å‰æœ€ä¸ºæµè¡Œçš„æµè§ˆå™¨ä¸ºï¼šChromeï¼ŒIEï¼ŒSafariï¼ŒFireFoxï¼ŒOperaã€‚æµè§ˆå™¨çš„å†…æ ¸æ˜¯å¤šçº¿ç¨‹çš„ã€‚ä¸€ä¸ªæµè§ˆå™¨é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªå¸¸é©»çš„çº¿ç¨‹ï¼š æ¸²æŸ“å¼•æ“Žçº¿ç¨‹ï¼šé¡¾åæ€ä¹‰ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ JS å¼•æ“Žçº¿ç¨‹ï¼šè´Ÿè´£ JS çš„è§£æžå’Œæ‰§è¡Œ å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ï¼šå¤„ç†å®šæ—¶äº‹ä»¶ï¼Œæ¯”å¦‚ setTimeout, setInterval äº‹ä»¶è§¦å‘çº¿ç¨‹ï¼šå¤„ç† DOM äº‹ä»¶ å¼‚æ­¥ http è¯·æ±‚çº¿ç¨‹ï¼šå¤„ç† http è¯·æ±‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¸²æŸ“çº¿ç¨‹å’Œ JS å¼•æ“Žçº¿ç¨‹æ˜¯ä¸èƒ½åŒæ—¶è¿›è¡Œçš„ã€‚æ¸²æŸ“çº¿ç¨‹åœ¨æ‰§è¡Œä»»åŠ¡çš„æ—¶å€™ï¼ŒJS å¼•æ“Žçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ã€‚å› ä¸º JS å¯ä»¥æ“ä½œ DOMï¼Œè‹¥åœ¨æ¸²æŸ“ä¸­ JS å¤„ç†äº† DOMï¼Œæµè§ˆå™¨å¯èƒ½å°±ä¸çŸ¥æ‰€æŽªäº†ã€‚ JS å¼•æ“Žé€šå¸¸è®²åˆ°æµè§ˆå™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè¯´åˆ°ä¸¤ä¸ªå¼•æ“Žï¼šæ¸²æŸ“å¼•æ“Žå’Œ JS å¼•æ“Žã€‚æ¸²æŸ“å¼•æ“Žå°±æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢ï¼ŒChromeï¼Safariï¼Opera ç”¨çš„æ˜¯ Webkit å¼•æ“Žï¼ŒIE ç”¨çš„æ˜¯ Trident å¼•æ“Žï¼ŒFireFox ç”¨çš„æ˜¯ Gecko å¼•æ“Žã€‚ä¸åŒçš„å¼•æ“Žå¯¹åŒä¸€ä¸ªæ ·å¼çš„å®žçŽ°ä¸ä¸€è‡´ï¼Œå°±å¯¼è‡´äº†ç»å¸¸è¢«äººè¯Ÿç—…çš„æµè§ˆå™¨æ ·å¼å…¼å®¹æ€§é—®é¢˜ã€‚è¿™é‡Œæˆ‘ä»¬ä¸åšå…·ä½“è®¨è®ºã€‚ JS å¼•æ“Žå¯ä»¥è¯´æ˜¯ JS è™šæ‹Ÿæœºï¼Œè´Ÿè´£ JS ä»£ç çš„è§£æžå’Œæ‰§è¡Œã€‚é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š è¯æ³•åˆ†æžï¼šå°†æºä»£ç åˆ†è§£ä¸ºæœ‰æ„ä¹‰çš„åˆ†è¯ è¯­æ³•åˆ†æžï¼šç”¨è¯­æ³•åˆ†æžå™¨å°†åˆ†è¯è§£æžæˆè¯­æ³•æ ‘ ä»£ç ç”Ÿæˆï¼šç”Ÿæˆæœºå™¨èƒ½è¿è¡Œçš„ä»£ç  ä»£ç æ‰§è¡Œ ä¸åŒæµè§ˆå™¨çš„ JS å¼•æ“Žä¹Ÿå„ä¸ç›¸åŒï¼ŒChrome ç”¨çš„æ˜¯ V8ï¼ŒFireFox ç”¨çš„æ˜¯ SpiderMonkeyï¼ŒSafari ç”¨çš„æ˜¯ JavaScriptCoreï¼ŒIE ç”¨çš„æ˜¯ Chakraã€‚ ä¹‹æ‰€ä»¥è¯´ JavaScript æ˜¯å•çº¿ç¨‹ï¼Œå°±æ˜¯å› ä¸ºæµè§ˆå™¨åœ¨è¿è¡Œæ—¶åªå¼€å¯äº†ä¸€ä¸ª JS å¼•æ“Žçº¿ç¨‹æ¥è§£æžå’Œæ‰§è¡Œ JSã€‚é‚£ä¸ºä»€ä¹ˆåªæœ‰ä¸€ä¸ªå¼•æ“Žå‘¢ï¼Ÿå¦‚æžœåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹åŽ»æ“ä½œ DOMï¼Œæµè§ˆå™¨æ˜¯ä¸æ˜¯åˆè¦ä¸çŸ¥æ‰€æŽªäº†ã€‚ æ‰€ä»¥ï¼Œè™½ç„¶ JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œå¯æ˜¯æµè§ˆå™¨å†…éƒ¨ä¸æ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€äº› I/O æ“ä½œã€å®šæ—¶å™¨çš„è®¡æ—¶å’Œäº‹ä»¶ç›‘å¬ï¼ˆclick, keydownâ€¦ï¼‰ç­‰éƒ½æ˜¯ç”±æµè§ˆå™¨æä¾›çš„å…¶ä»–çº¿ç¨‹æ¥å®Œæˆçš„ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ä¸Žäº‹ä»¶å¾ªçŽ¯é€šè¿‡ä»¥ä¸Šäº†è§£ï¼Œå¯ä»¥çŸ¥é“å…¶å®ž JavaScript ä¹Ÿæ˜¯é€šè¿‡ JS å¼•æ“Žçº¿ç¨‹ä¸Žæµè§ˆå™¨ä¸­å…¶ä»–çº¿ç¨‹äº¤äº’åä½œå®žçŽ°å¼‚æ­¥ã€‚ä½†æ˜¯å›žè°ƒå‡½æ•°å…·ä½“ä½•æ—¶åŠ å…¥åˆ° JS å¼•æ“Žçº¿ç¨‹ä¸­æ‰§è¡Œï¼Ÿæ‰§è¡Œé¡ºåºæ˜¯æ€Žä¹ˆæ ·çš„ï¼Ÿ è¿™ä¸€åˆ‡çš„è§£é‡Šå°±éœ€è¦ç»§ç»­äº†è§£æ¶ˆæ¯é˜Ÿåˆ—å’Œäº‹ä»¶å¾ªçŽ¯ã€‚ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå·¦è¾¹çš„æ ˆå­˜å‚¨çš„æ˜¯åŒæ­¥ä»»åŠ¡ï¼Œå°±æ˜¯é‚£äº›èƒ½ç«‹å³æ‰§è¡Œã€ä¸è€—æ—¶çš„ä»»åŠ¡ï¼Œå¦‚å˜é‡å’Œå‡½æ•°çš„åˆå§‹åŒ–ã€äº‹ä»¶çš„ç»‘å®šç­‰ç­‰é‚£äº›ä¸éœ€è¦å›žè°ƒå‡½æ•°çš„æ“ä½œéƒ½å¯å½’ä¸ºè¿™ä¸€ç±»ã€‚ å³è¾¹çš„å †ç”¨æ¥å­˜å‚¨å£°æ˜Žçš„å˜é‡ã€å¯¹è±¡ã€‚ä¸‹é¢çš„é˜Ÿåˆ—å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸€æ—¦æŸä¸ªå¼‚æ­¥ä»»åŠ¡æœ‰äº†å“åº”å°±ä¼šè¢«æŽ¨å…¥é˜Ÿåˆ—ä¸­ã€‚å¦‚ç”¨æˆ·çš„ç‚¹å‡»äº‹ä»¶ã€æµè§ˆå™¨æ”¶åˆ°æœåŠ¡çš„å“åº”å’Œ setTimeout ä¸­å¾…æ‰§è¡Œçš„äº‹ä»¶ï¼Œæ¯ä¸ªå¼‚æ­¥ä»»åŠ¡éƒ½å’Œå›žè°ƒå‡½æ•°ç›¸å…³è”ã€‚ JS å¼•æ“Žçº¿ç¨‹ç”¨æ¥æ‰§è¡Œæ ˆä¸­çš„åŒæ­¥ä»»åŠ¡ï¼Œå½“æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åŽï¼Œæ ˆè¢«æ¸…ç©ºï¼Œç„¶åŽè¯»å–æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªå¾…å¤„ç†ä»»åŠ¡ï¼Œå¹¶æŠŠç›¸å…³å›žè°ƒå‡½æ•°åŽ‹å…¥æ ˆä¸­ï¼Œå•çº¿ç¨‹å¼€å§‹æ‰§è¡Œæ–°çš„åŒæ­¥ä»»åŠ¡ã€‚ JS å¼•æ“Žçº¿ç¨‹ä»Žæ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–ä»»åŠ¡æ˜¯ä¸æ–­å¾ªçŽ¯çš„ï¼Œæ¯æ¬¡æ ˆè¢«æ¸…ç©ºåŽï¼Œéƒ½ä¼šåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–æ–°çš„ä»»åŠ¡ï¼Œå¦‚æžœæ²¡æœ‰æ–°çš„ä»»åŠ¡ï¼Œå°±ä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰æ–°çš„ä»»åŠ¡ï¼Œè¿™å°±å«äº‹ä»¶å¾ªçŽ¯ã€‚ ä¸Šå›¾ä»¥ AJAX å¼‚æ­¥è¯·æ±‚ä¸ºä¾‹ï¼Œå‘èµ·å¼‚æ­¥ä»»åŠ¡åŽï¼Œç”± AJAX çº¿ç¨‹æ‰§è¡Œè€—æ—¶çš„å¼‚æ­¥æ“ä½œï¼Œè€Œ JS å¼•æ“Žçº¿ç¨‹ç»§ç»­æ‰§è¡Œå †ä¸­çš„å…¶ä»–åŒæ­¥ä»»åŠ¡ï¼Œç›´åˆ°å †ä¸­çš„æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ã€‚ç„¶åŽï¼Œä»Žæ¶ˆæ¯é˜Ÿåˆ—ä¸­ä¾æ¬¡æŒ‰ç…§é¡ºåºå–å‡ºæ¶ˆæ¯ä½œä¸ºä¸€ä¸ªåŒæ­¥ä»»åŠ¡åœ¨ JS å¼•æ“Žçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆ AJAX çš„å›žè°ƒå‡½æ•°å°±ä¼šåœ¨æŸä¸€æ—¶åˆ»è¢«è°ƒç”¨æ‰§è¡Œã€‚ ä»Žä¸Šæ–‡ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªæ˜Žæ˜¾çš„ç»“è®ºï¼Œå°±æ˜¯ï¼š å¼‚æ­¥è¿‡ç¨‹çš„å›žè°ƒå‡½æ•°ï¼Œä¸€å®šä¸åœ¨å½“å‰è¿™ä¸€è½®äº‹ä»¶å¾ªçŽ¯ä¸­æ‰§è¡Œã€‚ å®é˜Ÿåˆ—å’Œå¾®é˜Ÿåˆ—å®é˜Ÿåˆ—ï¼Œmacrotaskï¼Œä¹Ÿå« tasksã€‚ ä¸€äº›å¼‚æ­¥ä»»åŠ¡çš„å›žè°ƒä¼šä¾æ¬¡è¿›å…¥ macro task queueï¼Œç­‰å¾…åŽç»­è¢«è°ƒç”¨ï¼Œè¿™äº›å¼‚æ­¥ä»»åŠ¡åŒ…æ‹¬ï¼š script setTimeout setInterval setImmediate (Node ç‹¬æœ‰) requestAnimationFrame (æµè§ˆå™¨ç‹¬æœ‰) I/O UI rendering (æµè§ˆå™¨ç‹¬æœ‰) å¾®é˜Ÿåˆ—ï¼Œmicrotaskï¼Œä¹Ÿå« jobsã€‚ å¦ä¸€äº›å¼‚æ­¥ä»»åŠ¡çš„å›žè°ƒä¼šä¾æ¬¡è¿›å…¥ micro task queueï¼Œç­‰å¾…åŽç»­è¢«è°ƒç”¨ï¼Œè¿™äº›å¼‚æ­¥ä»»åŠ¡åŒ…æ‹¬ï¼š process.nextTick (Node ç‹¬æœ‰) Promise.then() Object.observe(åºŸå¼ƒ) MutationObserver ï¼ˆæ³¨ï¼šè¿™é‡Œåªé’ˆå¯¹æµè§ˆå™¨å’Œ NodeJSï¼‰ æµè§ˆå™¨çš„ Event Loop è¿™å¼ å›¾å°†æµè§ˆå™¨çš„ Event Loop å®Œæ•´çš„æè¿°äº†å‡ºæ¥ï¼Œæˆ‘æ¥è®²æ‰§è¡Œä¸€ä¸ª JavaScript ä»£ç çš„å…·ä½“æµç¨‹ï¼š æ‰§è¡Œå…¨å±€ Script åŒæ­¥ä»£ç ï¼Œè¿™äº›åŒæ­¥ä»£ç æœ‰ä¸€äº›æ˜¯åŒæ­¥è¯­å¥ï¼Œæœ‰ä¸€äº›æ˜¯å¼‚æ­¥è¯­å¥ï¼ˆæ¯”å¦‚ setTimeout ç­‰ï¼‰ï¼› å…¨å±€ Script ä»£ç æ‰§è¡Œå®Œæ¯•åŽï¼Œè°ƒç”¨æ ˆ Stack ä¼šæ¸…ç©ºï¼› ä»Žå¾®é˜Ÿåˆ— microtask queue ä¸­å–å‡ºä½äºŽé˜Ÿé¦–çš„å›žè°ƒä»»åŠ¡ï¼Œæ”¾å…¥è°ƒç”¨æ ˆ Stack ä¸­æ‰§è¡Œï¼Œæ‰§è¡Œå®ŒåŽ microtask queue é•¿åº¦å‡ 1ï¼› ç»§ç»­å–å‡ºä½äºŽé˜Ÿé¦–çš„ä»»åŠ¡ï¼Œæ”¾å…¥è°ƒç”¨æ ˆ Stack ä¸­æ‰§è¡Œï¼Œä»¥æ­¤ç±»æŽ¨ï¼Œç›´åˆ°ç›´åˆ°æŠŠ microtask queue ä¸­çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ã€‚æ³¨æ„ï¼Œå¦‚æžœåœ¨æ‰§è¡Œ microtask çš„è¿‡ç¨‹ä¸­ï¼Œåˆäº§ç”Ÿäº† microtaskï¼Œé‚£ä¹ˆä¼šåŠ å…¥åˆ°é˜Ÿåˆ—çš„æœ«å°¾ï¼Œä¹Ÿä¼šåœ¨è¿™ä¸ªå‘¨æœŸè¢«è°ƒç”¨æ‰§è¡Œï¼› microtask queue ä¸­çš„æ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ­¤æ—¶ microtask queue ä¸ºç©ºé˜Ÿåˆ—ï¼Œè°ƒç”¨æ ˆ Stack ä¹Ÿä¸ºç©ºï¼› å–å‡ºå®é˜Ÿåˆ— macrotask queue ä¸­ä½äºŽé˜Ÿé¦–çš„ä»»åŠ¡ï¼Œæ”¾å…¥ Stack ä¸­æ‰§è¡Œï¼› æ‰§è¡Œå®Œæ¯•åŽï¼Œè°ƒç”¨æ ˆ Stack ä¸ºç©ºï¼› é‡å¤ç¬¬ 3-7 ä¸ªæ­¥éª¤ï¼› é‡å¤ç¬¬ 3-7 ä¸ªæ­¥éª¤ï¼› â€¦â€¦ å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°±æ˜¯æµè§ˆå™¨çš„äº‹ä»¶å¾ªçŽ¯ Event Loop è¿™é‡Œå½’çº³ 3 ä¸ªé‡ç‚¹ï¼š å®é˜Ÿåˆ— macrotask ä¸€æ¬¡åªä»Žé˜Ÿåˆ—ä¸­å–ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®ŒåŽå°±åŽ»æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼› å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šè¢«ä¾æ¬¡å–å‡ºæ¥æ‰§è¡Œï¼Œç›´åˆ° microtask queue ä¸ºç©ºï¼› å›¾ä¸­æ²¡æœ‰ç”» UI rendering çš„èŠ‚ç‚¹ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ç”±æµè§ˆå™¨è‡ªè¡Œåˆ¤æ–­å†³å®šçš„ï¼Œä½†æ˜¯åªè¦æ‰§è¡Œ UI renderingï¼Œå®ƒçš„èŠ‚ç‚¹æ˜¯åœ¨æ‰§è¡Œå®Œæ‰€æœ‰çš„ microtask ä¹‹åŽï¼Œä¸‹ä¸€ä¸ª macrotask ä¹‹å‰ï¼Œç´§è·Ÿç€æ‰§è¡Œ UI renderã€‚ ç¤ºä¾‹å¼•ç”¨ä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„è€ƒå¯Ÿ JavaScript å¼‚æ­¥æœºåˆ¶çš„é¢è¯•é¢˜æ¥å…·ä½“ä»‹ç»ã€‚ æ‰§è¡Œä¸‹é¢è¿™æ®µä»£ç ï¼Œæ‰§è¡ŒåŽï¼Œåœ¨ 5s å†…ç‚¹å‡»ä¸¤ä¸‹ï¼Œè¿‡ä¸€æ®µæ—¶é—´ï¼ˆ&gt;5sï¼‰åŽï¼Œå†ç‚¹å‡»ä¸¤ä¸‹ï¼Œæ•´ä¸ªè¿‡ç¨‹çš„è¾“å‡ºç»“æžœæ˜¯ä»€ä¹ˆï¼Ÿ 12345678910111213141516171819202122232425setTimeout(function() &#123; for (var i = 0; i &lt; 100000000; i++) &#123;&#125; console.log("timer a");&#125;, 0);for (var j = 0; j &lt; 5; j++) &#123; console.log(j);&#125;setTimeout(function() &#123; console.log("timer b");&#125;, 0);function waitFiveSeconds() &#123; var now = new Date().getTime(); while (new Date().getTime() - now &lt; 5000) &#123;&#125; console.log("finished waiting");&#125;document.addEventListener("click", function() &#123; console.log("click");&#125;);console.log("click begin");waitFiveSeconds(); è¦æƒ³äº†è§£ä¸Šè¿°ä»£ç çš„è¾“å‡ºç»“æžœï¼Œé¦–å…ˆä»‹ç»ä¸‹å®šæ—¶å™¨ã€‚ setTimeoutçš„ä½œç”¨æ˜¯åœ¨é—´éš”ä¸€å®šçš„æ—¶é—´åŽï¼Œå°†å›žè°ƒå‡½æ•°æ’å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç­‰æ ˆä¸­çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•åŽï¼Œå†æ‰§è¡Œã€‚å› ä¸ºæ ˆä¸­çš„åŒæ­¥ä»»åŠ¡ä¹Ÿä¼šè€—æ—¶ï¼Œæ‰€ä»¥é—´éš”çš„æ—¶é—´ä¸€èˆ¬ä¼šå¤§äºŽç­‰äºŽæŒ‡å®šçš„æ—¶é—´ã€‚ setTimeout(fn, 0)çš„æ„æ€æ˜¯ï¼Œå°†å›žè°ƒå‡½æ•°fnç«‹åˆ»æ’å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç­‰å¾…æ‰§è¡Œï¼Œè€Œä¸æ˜¯ç«‹å³æ‰§è¡Œã€‚çœ‹ä¸€ä¸ªä¾‹å­ï¼š 123456setTimeout(function() &#123; console.log("a");&#125;, 0);for (let i = 0; i &lt; 10000; i++) &#123;&#125;console.log("b"); 1b a æ‰“å°ç»“æžœè¡¨æ˜Žå›žè°ƒå‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯ç­‰å¾…æ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åŽæ‰æ‰§è¡Œçš„ã€‚æ ˆä¸­çš„ä»»åŠ¡æ‰§è¡Œå¤šä¹…ï¼Œå®ƒå°±å¾—ç­‰å¤šä¹…ã€‚ ç†è§£äº†å®šæ—¶å™¨çš„ä½œç”¨ï¼Œé‚£ä¹ˆå¯¹äºŽè¾“å‡ºç»“æžœå°±å®¹æ˜“å¾—å‡ºäº†ã€‚ é¦–å…ˆï¼Œå…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ã€‚å…¶ä¸­waitFiveSecondsæ˜¯è€—æ—¶æ“ä½œï¼ŒæŒç»­æ‰§è¡Œé•¿è¾¾ 5sã€‚ 123456701234click beginfinished waiting ç„¶åŽï¼Œåœ¨ JS å¼•æ“Žçº¿ç¨‹æ‰§è¡Œçš„æ—¶å€™ï¼Œ&#39;timer a&#39;å¯¹åº”çš„å®šæ—¶å™¨äº§ç”Ÿçš„å›žè°ƒã€ &#39;timer b&#39;å¯¹åº”çš„å®šæ—¶å™¨äº§ç”Ÿçš„å›žè°ƒå’Œä¸¤æ¬¡clickå¯¹åº”çš„å›žè°ƒè¢«å…ˆåŽæ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ã€‚ç”±äºŽ JS å¼•æ“Žçº¿ç¨‹ç©ºé—²åŽï¼Œä¼šå…ˆæŸ¥çœ‹æ˜¯å¦æœ‰äº‹ä»¶å¯æ‰§è¡Œï¼ŒæŽ¥ç€å†å¤„ç†å…¶ä»–å¼‚æ­¥ä»»åŠ¡ã€‚å› æ­¤ä¼šäº§ç”Ÿ ä¸‹é¢çš„è¾“å‡ºé¡ºåºã€‚ 1234clickclicktimer atimer b æœ€åŽï¼Œ5s åŽçš„ä¸¤æ¬¡clickäº‹ä»¶è¢«æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”±äºŽæ­¤æ—¶ JS å¼•æ“Žçº¿ç¨‹ç©ºé—²ï¼Œä¾¿è¢«ç«‹å³æ‰§è¡Œäº†ã€‚ 12click;click; å¼‚æ­¥ä¸Žäº‹ä»¶ä¸Šæ–‡ä¸­è¯´çš„â€œäº‹ä»¶å¾ªçŽ¯â€ï¼Œä¸ºä»€ä¹ˆé‡Œé¢æœ‰ä¸ªäº‹ä»¶å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºï¼š æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¯æ¡æ¶ˆæ¯å®žé™…ä¸Šéƒ½å¯¹åº”ç€ä¸€ä¸ªäº‹ä»¶ã€‚ ä¸Šæ–‡ä¸­ä¸€ç›´æ²¡æœ‰æåˆ°ä¸€ç±»å¾ˆé‡è¦çš„å¼‚æ­¥è¿‡ç¨‹ï¼šDOMäº‹ä»¶ã€‚ä¸¾ä¾‹è¯´æ˜Žï¼š 1234var button = document.getElement("#btn");button.addEventListener("click", function(e) &#123; console.log("lalla");&#125;); ä»Žäº‹ä»¶çš„è§’åº¦æ¥çœ‹ï¼Œä¸Šè¿°ä»£ç è¡¨ç¤ºï¼šåœ¨æŒ‰é’®ä¸Šæ·»åŠ äº†ä¸€ä¸ªé¼ æ ‡å•å‡»äº‹ä»¶çš„äº‹ä»¶ç›‘å¬å™¨ï¼›å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé¼ æ ‡å•å‡»äº‹ä»¶è§¦å‘ï¼Œäº‹ä»¶ç›‘å¬å™¨å‡½æ•°è¢«è°ƒç”¨ã€‚ ä»Žå¼‚æ­¥è¿‡ç¨‹çš„è§’åº¦çœ‹ï¼ŒaddEventListenerå‡½æ•°å°±æ˜¯å¼‚æ­¥è¿‡ç¨‹çš„å‘èµ·å‡½æ•°ï¼Œäº‹ä»¶ç›‘å¬å™¨å‡½æ•°å°±æ˜¯å¼‚æ­¥è¿‡ç¨‹çš„å›žè°ƒå‡½æ•°ã€‚äº‹ä»¶è§¦å‘æ—¶ï¼Œè¡¨ç¤ºå¼‚æ­¥ä»»åŠ¡å®Œæˆï¼Œä¼šå°†äº‹ä»¶ç›‘å¬å™¨å‡½æ•°å°è£…æˆä¸€æ¡æ¶ˆæ¯æ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ æ€»ç»“ä¸€ä¸‹æœ€åŽå†ç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ€»ç»“ä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥ï¼šåœ¨å…¬è·¯ä¸Šï¼Œæ±½è½¦ä¸€è¾†æŽ¥ä¸€è¾†ï¼Œæœ‰æ¡ä¸ç´Šçš„è¿è¡Œã€‚è¿™æ—¶ï¼Œæœ‰ä¸€è¾†è½¦åæŽ‰äº†ã€‚å‡å¦‚å®ƒåœåœ¨åŽŸåœ°è¿›è¡Œä¿®ç†ï¼Œé‚£ä¹ˆåŽé¢çš„è½¦å°±ä¼šè¢«å µä½æ²¡æ³•è¡Œé©¶ï¼Œäº¤é€šå°±ä¹±å¥—äº†ã€‚å¹¸å¥½æ—è¾¹æœ‰åº”æ€¥è½¦é“ï¼Œå¯ä»¥æŠŠæ•…éšœè½¦è¾†æŽ¨åˆ°åº”æ€¥è½¦é“ä¿®ç†ï¼Œè€Œæ­£å¸¸çš„è½¦æµä¸ä¼šå—åˆ°ä»»ä½•å½±å“ã€‚ç­‰è½¦ä¿®å¥½äº†ï¼Œå†ä»Žåº”æ€¥è½¦é“å›žåˆ°æ­£å¸¸è½¦é“å³å¯ã€‚å”¯ä¸€çš„å½±å“å°±æ˜¯ï¼Œåº”æ€¥è½¦é“ç”¨å¤šäº†ï¼ŒåŽŸæ¥çš„è½¦è¾†ä¹‹é—´çš„é¡ºåºä¼šæœ‰ç‚¹ä¹±ã€‚ è¿™å°±æ˜¯åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«ã€‚åŒæ­¥å¯ä»¥ä¿è¯é¡ºåºä¸€è‡´ï¼Œä½†æ˜¯å®¹æ˜“å¯¼è‡´é˜»å¡žï¼›å¼‚æ­¥å¯ä»¥è§£å†³é˜»å¡žé—®é¢˜ï¼Œä½†æ˜¯ä¼šæ”¹å˜é¡ºåºæ€§ã€‚æ”¹å˜é¡ºåºæ€§å…¶å®žä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œåªä¸è¿‡è®©ç¨‹åºå˜å¾—ç¨å¾®éš¾ç†è§£äº†ä¸€äº›. å‚è€ƒæ–‡ç« ï¼šJavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆ Event Loop ä¼ é€é—¨]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Event Loop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptä¸­å¸¸è§çš„å‡ ç§è½®æ’­]]></title>
    <url>%2F2017%2F08%2F15%2FJavaScript%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E5%87%A0%E7%A7%8D%E8%BD%AE%E6%92%AD%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®ä¸­ç»å¸¸ç”¨åˆ°è½®æ’­å›¾ï¼Œä»Šå¤©å°±æ¥ä¸€èµ·æŽ¢è®¨ä¸åŒæ¨¡å¼è½®æ’­å›¾çš„å®žçŽ°æ–¹æ³•ï¼Œä¸Žå›å…±å‹‰ã€‚ é¦–å…ˆå¥‰ä¸Šè½®æ’­å›¾ æ— ç¼ä¸åœè½®æ’­body å¸ƒå±€: 12345678910&lt;div class="container"&gt; &lt;!--å°†ulå’ŒliåŒ…ä½,èµ·æ˜¾ç¤ºå›¾ç‰‡çš„ä½œç”¨--&gt; &lt;ul&gt; &lt;li&gt;![](img/img1.png)&lt;/li&gt; &lt;li&gt;![](img/img2.png)&lt;/li&gt; &lt;li&gt;![](img/img3.png)&lt;/li&gt; &lt;li&gt;![](img/img4.png)&lt;/li&gt; &lt;li&gt;![](img/img1.png)&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; css æ ·å¼ï¼š 12345678910111213141516171819202122232425* &#123; margin: 0; padding: 0;&#125;.container &#123; position: relative; /*ç»™è¦åŠ¨çš„å…ƒç´ ä¹Ÿå°±æ˜¯ul å®ƒçš„çˆ¶çº§åŠ ä¸Šç›¸å¯¹å®šä½*/ width: 600px; height: 400px; overflow: hidden; /*ç»™è¦åŠ¨çš„å…ƒç´ ä¹Ÿå°±æ˜¯ul å®ƒçš„çˆ¶çº§åŠ ä¸Šæº¢å‡ºéšè—*/&#125;.container &gt; ul &#123; position: absolute; /*ç»™è¦åŠ¨çš„å…ƒç´ ä¹Ÿå°±æ˜¯ul åŠ ä¸Šç»å¯¹å®šä½,æ‰èƒ½ä¿è¯ç”¨leftå’Œtop;*/ width: 3000px; /*ul çš„å®½åº¦ä¸º li çš„ä¸ªæ•° * li çš„å®½åº¦*/ height: 100%; list-style: none;&#125;.container &gt; ul &gt; li &#123; float: left; width: 600px; height: 100%;&#125;.container &gt; ul &gt; li img &#123; width: 100%; height: 100%;&#125; JS ä»£ç : 12345678910111213var ul = document.querySelector(".container &gt; ul"); //èŽ·å–ulsetTimeout(function step() &#123; //è®¾ç½®å®šæ—¶å™¨ if (ul.offsetLeft &lt;= -2400) &#123; //åˆ¤æ–­:è‹¥ulèµ°åˆ°å€’æ•°ç¬¬äºŒå¼ å›¾çš„æ—¶å€™,è®©leftä»Ž0å¼€å§‹è¿è¡Œ ul.style.left = 0 + "px"; &#125; else &#123; var left = ul.offsetLeft - 3; //ç»™ulè®¾ç½®é€Ÿåº¦ ul.style.left = left + "px"; &#125; var time = 10; //è®¾å®šä¸€ä¸ªæ—¶é—´,ä»¥æŽ§åˆ¶å…¶è½®æ’­çš„é€Ÿåº¦ setTimeout(step, time); //å®šæ—¶å™¨å†…éƒ¨è°ƒç”¨å®šæ—¶å™¨&#125;, 0); æ— ç¼åœé¡¿è½®æ’­ åœé¡¿è½®æ’­åœ¨ä¸åœè½®æ’­çš„åŸºç¡€ä¸ŠåŠ ä»¥æ”¹è¿›,åˆ¤æ–­å½“ ul èµ°åˆ° li å®½åº¦çš„å€æ•°æ—¶,è®©å®šæ—¶å™¨çš„æ—¶é—´åŠ å¤§,å°±å¯ä»¥èµ·åˆ°åœé¡¿çš„æ•ˆæžœ â€‹body å¸ƒå±€ä»¥åŠ css æ ·å¼ä¸å˜ js ä»£ç ï¼š 12345678910111213141516171819var ul = document.querySelector(".container &gt; ul"); //èŽ·å–ulsetTimeout(function step() &#123; //è®¾ç½®å®šæ—¶å™¨ if (ul.offsetLeft &lt;= -2400) &#123; //åˆ¤æ–­:è‹¥ulèµ°åˆ°å€’æ•°ç¬¬äºŒå¼ å›¾çš„æ—¶å€™,è®©leftä»Ž0å¼€å§‹è¿è¡Œ ul.style.left = 0 + "px"; &#125; else &#123; speed = -3; //ç»™ulè®¾ç½®é€Ÿåº¦ &#125; var time; if (ul.offsetLeft % 600 == 0) &#123; //åšåˆ¤æ–­:å½“ulèµ°åˆ°liå®½åº¦çš„å€æ•°æ—¶ time = 3000; //è®¾å®šä¸€ä¸ªå¾ˆå¤§çš„æ—¶é—´,ä¹Ÿå°±æ˜¯å¾ˆå°çš„é€Ÿåº¦ &#125; else &#123; time = 10; &#125; ul.style.left = ul.offsetLeft + speed + "px"; setTimeout(step, time); //å®šæ—¶å™¨å†…éƒ¨è°ƒç”¨å®šæ—¶å™¨&#125;, 0); æ— ç¼åœé¡¿åå‘è½®æ’­ åå‘è½®æ’­åœ¨åœé¡¿è½®æ’­çš„åŸºç¡€ä¸ŠåŠ ä»¥æ”¹è¿›,åˆ¤æ–­å½“ ul æœ€å·¦è¾¹å’Œ ul èµ°åˆ°æœ€å³è¾¹,å°†é€Ÿåº¦åå‘;å°†æœ€åŽä¸€å¼ é‡å¤çš„ li åŽ»æŽ‰å¹¶ä¿®æ”¹ ul çš„å®½åº¦ 1234567891011121314151617var ul = document.querySelector(".container &gt; ul");var speed = 3;setTimeout(function step() &#123; if (ul.offsetLeft &lt;= -1800 || ul.offsetLeft &gt;= 0) &#123; //åˆ¤æ–­å½“ulæœ€å·¦è¾¹å’Œulèµ°åˆ°æœ€å³è¾¹,å°†é€Ÿåº¦åå‘; speed *= -1; &#125; var time = 0; if (ul.offsetLeft % 600 == 0) &#123; //åšåˆ¤æ–­:å½“ulèµ°åˆ°liå®½åº¦çš„å€æ•°æ—¶ time = 3000; //è®¾å®šä¸€ä¸ªå¾ˆå¤§çš„æ—¶é—´,ä¹Ÿå°±æ˜¯å¾ˆå°çš„é€Ÿåº¦ &#125; else &#123; time = 10; &#125; ul.style.left = ul.offsetLeft + speed + "px"; setTimeout(step, time); //å®šæ—¶å™¨å†…éƒ¨è°ƒç”¨å®šæ—¶å™¨&#125;, 0); é€æ˜Žåº¦æ™®é€šè½®æ’­â€‹1.body å¸ƒå±€ä¸Šä¸€æ ·;â€‹2.css æ ·å¼:å°†æ‰€æœ‰ li ç»å¯¹å®šä½,é‡å åœ¨ä¸€èµ·â€‹3.JS:å…ˆèŽ·å–åˆ° ul å’Œ li å¹¶å¯¹ li çš„æ•°ç»„è¿›è¡ŒéåŽ† èµ‹å€¼æ¯ä¸ªçš„ opacityâ€‹æ³¨:è¦åœ¨ js ä¸­éåŽ† li å†ç»™å®ƒèµ‹å€¼ opacity,è€Œä¸æ˜¯åœ¨ css ä¸­ç›´æŽ¥è®¾ç½®å±žæ€§æ˜¯ä¸ºäº†åœ¨ js ä¸­å¥½èŽ·å–åˆ° opacity å¹¶ç»™å®ƒè¿›è¡Œä¿®æ”¹è®¾ç½® 12345678910111213141516171819202122232425262728var ul = document.querySelector(".container &gt; ul"); //èŽ·å–ulvar lis = document.querySelectorAll(".container &gt; ul &gt;li");var i = 0;for (var i = 0; i &lt; lis.length; i++) &#123; if (i == 0) &#123; //é»˜è®¤æ˜¾ç¤ºç¬¬ä¸€å¼ å›¾,è®©å…¶é€æ˜Žåº¦ä¸º1; lis[i].style.opacity = 1; &#125; else &#123; //å…¶ä»–å›¾ç‰‡é€æ˜Žåº¦ä¸º0; lis[i].style.opacity = 0; &#125;&#125;var i = 0; //é‡æ–°èµ‹å€¼ivar time = 50; //è®¾ç½®æ—¶é—´,æŽ§åˆ¶å›¾ç‰‡è½¬æ¢çš„é€Ÿåº¦,æ—¶é—´è¶Šå¤§,é€Ÿåº¦è¶Šæ…¢setTimeout(function step() &#123; //è®¾ç½®å®šæ—¶å™¨ lis[i % 4].style.opacity -= 0.05; lis[(i + 1) % 4].style.opacity = parseFloat(lis[(i + 1) % 4].style.opacity) + 0.05; if (lis[i % 4].style.opacity == 0) &#123; i++; time = 1000; &#125; else &#123; time = 50; &#125; setTimeout(step, time);&#125;, 0); é€æ˜Žåº¦æŒ‡ç¤ºå™¨è½®æ’­body å¸ƒå±€: 123456789101112131415161718192021222324252627&lt;div class="container"&gt; &lt;ul id="picture"&gt; &lt;!--è½®æ’­å›¾ç‰‡åŒº--&gt; &lt;li&gt;![](img/img1.jpg)&lt;/li&gt; &lt;li&gt;![](img/img2.jpg)&lt;/li&gt; &lt;li&gt;![](img/img3.jpg)&lt;/li&gt; &lt;li&gt;![](img/img4.jpg)&lt;/li&gt; &lt;li&gt;![](img/img5.jpg)&lt;/li&gt; &lt;li&gt;![](img/img6.jpg)&lt;/li&gt; &lt;/ul&gt; &lt;ul class="arrow"&gt; &lt;!--å·¦å³åˆ‡æ¢--&gt; &lt;li class="arrowLeft"&gt;&lt;/li&gt; &lt;li class="arrowRight"&gt;&lt;/li&gt; &lt;/ul&gt; &lt;div class="bottom"&gt; &lt;!--æŒ‡ç¤ºå™¨--&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;li&gt;5&lt;/li&gt; &lt;li style="margin:0"&gt;6&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/div&gt; css æ ·å¼ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990* &#123; margin: 0; padding: 0;&#125;.container &#123; /*æ•´ä½“æ ·å¼*/ position: relative; width: 600px; height: 400px; overflow: hidden; margin: 20px auto;&#125;.container &gt; .picture &#123; /*è½®æ’­å›¾ç‰‡åŒºæ ·å¼*/ position: absolute; width: 600px; height: 100%; list-style: none;&#125;.container &gt; .picture &gt; li &#123; position: absolute; width: 600px; height: 100%;&#125;.container &gt; .picture &gt; li img &#123; width: 100%; height: 100%;&#125;.container &gt; .arrow &#123; /*å·¦å³åˆ‡æ¢åŒºæ ·å¼*/ position: absolute; height: 70px; width: 100%; top: 40%; left: 0; list-style: none;&#125;.container &gt; .arrow &gt; li &#123; width: 40px; height: 70px; padding: 0; margin: 0; cursor: pointer;&#125;.container &gt; .arrow &gt; li:nth-child(1) &#123; float: left; background: url("img/arrow_left1.png");&#125;.container &gt; .arrow &gt; li:nth-child(2) &#123; float: right; background: url("img/arrow_right1.png");&#125;.container &gt; .arrow &gt; li:nth-child(1):hover &#123; background: url("img/arrow_left2.png");&#125;.container &gt; .arrow &gt; li:nth-child(2):hover &#123; background: url("img/arrow_right2.png");&#125;.container .bottom &#123; /*æŒ‡ç¤ºå™¨æ ·å¼*/ position: relative; margin: 0 auto; width: 215px; height: 40px; top: 350px; border-radius: 20px; background-color: grey;&#125;.container &gt; .bottom &gt; ul &#123; position: absolute; height: 30px; width: 205px; bottom: 20px; list-style: none; top: 5px; left: 5px;&#125;.container &gt; .bottom &gt; ul &gt; li &#123; float: left; height: 100%; width: 30px; margin: 0 5px 0 0; padding: 0; border-radius: 50%; background-color: white; font-size: 20px; line-height: 30px; text-align: center; cursor: pointer;&#125; js ä»£ç ï¼šâ€‹ä»£ç åˆ†æž: å…ˆè¿›è¡Œå‡†å¤‡å·¥ä½œ, åˆ©ç”¨ for å¾ªçŽ¯å°†åˆå§‹åŒ–çš„å›¾ç‰‡é€æ˜Žåº¦å·²ç»æŒ‡ç¤ºå™¨çš„èƒŒæ™¯è‰²è®¾å®šå¥½ ç»™æ•´ä¸ª container æ·»åŠ äº‹ä»¶,å½“é¼ æ ‡ä¸Šæ¥çš„æ—¶å€™,è®©è‡ªåŠ¨æ’­æ”¾åœæ­¢ ç»™å·¦,å³â€æŒ‰é’®â€ ç‚¹å‡»äº‹ä»¶,ç”¨ä»¥åˆ‡æ¢ä¸Šä¸€å¼ ä¸‹ä¸€å¼ å›¾ç‰‡; ç»™æŒ‡ç¤ºå™¨ onmouseenter äº‹ä»¶,ä½¿å¾—å›¾ç‰‡ä¸Žä½ çš„æŒ‡ç¤ºå™¨åŒæ­¥,è¾¾åˆ°éšæ„åˆ‡æ¢å›¾ç‰‡çš„æ•ˆæžœ; å®šä¹‰ å›¾ç‰‡åˆ‡æ¢çš„å‡½æ•° ,ä½¿å¾—ä»¥ä¸Šäº‹ä»¶éƒ½å¯ä»¥è°ƒç”¨å®ƒ å®šä¹‰è‡ªåŠ¨æ’­æ”¾çš„å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677var container = document.querySelector(".container");var pictureLis = document.querySelectorAll(".container &gt; .picture &gt; li");var optionLis = document.querySelectorAll(".container &gt; .bottom &gt;ul &gt; li");var arrowLeft = document.querySelector(".container .arrow &gt; .arrowLeft");var arrowRight = document.querySelector(".container .arrow &gt; .arrowRight");var showIndex = 0; //å½“å‰æ­£åœ¨æ˜¾ç¤ºçš„å›¾ç‰‡çš„ä¸‹æ ‡//åˆå§‹åŒ–function init() &#123; for (var j = 0; j &lt; pictureLis.length; j++) &#123; if (j == 0) &#123; optionLis[j].style.backgroundColor = "red"; pictureLis[j].style.opacity = 1; &#125; else &#123; pictureLis[j].style.opacity = 0; &#125; &#125; //ç»™æ•´ä¸ªcontaineræ·»åŠ äº‹ä»¶,å½“é¼ æ ‡ä¸Šæ¥çš„æ—¶å€™,è®©è‡ªåŠ¨æ’­æ”¾åœæ­¢ container.onmouseenter = function() &#123; clearTimeout(autoPlayId); &#125;; container.onmouseleave = function() &#123; auto(); &#125;; //ç»™å·¦æŒ‰é’®å’Œå³æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ arrowLeft.onclick = function() &#123; optionLis[showIndex % optionLis.length].style.backgroundColor = "white"; var preIndex = showIndex - 1 + pictureLis.length; move(showIndex, preIndex); showIndex = preIndex; optionLis[showIndex % optionLis.length].style.backgroundColor = "red"; &#125;; arrowRight.onclick = function() &#123; optionLis[showIndex % optionLis.length].style.backgroundColor = "white"; move(showIndex, showIndex + 1); showIndex++; optionLis[showIndex % optionLis.length].style.backgroundColor = "red"; &#125;; //ç»™æŒ‡ç¤ºå™¨æ·»åŠ onmouseenteräº‹ä»¶,ä½¿å¾—å›¾ç‰‡ä¸ŽæŒ‡ç¤ºå™¨åŒæ­¥ for (let i = 0; i &lt; optionLis.length; i++) &#123; optionLis[i].onmouseenter = function() &#123; move(showIndex, i); optionLis[showIndex % optionLis.length].style.backgroundColor = "white"; optionLis[i % optionLis.length].style.backgroundColor = "red"; showIndex = i; &#125;; &#125;&#125;init(); //è°ƒç”¨åˆå§‹åŒ–//å›¾ç‰‡ç§»åŠ¨function move(showIndex, nextIndex) &#123; setTimeout(function step() &#123; pictureLis[showIndex % pictureLis.length].style.opacity -= 0.05; pictureLis[nextIndex % pictureLis.length].style.opacity = +pictureLis[nextIndex % pictureLis.length].style.opacity + 0.05; if ( pictureLis[showIndex % pictureLis.length].style.opacity &lt;= 0 || pictureLis[nextIndex % pictureLis.length].style.opacity &gt;= 1 ) return; setTimeout(step, 5); &#125;, 0);&#125;//è‡ªåŠ¨æ’­æ”¾var autoPlayId; //è‡ªåŠ¨æ’­æ”¾å®šæ—¶å™¨idfunction auto() &#123; autoPlayId = setTimeout(function autoStep() &#123; optionLis[showIndex].style.backgroundColor = "white"; move(showIndex, showIndex + 1); //åˆ‡æ¢ä¸‹ä¸€å¼ å›¾ç‰‡ showIndex++; if (showIndex == pictureLis.length) showIndex = 0; optionLis[showIndex % optionLis.length].style.backgroundColor = "red"; autoPlayId = setTimeout(autoStep, 2000); &#125;, 2000);&#125;auto();]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>è½®æ’­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptçš„10ä¸ªé‡ç‚¹åŠéš¾ç‚¹]]></title>
    <url>%2F2017%2F07%2F15%2FJavaScript%E7%9A%8410%E4%B8%AA%E9%87%8D%E7%82%B9%E5%8F%8A%E9%9A%BE%E7%82%B9%2F</url>
    <content type="text"><![CDATA[ç«‹å³æ‰§è¡Œå‡½æ•°ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå³Immediately Invoked Function Expression (IIFE)ï¼Œæ­£å¦‚å®ƒçš„åå­—ï¼Œå°±æ˜¯åˆ›å»ºå‡½æ•°çš„åŒæ—¶ç«‹å³æ‰§è¡Œã€‚å®ƒæ²¡æœ‰ç»‘å®šä»»ä½•äº‹ä»¶ï¼Œä¹Ÿæ— éœ€ç­‰å¾…ä»»ä½•å¼‚æ­¥æ“ä½œï¼š 1234(function() &#123; // ä»£ç  // ...&#125;)(); function(){â€¦}æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒåŒ…å›´å®ƒçš„ä¸€å¯¹æ‹¬å·å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç´§è·Ÿå…¶åŽçš„ä¸€å¯¹æ‹¬å·è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ã€‚ç«‹å³æ‰§è¡Œå‡½æ•°ä¹Ÿå¯ä»¥ç†è§£ä¸ºç«‹å³è°ƒç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ç«‹å³æ‰§è¡Œå‡½æ•°æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šå°†varå˜é‡çš„ä½œç”¨åŸŸé™åˆ¶äºŽä½ ä»¬å‡½æ•°å†…ï¼Œè¿™æ ·å¯ä»¥é¿å…å‘½åå†²çªã€‚ é—­åŒ…å¯¹äºŽé—­åŒ…(closure)ï¼Œå½“å¤–éƒ¨å‡½æ•°è¿”å›žä¹‹åŽï¼Œå†…éƒ¨å‡½æ•°ä¾ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚ 12345678910111213141516function f1() &#123; var N = 0; // Næ˜¯f1å‡½æ•°çš„å±€éƒ¨å˜é‡ function f2() &#123; // f2æ˜¯f1å‡½æ•°çš„å†…éƒ¨å‡½æ•°ï¼Œæ˜¯é—­åŒ… N += 1; // å†…éƒ¨å‡½æ•°f2ä¸­ä½¿ç”¨äº†å¤–éƒ¨å‡½æ•°f1ä¸­çš„å˜é‡N console.log(N); &#125; return f2;&#125;var result = f1();result(); // è¾“å‡º1result(); // è¾“å‡º2result(); // è¾“å‡º3 ä»£ç ä¸­ï¼Œå¤–éƒ¨å‡½æ•°f1åªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œå˜é‡Nè®¾ä¸º 0ï¼Œå¹¶å°†å†…éƒ¨å‡½æ•°f2èµ‹å€¼ç»™äº†å˜é‡resultã€‚ç”±äºŽå¤–éƒ¨å‡½æ•°f1å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œå…¶å†…éƒ¨å˜é‡Nåº”è¯¥åœ¨å†…å­˜ä¸­è¢«æ¸…é™¤ï¼Œç„¶è€Œäº‹å®žå¹¶ä¸æ˜¯è¿™æ ·ï¼šæˆ‘ä»¬æ¯æ¬¡è°ƒç”¨resultçš„æ—¶å€™ï¼Œå‘çŽ°å˜é‡Nä¸€ç›´åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”åœ¨ç´¯åŠ ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±æ˜¯é—­åŒ…çš„ç¥žå¥‡ä¹‹å¤„äº†ï¼ ä½¿ç”¨é—­åŒ…å®šä¹‰ç§æœ‰å˜é‡é€šå¸¸ï¼ŒJavaScript å¼€å‘è€…ä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºç§æœ‰å˜é‡çš„å‰ç¼€ã€‚ä½†æ˜¯å®žé™…ä¸Šï¼Œè¿™äº›å˜é‡ä¾ç„¶å¯ä»¥è¢«è®¿é—®å’Œä¿®æ”¹ï¼Œå¹¶éžçœŸæ­£çš„ç§æœ‰å˜é‡ã€‚è¿™æ—¶ï¼Œä½¿ç”¨é—­åŒ…å¯ä»¥å®šä¹‰çœŸæ­£çš„ç§æœ‰å˜é‡ï¼š 1234567891011121314151617function Product() &#123; var name; this.setName = function(value) &#123; name = value; &#125;; this.getName = function() &#123; return name; &#125;;&#125;var p = new Product();p.setName("Fundebug");console.log(p.name); // è¾“å‡ºundefinedconsole.log(p.getName()); // è¾“å‡ºFundebug ä»£ç ä¸­ï¼Œå¯¹è±¡pçš„çš„nameå±žæ€§ä¸ºç§æœ‰å±žæ€§ï¼Œä½¿ç”¨p.nameä¸èƒ½ç›´æŽ¥è®¿é—®ã€‚ prototypeæ¯ä¸ªJavaScriptæž„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±žæ€§ï¼Œç”¨äºŽè®¾ç½®æ‰€æœ‰å®žä¾‹å¯¹è±¡éœ€è¦å…±äº«çš„å±žæ€§å’Œæ–¹æ³•ã€‚prototypeå±žæ€§ä¸èƒ½åˆ—ä¸¾ã€‚JavaScriptä»…æ”¯æŒé€šè¿‡prototypeå±žæ€§è¿›è¡Œç»§æ‰¿å±žæ€§å’Œæ–¹æ³•ã€‚ 1234567891011121314151617function Rectangle(x, y) &#123; this._length = x; this._breadth = y;&#125;Rectangle.prototype.getDimensions = function() &#123; return &#123; length: this._length, breadth: this._breadth &#125;;&#125;;var x = new Rectangle(3, 4);var y = new Rectangle(4, 3);console.log(x.getDimensions()); // &#123; length: 3, breadth: 4 &#125;console.log(y.getDimensions()); // &#123; length: 4, breadth: 3 &#125; ä»£ç ä¸­ï¼Œxå’Œyéƒ½æ˜¯æž„é€ å‡½æ•°Rectangleåˆ›å»ºçš„å¯¹è±¡å®žä¾‹ï¼Œå®ƒä»¬é€šè¿‡prototypeç»§æ‰¿äº†getDimensionsæ–¹æ³•ã€‚ æ¨¡å—åŒ–JavaScriptå¹¶éžæ¨¡å—åŒ–ç¼–ç¨‹è¯­è¨€ï¼Œè‡³å°‘ES6è½åœ°ä¹‹å‰éƒ½ä¸æ˜¯ã€‚ç„¶è€Œå¯¹äºŽä¸€ä¸ªå¤æ‚çš„Webåº”ç”¨ï¼Œæ¨¡å—åŒ–ç¼–ç¨‹æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„è¦æ±‚ã€‚è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°æ¥å®žçŽ°æ¨¡å—åŒ–ï¼Œæ­£å¦‚å¾ˆå¤šJSåº“æ¯”å¦‚jQueryä»¥åŠFundebugéƒ½æ˜¯è¿™æ ·å®žçŽ°çš„ã€‚ 123456789101112131415161718192021var module = (function() &#123; var N = 5; function print(x) &#123; console.log("The result is: " + x); &#125; function add(a) &#123; var x = a + N; print(x); &#125; return &#123; description: "This is description", add: add &#125;;&#125;)();console.log(module.description); // è¾“å‡º"this is description"module.add(5); // è¾“å‡ºâ€œThe result is: 10â€ æ‰€è°“æ¨¡å—åŒ–ï¼Œå°±æ˜¯æ ¹æ®éœ€è¦æŽ§åˆ¶æ¨¡å—å†…å±žæ€§ä¸Žæ–¹æ³•çš„å¯è®¿é—®æ€§ï¼Œå³ç§æœ‰æˆ–è€…å…¬å¼€ã€‚åœ¨ä»£ç ä¸­ï¼Œmoduleä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼ŒNä¸ºå…¶ç§æœ‰å±žæ€§ï¼Œprintä¸ºå…¶ç§æœ‰æ–¹æ³•ï¼Œdecriptionä¸ºå…¶å…¬æœ‰å±žæ€§ï¼Œaddä¸ºå…¶å…±æœ‰æ–¹æ³•ã€‚ å˜é‡æå‡JavaScriptä¼šå°†æ‰€æœ‰å˜é‡å’Œå‡½æ•°å£°æ˜Žç§»åŠ¨åˆ°å®ƒçš„ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å˜é‡æå‡(Hoisting)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºä½ åœ¨ä»€ä¹ˆåœ°æ–¹å£°æ˜Žå˜é‡å’Œå‡½æ•°ï¼Œè§£é‡Šå™¨éƒ½ä¼šå°†å®ƒä»¬ç§»åŠ¨åˆ°ä½œç”¨åŸŸçš„æœ€å‰é¢ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆä½¿ç”¨å˜é‡å’Œå‡½æ•°ï¼Œè€ŒåŽå£°æ˜Žå®ƒä»¬ã€‚ ä½†æ˜¯ï¼Œä»…ä»…æ˜¯å˜é‡å£°æ˜Žè¢«æå‡äº†ï¼Œè€Œå˜é‡èµ‹å€¼ä¸ä¼šè¢«æå‡ã€‚å¦‚æžœä½ ä¸æ˜Žç™½è¿™ä¸€ç‚¹ï¼Œæœ‰æ—¶åˆ™ä¼šå‡ºé”™ï¼š 123console.log(y); // è¾“å‡ºundefinedvar y = 2; // åˆå§‹åŒ–y ä¸Šé¢çš„ä»£ç ç­‰ä»·äºŽä¸‹é¢çš„ä»£ç ï¼š 12345var y; // å£°æ˜Žyconsole.log(y); // è¾“å‡ºundefinedy = 2; // åˆå§‹åŒ–y ä¸ºäº†é¿å… BUGï¼Œå¼€å‘è€…åº”è¯¥åœ¨æ¯ä¸ªä½œç”¨åŸŸå¼€å§‹æ—¶å£°æ˜Žå˜é‡å’Œå‡½æ•°ã€‚ æŸ¯é‡ŒåŒ–æŸ¯é‡ŒåŒ–ï¼Œå³Curryingï¼Œå¯ä»¥æ˜¯å‡½æ•°å˜å¾—æ›´åŠ çµæ´»ã€‚æˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§ä¼ å…¥å¤šä¸ªå‚æ•°è°ƒç”¨å®ƒï¼›ä¹Ÿå¯ä»¥åªä¼ å…¥ä¸€éƒ¨åˆ†å‚æ•°æ¥è°ƒç”¨å®ƒï¼Œè®©å®ƒè¿”å›žä¸€ä¸ªå‡½æ•°åŽ»å¤„ç†å‰©ä¸‹çš„å‚æ•°ã€‚ 12345678910111213var add = function(x) &#123; return function(y) &#123; return x + y; &#125;;&#125;;console.log(add(1)(1)); // è¾“å‡º2var add1 = add(1);console.log(add1(1)); // è¾“å‡º2var add10 = add(10);console.log(add10(1)); // è¾“å‡º11 ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§ä¼ å…¥ 2 ä¸ª 1 ä½œä¸ºå‚æ•°add(1)(1)ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ 1 ä¸ªå‚æ•°ä¹‹åŽèŽ·å–add1ä¸Žadd10å‡½æ•°ï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥éžå¸¸çµæ´»ã€‚ apply, call ä¸Ž bind æ–¹æ³•JavaScriptå¼€å‘è€…æœ‰å¿…è¦ç†è§£applyã€callä¸Žbindæ–¹æ³•çš„ä¸åŒç‚¹ã€‚å®ƒä»¬çš„å…±åŒç‚¹æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisï¼Œå³å‡½æ•°è¿è¡Œæ—¶ä¾èµ–çš„ä¸Šä¸‹æ–‡ã€‚ ä¸‰è€…ä¹‹ä¸­ï¼Œcallæ–¹æ³•æ˜¯æœ€ç®€å•çš„ï¼Œå®ƒç­‰ä»·äºŽæŒ‡å®šthiså€¼è°ƒç”¨å‡½æ•°ï¼š 1234567891011121314var user = &#123; name: "Rahul Mhatre", whatIsYourName: function() &#123; console.log(this.name); &#125;&#125;;user.whatIsYourName(); // è¾“å‡º"Rahul Mhatre",var user2 = &#123; name: "Neha Sampat"&#125;;user.whatIsYourName.call(user2); // è¾“å‡º"Neha Sampat" applyæ–¹æ³•ä¸Žcallæ–¹æ³•ç±»ä¼¼ã€‚ä¸¤è€…å”¯ä¸€çš„ä¸åŒç‚¹åœ¨äºŽï¼Œapplyæ–¹æ³•ä½¿ç”¨æ•°ç»„æŒ‡å®šå‚æ•°ï¼Œè€Œcallæ–¹æ³•æ¯ä¸ªå‚æ•°å•ç‹¬éœ€è¦æŒ‡å®šï¼š apply(thisArg, [argsArray]) call(thisArg, arg1, arg2, â€¦) 12345678910111213var user = &#123; greet: "Hello!", greetUser: function(userName) &#123; console.log(this.greet + " " + userName); &#125;&#125;;var greet1 = &#123; greet: "Hola"&#125;;user.greetUser.call(greet1, "Rahul"); // è¾“å‡º"Hola Rahul"user.greetUser.apply(greet1, ["Rahul"]); // è¾“å‡º"Hola Rahul" ä½¿ç”¨bindæ–¹æ³•ï¼Œå¯ä»¥ä¸ºå‡½æ•°ç»‘å®šthiså€¼ï¼Œç„¶åŽä½œä¸ºä¸€ä¸ªæ–°çš„å‡½æ•°è¿”å›žï¼š 123456789101112var user = &#123; greet: "Hello!", greetUser: function(userName) &#123; console.log(this.greet + " " + userName); &#125;&#125;;var greetHola = user.greetUser.bind(&#123; greet: "Hola" &#125;);var greetBonjour = user.greetUser.bind(&#123; greet: "Bonjour" &#125;);greetHola("Rahul"); // è¾“å‡º"Hola Rahul"greetBonjour("Rahul"); // è¾“å‡º"Bonjour Rahul" MemoizationMemoizationç”¨äºŽä¼˜åŒ–æ¯”è¾ƒè€—æ—¶çš„è®¡ç®—ï¼Œé€šè¿‡å°†è®¡ç®—ç»“æžœç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè¿™æ ·å¯¹äºŽåŒæ ·çš„è¾“å…¥å€¼ï¼Œä¸‹æ¬¡åªéœ€è¦ä¸­å†…å­˜ä¸­è¯»å–ç»“æžœã€‚ 1234567891011121314151617181920function memoizeFunction(func) &#123; var cache = &#123;&#125;; return function() &#123; var key = arguments[0]; if (cache[key]) &#123; return cache[key]; &#125; else &#123; var val = func.apply(this, arguments); cache[key] = val; return val; &#125; &#125;;&#125;var fibonacci = memoizeFunction(function(n) &#123; return n === 0 || n === 1 ? n : fibonacci(n - 1) + fibonacci(n - 2);&#125;);console.log(fibonacci(100)); // è¾“å‡º354224848179262000000console.log(fibonacci(100)); // è¾“å‡º354224848179262000000 ä»£ç ä¸­ï¼Œç¬¬ 2 æ¬¡è®¡ç®—fibonacci(100)åˆ™åªéœ€è¦åœ¨å†…å­˜ä¸­ç›´æŽ¥è¯»å–ç»“æžœã€‚ å‡½æ•°é‡è½½æ‰€è°“å‡½æ•°é‡è½½(method overloading)ï¼Œå°±æ˜¯å‡½æ•°åç§°ä¸€æ ·ï¼Œä½†æ˜¯è¾“å…¥è¾“å‡ºä¸ä¸€æ ·ã€‚æˆ–è€…è¯´ï¼Œå…è®¸æŸä¸ªå‡½æ•°æœ‰å„ç§ä¸åŒè¾“å…¥ï¼Œæ ¹æ®ä¸åŒçš„è¾“å…¥ï¼Œè¿”å›žä¸åŒçš„ç»“æžœã€‚å‡­ç›´è§‰ï¼Œå‡½æ•°é‡è½½å¯ä»¥é€šè¿‡if...elseæˆ–è€…switchå®žçŽ°ï¼Œè¿™å°±ä¸åŽ»ç®¡å®ƒäº†ã€‚jQueryä¹‹çˆ¶ John Resig æå‡ºäº†ä¸€ä¸ªéžå¸¸å·§(bian)å¦™(tai)çš„æ–¹æ³•ï¼Œåˆ©ç”¨äº†é—­åŒ…ã€‚ ä»Žæ•ˆæžœä¸Šæ¥è¯´ï¼Œpeopleå¯¹è±¡çš„findæ–¹æ³•å…è®¸ 3 ç§ä¸åŒçš„è¾“å…¥: 0 ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›žæ‰€æœ‰äººåï¼›1 ä¸ªå‚æ•°æ—¶ï¼Œæ ¹æ®firstNameæŸ¥æ‰¾äººåå¹¶è¿”å›žï¼›2 ä¸ªå‚æ•°æ—¶ï¼Œæ ¹æ®å®Œæ•´çš„åç§°æŸ¥æ‰¾äººåå¹¶è¿”å›žã€‚ éš¾ç‚¹åœ¨äºŽï¼Œpeople.findåªèƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œé‚£å®ƒä¸ºä½•å¯ä»¥å¤„ç† 3 ç§ä¸åŒçš„è¾“å…¥å‘¢ï¼Ÿå®ƒä¸å¯èƒ½åŒæ—¶ç»‘å®š 3 ä¸ªå‡½æ•°find0,find1ä¸Žfind2å•Šï¼è¿™é‡Œçš„å…³é”®åœ¨äºŽoldå±žæ€§ã€‚ ç”±addMethodå‡½æ•°çš„è°ƒç”¨é¡ºåºå¯çŸ¥ï¼Œpeople.findæœ€ç»ˆç»‘å®šçš„æ˜¯find2å‡½æ•°ã€‚ç„¶è€Œï¼Œåœ¨ç»‘å®šfind2æ—¶ï¼Œoldä¸ºfind1ï¼›åŒç†ï¼Œç»‘å®šfind1æ—¶ï¼Œoldä¸ºfind0ã€‚3 ä¸ªå‡½æ•°find0,find1ä¸Žfind2å°±è¿™æ ·é€šè¿‡é—­åŒ…é“¾æŽ¥èµ·æ¥äº†ã€‚ æ ¹æ®addMethodçš„é€»è¾‘ï¼Œå½“f.lengthä¸Žarguments.lengthä¸åŒ¹é…æ—¶ï¼Œå°±ä¼šåŽ»è°ƒç”¨oldï¼Œç›´åˆ°åŒ¹é…ä¸ºæ­¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051function addMethod(object, name, f) &#123; var old = object[name]; object[name] = function() &#123; // f.lengthä¸ºå‡½æ•°å®šä¹‰æ—¶çš„å‚æ•°ä¸ªæ•° // arguments.lengthä¸ºå‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ä¸ªæ•° if (f.length === arguments.length) &#123; return f.apply(this, arguments); &#125; else if (typeof old === "function") &#123; return old.apply(this, arguments); &#125; &#125;;&#125;// ä¸ä¼ å‚æ•°æ—¶ï¼Œè¿”å›žæ‰€æœ‰namefunction find0() &#123; return this.names;&#125;// ä¼ ä¸€ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›žfirstNameåŒ¹é…çš„namefunction find1(firstName) &#123; var result = []; for (var i = 0; i &lt; this.names.length; i++) &#123; if (this.names[i].indexOf(firstName) === 0) &#123; result.push(this.names[i]); &#125; &#125; return result;&#125;// ä¼ ä¸¤ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›žfirstNameå’ŒlastNameéƒ½åŒ¹é…çš„namefunction find2(firstName, lastName) &#123; var result = []; for (var i = 0; i &lt; this.names.length; i++) &#123; if (this.names[i] === firstName + " " + lastName) &#123; result.push(this.names[i]); &#125; &#125; return result;&#125;var people = &#123; names: ["Dean Edwards", "Alex Russell", "Dean Tom"]&#125;;addMethod(people, "find", find0);addMethod(people, "find", find1);addMethod(people, "find", find2);console.log(people.find()); // è¾“å‡º["Dean Edwards", "Alex Russell", "Dean Tom"]console.log(people.find("Dean")); // è¾“å‡º["Dean Edwards", "Dean Tom"]console.log(people.find("Dean", "Edwards")); // è¾“å‡º["Dean Edwards"] ä¼ é€é—¨~]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»å…¸å‰ç«¯é¢è¯•é¢˜(JavaScript)]]></title>
    <url>%2F2017%2F07%2F12%2F%E7%BB%8F%E5%85%B8%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98-JavaScript%2F</url>
    <content type="text"><![CDATA[å†™å‡ºç®€å•æè¿° html æ ‡ç­¾ï¼ˆä¸å¸¦å±žæ€§çš„å¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶å°†ä»¥ä¸‹å­—ç¬¦ä¸²ä¸­çš„ html æ ‡ç­¾åŽ»é™¤æŽ‰123var reg = /(&lt;\w+&gt;)|(&lt;\/\w+&gt;)/gi;var str = "&lt;div&gt;è¿™é‡Œæ˜¯div&lt;p&gt;é‡Œé¢çš„æ®µè½&lt;/p&gt;&lt;/div&gt;";alert(str.replace(reg, "")); ç¼–å†™ä¸€ä¸ªå‡½æ•°,ç”¨äºŽç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦å’Œå…¶å‡ºçŽ°çš„æ¬¡æ•°ï¼Ÿ123456789101112131415161718192021var str = "asdfssaaasasasasaa";function findMaxAppearChar() &#123; var arr = str.split(""); var obj = &#123;&#125;; var maxKey = ""; var maxIndex = 0; for (var i = 0; i &lt; arr.length; i++) &#123; if (obj[arr[i]]) &#123; obj[arr[i]] += 1; &#125; else &#123; obj[arr[i]] = 1; &#125; &#125; for (key in obj) &#123; if (obj[key] &gt; maxIndex) &#123; maxKey = key; maxIndex = obj[key]; &#125; &#125; return "å‡ºçŽ°æœ€å¤šå­—ç¬¦æ˜¯" + maxKey + ",ä¸€å…±å‡ºçŽ°äº†" + maxIndex + "æ¬¡";&#125; é—­åŒ…æ˜¯ä»€ä¹ˆ? æœ‰ä»€ä¹ˆç‰¹æ€§? å¯¹é¡µé¢æœ‰ä»€ä¹ˆå½±å“?(1)é—­åŒ…æ˜¯ä»€ä¹ˆ:é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°.(2)é—­åŒ…æœ‰ä»€ä¹ˆç‰¹æ€§:é€šè¿‡é—­åŒ…,å¯ä»¥æä¾›ç§æœ‰ä½œç”¨åŸŸ.å‡½æ•°æ‰§è¡Œå®ŒåŽ,å†…éƒ¨ä¸ä¼šé‡Šæ”¾é€šè¿‡é—­åŒ…,å¯ä»¥å®žçŽ°å¸¦æœ‰å­˜å‚¨å‡½æ•°è¿è¡Œæ—¶å˜é‡çš„å‡½æ•°.(3)å¯¹é¡µé¢æœ‰ä»€ä¹ˆå½±å“:å¤§é‡ä½¿ç”¨é—­åŒ…ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨ IE ä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚ å†™ä¸€ä¸ª reverseStr å‡½æ•°æ¥å®žçŽ°å­—ç¬¦ä¸²åè½¬ï¼Œå¦‚å°† â€˜12345678â€™ å˜æˆ â€˜87654321â€™1234567var str = "12345678";function reverseStr(str) &#123; return str .split("") .reverse() .join("");&#125; å°†æ•°å­— 12345678 è½¬åŒ–æˆ RMB å½¢å¼ å¦‚ï¼š 12,345,678123456789101112function formatNumberToRMB(number) &#123; var str = number + ""; var arr = str.split("").reverse(); //[8,7,6,5,4,3,2,1] var resultArr = []; for (var i = 0; i &lt; arr.length; i++) &#123; resultArr.push(arr[i]); if ((i + 1) % 3 == 0 &amp;&amp; i + 1 != arr.length) &#123; resultArr.push(","); &#125; &#125; return resultArr.reverse().join("");&#125; è¯·å†™ä¸€ä¸ªé˜»æ­¢å†’æ³¡çš„å…¼å®¹å‡½æ•°12345678function stopPropagation(e) &#123; e = window.event ? window.event : e; if (e.stopPropagation) &#123; e.stopPropagation(); &#125; else &#123; e.cancelBubble = true; &#125;&#125; ç”¨ js å®žçŽ°éšæœºé€‰å– 10â€“100 ä¹‹é—´çš„ 10 ä¸ªæ•°å­—ï¼Œå­˜å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æŽ’åº123456789function getSortedRandomNumber() &#123; var arr = []; for (var i = 0; i &lt; 10; i++) &#123; arr.push(Math.floor(Math.random() * 90) + 10); &#125; return arr.sort(function(a, b) &#123; return a - b; &#125;);&#125; æœ‰è¿™æ ·ä¸€ä¸ª URLï¼šhttp://item.taobao.com/item.htm?a=1&amp;b=2&amp;c=&amp;d=xxx&amp;eï¼Œè¯·å†™ä¸€æ®µ JS ç¨‹åºæå– URL ä¸­çš„å„ä¸ª GET å‚æ•°(å‚æ•°åå’Œå‚æ•°ä¸ªæ•°ä¸ç¡®å®š)ï¼Œå°†å…¶æŒ‰ key-value å½¢å¼è¿”å›žåˆ°ä¸€ä¸ª json ç»“æž„ä¸­ï¼Œå¦‚{â€œaâ€:â€1â€,â€bâ€:â€2â€,â€câ€:â€â€,â€dâ€:â€xxxâ€,â€eâ€:â€undefinedâ€}123456789101112131415function getQueryJson(URLstr) &#123; var queryIndex = URLstr.indexOf("?") + 1; var queryStr = URLstr.slice(queryIndex); //a=1&amp;b=2&amp;c=&amp;d=xxx&amp;e var arr = queryStr.split("&amp;"); //[ a=1, b=2, c=, d=xxx, e ] var obj = &#123;&#125;; var resultArr = []; for (var i = 0; i &lt; arr.length; i++) &#123; var tempArr = arr[i].split("="); obj[tempArr[0]] = tempArr[1]; &#125; for (var key in obj) &#123; resultArr.push('"' + key + '"' + ":" + '"' + obj[key] + '"'); &#125; return "&#123;" + resultArr.join(",") + "&#125;"; //&#123;"a":"1","b":"2","c":"","d":"xxx","e":"undefined"&#125;&#125; å†™ä¸€ä¸ª functionï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åŽçš„ç©ºæ ¼ã€‚ï¼ˆå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼‰12345if (typeof String.prototype.trim !== "function") &#123; String.prototype.trim = function() &#123; return this.replace(/^\s*|\s*$/g, ""); &#125;;&#125; èŽ·å–é¡µé¢æ‰€æœ‰çš„ checkbox12345678var resultArr = [];var input = document.querySelectorAll("input");for (var i = 0; i &lt; input.length; i++) &#123; if (input[i].type == "checkbox") &#123; resultArr.push(input[i]); &#125;&#125;//resultArrå³ä¸­èŽ·å–åˆ°äº†é¡µé¢ä¸­çš„æ‰€æœ‰checkbox å·²çŸ¥æœ‰å­—ç¬¦ä¸² foo=â€get-element-by-idâ€,å†™ä¸€ä¸ª function å°†å…¶è½¬åŒ–æˆé©¼å³°è¡¨ç¤ºæ³•â€getElementByIdâ€123456789101112function getCamelCase(str) &#123; var arr = str.split("-"); var resultArr = []; for (var i = 0; i &lt; arr.length; i++) &#123; if (i === 0) &#123; resultArr.push(arr[i]); &#125; else &#123; resultArr.push(arr[i].charAt(0).toUpperCase() + arr[i].slice(1)); &#125; &#125; return resultArr.join("");&#125; ç§»åŠ¨ç«¯è¾¹æ¡† 1 åƒç´ é—®é¢˜æ–°é¡¹ç›®ä¸­ -&gt; viewport + rem å®žçŽ° åŒæ—¶é€šè¿‡è®¾ç½®å¯¹åº” viewport çš„ rem åŸºå‡†å€¼ï¼Œè¿™ç§æ–¹å¼å°±å¯ä»¥åƒä»¥å‰ä¸€æ ·è½»æ¾æ„‰å¿«çš„å†™ 1px äº†ã€‚åœ¨ devicePixelRatio = 2 æ—¶ï¼Œè¾“å‡º viewportï¼š 1234&lt;meta name="viewport" content="initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no"/&gt; åœ¨ devicePixelRatio = 3 æ—¶ï¼Œè¾“å‡º viewportï¼š 1234&lt;meta name="viewport" content="initial-scale=0.333333333, maximum-scale=0.333333333, minimum-scale=0.333333333, user-scalable=no"/&gt; åœ¨æ—§é¡¹ç›®ä¸­ -&gt; ä¼ªç±» + transform å®žçŽ° åŽŸç†æ˜¯æŠŠåŽŸå…ˆå…ƒç´ çš„ border åŽ»æŽ‰ï¼Œç„¶åŽåˆ©ç”¨ :before æˆ–è€… :after é‡åš border ï¼Œå¹¶ transform çš„ scale ç¼©å°ä¸€åŠï¼ŒåŽŸå…ˆçš„å…ƒç´ ç›¸å¯¹å®šä½ï¼Œæ–°åšçš„ border ç»å¯¹å®šä½ã€‚å•æ¡ border æ ·å¼è®¾ç½®ï¼š 12345678910111213141516.scale-1px &#123; position: relative; border: none;&#125;.scale-1px:after &#123; content: ""; position: absolute; bottom: 0; background: #000; width: 100%; height: 1px; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); -webkit-transform-origin: 0 0; transform-origin: 0 0;&#125; å››æ¡ boder æ ·å¼è®¾ç½®: 1234567891011121314151617181920.scale-1px &#123; position: relative; margin-bottom: 20px; border: none;&#125;.scale-1px:after &#123; content: ""; position: absolute; top: 0; left: 0; border: 1px solid #000; -webkit-box-sizing: border-box; box-sizing: border-box; width: 200%; height: 200%; -webkit-transform: scale(0.5); transform: scale(0.5); -webkit-transform-origin: left top; transform-origin: left top;&#125; æœ€å¥½åœ¨ä½¿ç”¨å‰ä¹Ÿåˆ¤æ–­ä¸€ä¸‹ï¼Œç»“åˆ JS ä»£ç ï¼Œåˆ¤æ–­æ˜¯å¦ Retina å±ï¼š 123if (window.devicePixelRatio &amp;&amp; devicePixelRatio &gt;= 2) &#123; document.querySelector("ul").className = "scale-1px";&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¦ä½ èµ°è¿›Gulp]]></title>
    <url>%2F2017%2F07%2F11%2F%E5%B8%A6%E4%BD%A0%E8%B5%B0%E8%BF%9BGulp%2F</url>
    <content type="text"><![CDATA[Gulpæ˜¯ä¸€æ¬¾å‰ç«¯è‡ªåŠ¨åŒ–æž„å»ºå·¥å…·ã€‚é€šä¿—çš„æ¥è¯´ï¼Œå°±æ˜¯ä½ æœ¬æ¥éœ€è¦å¾ˆå¤šæ¡æŒ‡ä»¤æ‰å¯ä»¥å®Œæˆçš„äº‹æƒ…ï¼Œé€šè¿‡Gulpä½ å¯èƒ½åªéœ€è¦ä¸€æ¡æŒ‡ä»¤ã€‚ Gulp æ˜¯ä»€ä¹ˆé¬¼é¦–å…ˆï¼Œæˆ‘å¾ˆç¡®å®šå®ƒä¸æ˜¯é¬¼ã€‚å¯¹äºŽä¹‹å‰æŽ¥è§¦è¿‡Webpackçš„äººæ¥è¯´ï¼Œå¾ˆå¤§çš„ä¸€ä¸ªç–‘æƒ‘å¯èƒ½å°±æ˜¯ï¼šè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå› ä¸ºWebpackå‡ ä¹Žèƒ½åšå…¨éƒ¨æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…ï¼ŒGulpå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘åªèƒ½è¯´ï¼šå­˜åœ¨å³åˆç†ã€‚Gulpè²Œä¼¼æ˜¯ä¸€æ¬¾å–ä»£Gruntçš„å·¥å…·ï¼Œæˆ‘æ²¡æœ‰åŽ»äº†è§£è¿‡Gruntï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æ—¶é—´ï¼Œè€Œä¸”å¥½åƒä¹Ÿä¸æ˜¯å¾ˆæœ‰å¿…è¦ã€‚Gulpçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è‡ªåŠ¨åŒ–ä»»åŠ¡æµç¨‹ï¼Œç®€åŒ–æ“ä½œã€‚æ¯”å¦‚ä½ éœ€è¦åšæ‰“åŒ…ã€ç¼–è¯‘ã€åŽ‹ç¼©ã€åˆå¹¶ç­‰ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„äº‹æƒ…ï¼Œä¸ç”¨Gulpï¼Œä½ å¯èƒ½éœ€è¦ä¸€æ­¥ä¸€æ­¥çš„â€œè‡ªå·±â€æ¥ï¼Œè€Œæœ‰äº†Gulpï¼Œä½ é¢„å…ˆå°†è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„äº‹æƒ…å®šä¹‰å¥½äº¤ç»™Gulpï¼Œç„¶åŽåœ¨ç‰¹å®šæ—¶åˆ»ï¼ŒGulpè‡ªåŠ¨å°†è¿™äº›äº‹æƒ…å…¨éƒ½åšäº†ã€‚è€ŒWebpackçš„æ ¸å¿ƒåŠŸèƒ½åº”è¯¥æ˜¯é›†ä¸­åœ¨æ¨¡å—ç®¡ç†ä¸Šï¼Œä¸è¿‡å®ƒåŒæ ·å¯ä»¥é€šè¿‡å„ç§æ’ä»¶ï¼Œåšå¾ˆå¤šäº‹æƒ…ã€‚è¿‡äºŽçº ç»“è¿™ä¸¤è€…çš„åŒºåˆ«ä¹Ÿæ²¡ä»€ä¹ˆå¿…è¦ã€‚Gulpç®€å•ï¼Œå­¦èµ·æ¥ä¹Ÿå°±ä¸€ä¸¤å¤©çš„äº‹ã€‚Webpackç›¸å¯¹è¦å¤æ‚å¾ˆå¤šï¼Œè€Œä¸”å¯¹äºŽæ–°æ‰‹ä¹Ÿæœ‰å¾ˆå¤šå‘ï¼Œä½†ä¸å¯å¿½ç•¥å®ƒç¡®å®žå¾ˆå¼ºå¤§ã€‚è¿™é‡Œçš„å»ºè®®æ˜¯ï¼Œéƒ½å­¦ä¸€ä¸‹ï¼Œæ¯•ç«Ÿè¿™æ˜¯çŽ°åœ¨æœ€ç«çš„ä¸¤æ¬¾å¼€å‘å·¥å…·ã€‚ å¾ˆé‡è¦çš„å‡ ä¸ªæ¦‚å¿µGulpä¸ç®—å¤æ‚ï¼ŒåŽ»å®˜ç½‘ä¹Ÿå°±é‚£ä¹ˆä¸€ä¸ç‚¹å„¿çš„ä»‹ç»ï¼Œæ‰€ä»¥å­¦ä¹ ä¹‹å‰æœ‰å¿…è¦å…ˆçŸ¥é“ä¸€äº›æ¦‚å¿µã€‚ é…ç½®æ–‡ä»¶ï¼ˆgulpfile.jsï¼‰Gulpæ—¢ç„¶æ˜¯ä¸€æ¬¾å·¥å…·ï¼Œå°±å¾—åšä¸€äº›äº‹æƒ…ï¼Œå…·ä½“è¦åšäº›ä»€ä¹ˆï¼Œè¿˜å¾—ç”±æˆ‘ä»¬æ¥æŒ‡å®šã€‚åœ¨å“ªé‡ŒæŒ‡å®šï¼Œå°±æ˜¯åœ¨å®ƒçš„é…ç½®æ–‡ä»¶gulpfile.jsä¸­ï¼Œè¯¥æ–‡ä»¶ä½äºŽé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚ä»¥åŽæ‰€æœ‰Gulpç›¸å…³çš„é…ç½®è¯­å¥éƒ½æ˜¯å†™åœ¨gulpfile.jsæ–‡ä»¶ä¸­ã€‚ ä»»åŠ¡ï¼ˆTaskï¼‰GulpæŠŠéœ€è¦åšçš„ä¸€äº›äº‹æƒ…å®šä¹‰æˆä¸€ä¸ªä¸ªçš„ä»»åŠ¡ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œç„¶åŽé€šè¿‡å‘½ä»¤è°ƒç”¨è¿™ä¸ªä»»åŠ¡çš„åå­—ï¼Œå°±å¯ä»¥æ‰§è¡Œè¯¥ä»»åŠ¡å¯¹åº”çš„ä»£ç ã€‚å¦‚ä¸‹ï¼š 12345678910111213// gulpfile.js æ–‡ä»¶ä¸­var gulp = require("gulp");// style ä»»åŠ¡gulp.task("style", function() &#123; // ä¸€äº›è¦åšçš„äº‹æƒ…&#125;);// build ä»»åŠ¡gulp.task("build", function() &#123; // è¦åšçš„äº‹æƒ…&#125;); æ’ä»¶å‰é¢å®šä¹‰çš„éƒ½æ˜¯ä¸€äº›ç©ºä»»åŠ¡ï¼Œå•¥ä¹Ÿä¸ä¼šåšã€‚å› ä¸ºGulpæœ¬èº«ä¸ä¼šåšä»»ä½•â€œäº‹æƒ…â€ï¼Œå®ƒåªè´Ÿè´£æŠŠé‚£äº›è¦åšçš„äº‹æƒ…å‡†å¤‡ï¼ˆåˆ†ç±»ã€ä¸²è”ï¼‰å¥½ã€‚å…·ä½“è°æ¥åšï¼Œé‚£å°±æ˜¯æ’ä»¶ã€‚ Gulpæœ‰å¾ˆå¤šæ’ä»¶ï¼Œå‡ ä¹Žèƒ½æ»¡è¶³ä½ çš„å„ç§éœ€æ±‚ã€‚æˆ‘æƒ³å¯¹äºŽåˆå­¦è€…æ¥è¯´æœ‰ä¸ªç–‘é—®ï¼šæˆ‘æ€Žä¹ˆçŸ¥é“æˆ‘éœ€è¦çš„æ’ä»¶å«ä»€ä¹ˆï¼Ÿé‚£ä¹ˆï¼Œæˆ‘åœ¨è¿™é‡Œå…ˆåˆ—å‡ºä¸€äº›æ’ä»¶ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“è¿™äº›æ˜¯ä¸æ˜¯å¸¸ç”¨çš„æ’ä»¶ï¼Œä¸è¿‡çœ‹èµ·æ¥å¥½åƒæ¯”è¾ƒå¸¸ç”¨ã€‚*gulp-connectï¼šå¯ä»¥è·‘ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œè²Œä¼¼çŽ°åœ¨åº”è¯¥ä¸ä¼šæœ‰äººç›´æŽ¥å°† index.html æ‹–åˆ°æµè§ˆå™¨æ¥è°ƒè¯•å§ï¼› gulp-concatï¼šçœ‹æ¸…äº†ï¼Œè¿™æ˜¯ concatï¼Œç”¨æ¥åˆå¹¶æ–‡ä»¶çš„ï¼› gulp-cleanï¼šåˆ é™¤æ–‡ä»¶ç”¨çš„ï¼› gulp-renameï¼šé‡å‘½åæ–‡ä»¶ï¼› gulp-minify-htmlï¼šåŽ‹ç¼© html ç”¨çš„ï¼› gulp-injectï¼šå¯ä»¥å°† css æ ·å¼å’Œ js è„šæœ¬æ–‡ä»¶æ’å…¥åˆ° html æ–‡ä»¶ä¸­ï¼› gulp-minify-cssï¼šåŽ‹ç¼© cssï¼› gulp-uglifyï¼šåŽ‹ç¼© jsï¼› gulp-imageminï¼šåŽ‹ç¼©å›¾ç‰‡ï¼› gulp-postcssï¼šè‡ªåŠ¨æ·»åŠ  css ä¸­çš„å‰ç¼€ï¼Œå¾ˆå®žç”¨çš„å®¶ä¼™ã€‚ å°±è¿™äº›å§ï¼Œçœ‹æ¸…æ¥šé•¿å•¥æ ·å°±å¥½äº†ã€‚æ­£å¦‚ä½ çœ‹åˆ°çš„é‚£æ ·ï¼ŒGulpæ‰€æœ‰çš„æ’ä»¶éƒ½æ˜¯ä»¥gulp-å¼€å¤´ã€‚å¯¹äºŽé‚£äº›æœ‰ç‚¹ç»éªŒçš„äººæ¥è¯´ï¼Œè¦ä»€ä¹ˆæ’ä»¶å¯èƒ½ä¸€èˆ¬éƒ½æ˜¯ç›´æŽ¥åŽ»npmæˆ–githubä¸Šæœç´¢ã€‚å¯¹äºŽä¸çŸ¥é“æ€Žä¹ˆæœçš„ï¼ˆä¸€èˆ¬éƒ½æ˜¯ä¸çŸ¥é“å…³é”®è¯ï¼‰ï¼Œå°±è€è€å®žå®žç™¾åº¦å§ã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯å°±æ˜¯å¹³æ—¶å¤šè®°å½•å’Œæ€»ç»“ï¼Œå› ä¸ºå¾ˆå¤šæ’ä»¶åœ¨ä¸åŒçš„å·¥å…·å’Œå¹³å°ä¸­ï¼Œå«æ³•åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚å¦å¤–ï¼Œè¿™é‡Œè¿˜ç»™ä¸€ä¸ªå®˜æ–¹æ”¶å½•çš„æ’ä»¶åˆ—è¡¨ã€‚ å…·ä½“ä½¿ç”¨æ–¹æ³•Gulpçš„å®‰è£…å°±ä¸è¯´äº†ï¼Œéœ€è¦çš„ç›´æŽ¥çœ‹çœ‹è¿™é‡Œã€‚å…ˆä¸¾ä¸€ä¸ªæ —å­ï¼ˆçŽ©çŽ©ï¼‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// å¼•å…¥gulpï¼Œæ— éœ€è§£é‡Švar gulp = require('gulp');// å¼•å…¥æ’ä»¶var connect = require('gulp-connect')ï¼Œ sass = require('gulp-sass')ï¼Œ uglify = require('gulp-uglify');// å®šä¹‰ä»»åŠ¡gulp.task('server', function () &#123; // ä½¿ç”¨ connect æ’ä»¶åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ connect.server(&#123; // è¿™é‡Œæ˜¯ä¼ å…¥çš„ä¸€äº›é…ç½®é¡¹ root: 'dist', livereload: true &#125;)&#125;);gulp.task('style', function () &#123; // åŒ¹é…èµ„æºæ–‡ä»¶ gulp.src('./src/**/*.scss') // å¯¹åŒ¹é…åˆ°çš„ æ–‡ä»¶ ä¼ åˆ°ä¸€ä¸ªæ’ä»¶ä¸­ .pipe(sass(&#123; // ç”¨sassæ’ä»¶å¤„ç† åŒ¹é…åˆ°çš„æ–‡ä»¶ // æ’ä»¶çš„é…ç½®é¡¹ outputStyle: 'compressed' // æ’ä»¶çš„åŠŸèƒ½ æ‰“å°é”™è¯¯ä¿¡æ¯ &#125;).on('error', sass.logError)) // ä¸²è” å°†sasså¤„ç†åŽçš„æ–‡ä»¶ ä¼ é€åˆ°ä¸‹ä¸€ä¸ªæ’ä»¶ä¸­ // å°†æ–‡ä»¶ è¾“å‡ºåˆ°æŒ‡å®šç›®å½•ä¸‹ .pipe(gulp.dest('dist')) // é‡æ–°åŠ è½½ æœåŠ¡å™¨ .pipe(connect.reload());&#125;);gulp.task('script', function () &#123; gulp.src('./src/**/*.js') .pipe(uglify()) .pipe(gulp.dest('dist')) .pipe(connect.reload());&#125;);// é»˜è®¤ä»»åŠ¡ è¦ç­‰åˆ°æ•°ç»„ä¸­çš„ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åŽ æ‰æ‰§è¡Œgulp.task('default', ['style', 'script', 'server'], function () &#123; // ç›‘å¬ åŒ¹é…åˆ°çš„æ–‡ä»¶æ˜¯å¦æ”¹å˜ // ä¸€æ—¦å˜åŒ–å°±æ‰§è¡Œ æ•°ç»„ ä¸­çš„ä»»åŠ¡ gulp.watch('./src/js/*.js', ['script']); gulp.watch('./src/css/*.scss', ['style']);&#125;); Gulpçš„åŸºæœ¬ä½¿ç”¨å¤§æ¦‚å°±è¿™äº›ï¼Œgulpfile.jsæ–‡ä»¶å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚å¯¹äºŽè¯¥é…ç½®æ–‡ä»¶ï¼Œå‘½ä»¤è¡Œåªéœ€æ‰§è¡Œä¸€æ¡è¯­å¥ï¼š 1gulp æ²¡é”™ï¼Œå°±è¿™æ ·ï¼è¯¥æŒ‡ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œé»˜è®¤çš„ä»»åŠ¡ã€‚å¦‚æžœè¦æŒ‡å®šå…·ä½“çš„ä»»åŠ¡ï¼ŒåŽé¢ç›´æŽ¥è·Ÿä¸Šä»»åŠ¡åå³å¯ï¼Œæ¯”å¦‚ï¼š 1gulp server å¦‚ä½•ä½¿ç”¨æ’ä»¶ä¸€èˆ¬å…¸åž‹çš„ç”¨æ³•å°±æ˜¯ç›´æŽ¥å°†æ’ä»¶ä¼ å…¥.pipeå‡½æ•°ä¸­ï¼Œæ’ä»¶çš„é…ç½®é¡¹é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä¼ å…¥æ’ä»¶ä¸­ï¼š 1.pipe(uglify()) ä¸€èˆ¬è‹¥æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå¯ä»¥çœç•¥é…ç½®é¡¹ã€‚gulp.src()å’Œ.pipe()éƒ½ä¼šè¿”å›žä¸€ä¸ªå«Vinyl filesçš„streamï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼‰ï¼Œæ‰€ä»¥è¿™äº›æ–¹æ³•æ˜¯å¯ä»¥ä¸²è”èµ·æ¥çš„ã€‚ è°ˆå‡ ä¸ª APIè¿™é‡Œåˆ—å‡ºä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„ API æŽ¥å£ï¼Œè¯¦ç»†ç”¨æ³•è¯·å‚é˜…å®˜æ–¹æ–‡æ¡£ gulp.srcï¼šåŒ¹é…æ–‡ä»¶ç”¨çš„ï¼› gulp.destï¼šè¾“å‡ºæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ï¼› gulp.taskï¼šå®šä¹‰ä¸€ä¸ªä»»åŠ¡ï¼› gulp.watchï¼šç›‘å¬æ–‡ä»¶ï¼Œæ”¹åŠ¨è§¦å‘ã€‚ å¥½åƒå°±è¿™å››ä¸ªï¼Ÿæˆ‘ä¹Ÿæ˜¯åˆšå‘çŽ°ï¼Œè¿˜è¯´åˆ—å‡ ä¸ªå¸¸ç”¨çš„ã€‚æ‰€ä»¥å­¦èµ·æ¥è¿˜æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä¸è¿‡è¦å…¨éƒ¨å­¦é€šï¼Œå¯èƒ½ä¹Ÿè¦èŠ±ä¸€ç‚¹æ—¶é—´ã€‚åæ­£æˆ‘æ˜¯æ²¡æœ‰è®¤çœŸæŠŠå®˜ç½‘çš„æ–‡æ¡£çœ‹å®Œï¼Œå°½ç®¡å®ƒä¸€ç‚¹ä¹Ÿä¸é•¿ã€‚æˆ‘çš„æƒ³æ³•æ˜¯ï¼ŒæŽŒæ¡åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•å’Œæ€æƒ³ï¼Œæœ‰å®žé™…éœ€æ±‚çš„æ—¶å€™å†åŽ»å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ï¼ˆå…³é”®æ˜¯æˆ‘çŽ°åœ¨æ²¡è¿™åé¢çš„éœ€æ±‚å•Šï¼‰ æ–‡ä»¶åŒ¹é…åŽŸåˆ™å¥½åƒè¿™å®¶ä¼™ä¸æ˜¯æŒ‰ç…§å¸¸è§„çš„æ­£åˆ™åŽ»åŒ¹é…çš„ï¼Œå®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ªå‚è€ƒï¼Œæœ‰å…´è¶£çš„è‡ªå·±çœ‹çœ‹ï¼Œåæ­£æˆ‘æ²¡çœ‹ã€‚ç›´æŽ¥ä¸¾å‡ ä¸ªæ —å­å§ï¼š *ï¼šèƒ½åŒ¹é…abc.jsï¼Œa.cssï¼Œä¸èƒ½åŒ¹é…a/bc.jsï¼› **ï¼šèƒ½åŒ¹é…a.jsï¼Œa/b/cd/d.cssï¼› *.*ï¼šèƒ½åŒ¹é…aaa.jsï¼Œb.cssï¼› a/**/*.jsï¼šèƒ½åŒ¹é…a/b/c/d/ef.jsï¼Œa/b/c.jsã€‚ è¿˜è¦è¯´æ˜Žä¸€ç‚¹ï¼Œè¯­å¥gulp.dest(&#39;dist&#39;)ä¸­çš„distè¡¨ç¤ºåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆdistç›®å½•ã€‚è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„æ˜¯*å·åŒ¹é…åˆ°çš„æ–‡ä»¶åï¼ˆæœªè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼‰ï¼Œä¸Šé¢ä¾‹å­ä¸­è¾“å‡ºçš„ç›®å½•ç»“æž„æ˜¯è¿™æ ·çš„ï¼š 12345678910111213// å‡è®¾åŽŸæ–‡ä»¶è·¯å¾„- src - css - a.scss - js - b.js// è¾“å‡ºçš„æ–‡ä»¶è·¯å¾„- dist - css - a.css - js - b.js é»˜è®¤æƒ…å†µä¸‹ï¼Œdiståªä¼šæ›¿æ¢*å·ä¹‹å‰çš„è·¯å¾„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ï¼Œå…·ä½“è‡ªè¡Œå‚é˜…å®˜æ–¹æ–‡æ¡£ ä¼ é€é—¨]]></content>
      <categories>
        <category>gulp</category>
      </categories>
      <tags>
        <tag>gulp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰“å°æ ·å¼CSSçš„æŠ€å·§å’Œè¦ç‚¹]]></title>
    <url>%2F2017%2F07%2F09%2F%E6%89%93%E5%8D%B0%E6%A0%B7%E5%BC%8FCSS%E7%9A%84%E6%8A%80%E5%B7%A7%E5%92%8C%E8%A6%81%E7%82%B9%2F</url>
    <content type="text"><![CDATA[ä¸ç»è¿‡ä»»ä½•å¤„ç†è€Œç›´æŽ¥æ‰“å°ç½‘ç«™ä¸Šçš„é¡µé¢ä¼šå¾—åˆ°ä¸€ä¸ªä¸ç†æƒ³çš„æ•ˆæžœã€‚ æˆ‘ä»¬ WEB å¼€å‘äººå‘˜å¯ä»¥ç®€å•é‡‡ç”¨å‡ ä¸ªè¦ç‚¹æ¥ä½¿ä¹‹è¾¾åˆ°è¾ƒä¸ºåˆé€‚çš„æ•ˆæžœï¼š ä½¿ç”¨å“åº”å¼å¸ƒå±€è®¾ç½®æ‰“å°çš„æ•ˆæžœ åœ¨åˆé€‚çš„æ—¶å€™æ‰“å°èƒŒæ™¯å›¾ç‰‡å’Œé¢œè‰² æ·»åŠ æ˜¾ç¤ºçš„ç½‘å€æˆ–é¡µé¢é“¾æŽ¥ï¼Œä»¥ä¾›å‚è€ƒ ä½¿ç”¨ css filter æé«˜æ‰“å°çš„å›¾å½¢æ•ˆæžœ é’ˆå¯¹æ‰“å°çš„æ ·å¼ï¼Œè€Œä¸æ˜¯å±å¹•æ˜¾ç¤ºæ ·å¼é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼ˆmedia queryï¼‰é’ˆå¯¹æ‰“å°æ ·å¼è®¾ç½®ã€‚ 123@media print &#123; // write some styles&#125; é‡æ–°é’ˆå¯¹æ‰“å°å†™ CSS æ ·å¼æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œæˆ‘ä»¬åªéœ€è¦é’ˆå¯¹å·®å¼‚è®¾ç½®æ‰“å°çš„æ ·å¼è¦†ç›–æŽ‰ä¹‹å‰çš„é»˜è®¤æ ·å¼ã€‚ å¤§å¤šæ•°çš„æµè§ˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®æ‰“å°æ›´æ”¹é¢œè‰²ï¼Œä»¥èŠ‚çœæ‰“å°åŽŸæ–™ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å°½å¯èƒ½çš„æ‰‹å·¥è®¾ç½®ä¸€ä¸‹ã€‚ ä¸ºäº†è¾¾åˆ°æœ€ä½³æ•ˆæžœï¼Œä½¿é¢œè‰²æ¸…æ™°æ˜Žäº†ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦åŒ…å«ä¸€ä¸‹åŸºæœ¬çš„æ‰“å°æ ·å¼ã€‚ 123456@media print &#123; body &#123; color: #000; background: #fff; &#125;&#125; å¯¹äºŽæ‰“å°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬ä¸éœ€è¦æ‰“å°æ•´ä¸ªé¡µé¢ï¼Œåªéœ€è¦æ‰“å°ä¸€ä¸ªç®€æ´çš„èƒ½å¤Ÿçªå‡ºéœ€è¦ä¿¡æ¯çš„é¡µé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¸ç›¸å…³çš„éƒ¨åˆ†éšè—æŽ‰ï¼ˆå¦‚ï¼šå¯¼èˆªæ¡ã€èƒŒæ™¯å›¾ç‰‡ï¼‰ã€‚ 123456789101112131415161718/* Default styles */h1 &#123; color: #fff; background: url(banner.jpg);&#125;@media print &#123; h1 &#123; color: #000; background: none; &#125; nav, aside &#123; display: none; &#125;&#125; åœ¨ç¼–å†™æ‰“å°æ ·å¼è¡¨çš„æ—¶å€™ï¼Œä½ è¦æ³¨æ„è¦ä½¿ç”¨åŽ˜ç±³(cm),è‹±å¯¸(inch)æˆ–è€…ç£…(pt)ä½œä¸ºå•ä½è€Œä¸æ˜¯å±å¹•åƒç´ å•ä½ï¼Œå®žé™…çš„å•ä½å¯¹æ‰“å°éžå¸¸æœ‰ç”¨ã€‚ ä¸ºäº†ä¿è¯æ‰“å°æ ·å¼æœ‰ç”¨ï¼Œå†™ CSS æ ·å¼ä½¿æ‰“å°çš„å†…å®¹è·ç¦»çº¸å¼ è¾¹ç¼˜ï¼Œçœ‹èµ·æ¥æ›´å¥½ï¼Œéœ€è¦ä½¿ç”¨ @page è¿™ä¸ªè¯­æ³•ï¼š 12345678910111213141516171819202122@media print &#123; h1 &#123; color: #000; background: none; &#125; nav, aside &#123; display: none; &#125; body, article &#123; width: 100%; margin: 0; padding: 0; &#125; @page &#123; margin: 2cm; &#125;&#125; ä¸ºäº†ä¿è¯ä¸è¢«è·¨é¡µæ‰“å°ï¼Œå¦‚ä¸€ä¸ªæ ‡é¢˜å’Œå†…å®¹åœ¨é¡µé¢åº•éƒ¨è¢«åˆ†å¼€ï¼š 1234h2,h3 &#123; page-break-after: avoid;&#125; å¦ä¸€ç§æƒ…å†µæ˜¯è¦é˜²æ­¢å›¾ç‰‡è¿‡å®½è€Œè¶…å‡ºçº¸å¼ è¾¹ç¼˜ï¼š 123img &#123; max-width: 100% !important;&#125; ç¬¬ä¸‰ä¸ªè¦ç‚¹æ˜¯ç¡®ä¿ articles æ–‡ç« æ ‡ç­¾çš„å†…å®¹ï¼Œåœ¨æ–°çš„ä¸€é¡µå¼€å§‹ï¼š 123article &#123; page-break-before: always;&#125; æœ€åŽï¼Œè¿˜è¦æ³¨æ„åˆ—è¡¨å’Œå›¾ç‰‡ä¸è¢«åˆ†å¼€åœ¨ä¸åŒçš„é¡µï¼š 1234ul,img &#123; page-break-inside: avoid;&#125; èƒŒæ™¯å›¾ç‰‡å’Œé¢œè‰²å¯¹äºŽä¸€äº›ç½‘ç«™ï¼Œé¢œè‰²å’ŒèƒŒæ™¯å›¾è¿˜æ˜¯éžå¸¸å¿…è¦éœ€è¦éµå¾ªçš„ã€‚å¦‚æžœç”¨æˆ·æ˜¯åœ¨ webkit å†…æ ¸æµè§ˆå™¨ä¸Šæ‰“å°çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å¼ºåˆ¶æ‰“å°æœºæ‰“å°å±å¹•ä¸Šæ‰€çœ‹åˆ°çš„é¢œè‰²ï¼ˆå³å¼ºåˆ¶åœ¨æ‰“å°é¡µé¢ä¸Šå‡ºçŽ°ä»»ä½•çš„èƒŒæ™¯å›¾å’Œé¢œè‰²ï¼‰ï¼Œä¸€èˆ¬æ¥è¯´å½©è‰²æ‰“å°æœºå¯ä»¥åšåˆ°è¿™ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå•ç‹¬çš„åª’ä½“æŸ¥è¯¢ï¼š 123456@media print and (color) &#123; * &#123; -webkit-print-color-adjust: exact; print-color-adjust: exact; &#125;&#125; é—æ†¾çš„æ˜¯ï¼Œè¿™ä¸èƒ½é©¬ä¸Šåº”ç”¨äºŽ firefox opera å’Œ IE. ä¼ é€é—¨~]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©ä½ è±ç„¶å¼€æœ—çš„AJAXå’ŒJSONP]]></title>
    <url>%2F2017%2F07%2F07%2F%E8%AE%A9%E4%BD%A0%E8%B1%81%E7%84%B6%E5%BC%80%E6%9C%97%E7%9A%84AJAX%E5%92%8CJSONP%2F</url>
    <content type="text"><![CDATA[å…ˆè¯´è¯´ JSONP æ˜¯æ€Žä¹ˆäº§ç”Ÿçš„ï¼š1ã€ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„é—®é¢˜ï¼ŒAjaxç›´æŽ¥è¯·æ±‚æ™®é€šæ–‡ä»¶å­˜åœ¨è·¨åŸŸæ— æƒé™è®¿é—®çš„é—®é¢˜ï¼Œç”­ç®¡ä½ æ˜¯é™æ€é¡µé¢ã€åŠ¨æ€ç½‘é¡µã€webæœåŠ¡ã€WCFï¼Œåªè¦æ˜¯è·¨åŸŸè¯·æ±‚ï¼Œä¸€å¾‹ä¸å‡†ï¼› 2ã€ä¸è¿‡æˆ‘ä»¬åˆå‘çŽ°ï¼ŒWeb é¡µé¢ä¸Šè°ƒç”¨ js æ–‡ä»¶æ—¶åˆ™ä¸å—æ˜¯å¦è·¨åŸŸçš„å½±å“ï¼ˆä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜å‘çŽ°å‡¡æ˜¯æ‹¥æœ‰ src è¿™ä¸ªå±žæ€§çš„æ ‡ç­¾éƒ½æ‹¥æœ‰è·¨åŸŸçš„èƒ½åŠ›ï¼Œæ¯”å¦‚&lt;script&gt;ã€&lt;img&gt;ã€&lt;iframe&gt;ï¼‰ï¼› 3ã€äºŽæ˜¯å¯ä»¥åˆ¤æ–­ï¼Œå½“å‰é˜¶æ®µå¦‚æžœæƒ³é€šè¿‡çº¯webç«¯ï¼ˆActiveXæŽ§ä»¶ã€æœåŠ¡ç«¯ä»£ç†ã€å±žäºŽæœªæ¥çš„HTML5ä¹‹Websocketç­‰æ–¹å¼ä¸ç®—ï¼‰è·¨åŸŸè®¿é—®æ•°æ®å°±åªæœ‰ä¸€ç§å¯èƒ½ï¼Œé‚£å°±æ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè®¾æ³•æŠŠæ•°æ®è£…è¿› js æ ¼å¼çš„æ–‡ä»¶é‡Œï¼Œä¾›å®¢æˆ·ç«¯è°ƒç”¨å’Œè¿›ä¸€æ­¥å¤„ç†ï¼› 4ã€æ°å·§æˆ‘ä»¬å·²ç»çŸ¥é“æœ‰ä¸€ç§å«åšJSONçš„çº¯å­—ç¬¦æ•°æ®æ ¼å¼å¯ä»¥ç®€æ´çš„æè¿°å¤æ‚æ•°æ®ï¼Œæ›´å¦™çš„æ˜¯JSONè¿˜è¢«jsåŽŸç”Ÿæ”¯æŒï¼Œæ‰€ä»¥åœ¨å®¢æˆ·ç«¯å‡ ä¹Žå¯ä»¥éšå¿ƒæ‰€æ¬²çš„å¤„ç†è¿™ç§æ ¼å¼çš„æ•°æ®ï¼› 5ã€è¿™æ ·å­è§£å†³æ–¹æ¡ˆå°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼Œwebå®¢æˆ·ç«¯é€šè¿‡ä¸Žè°ƒç”¨è„šæœ¬ä¸€æ¨¡ä¸€æ ·çš„æ–¹å¼ï¼Œæ¥è°ƒç”¨è·¨åŸŸæœåŠ¡å™¨ä¸ŠåŠ¨æ€ç”Ÿæˆçš„jsæ ¼å¼æ–‡ä»¶ï¼ˆä¸€èˆ¬ä»¥JSONä¸ºåŽç¼€ï¼‰ï¼Œæ˜¾è€Œæ˜“è§ï¼ŒæœåŠ¡å™¨ä¹‹æ‰€ä»¥è¦åŠ¨æ€ç”ŸæˆJSONæ–‡ä»¶ï¼Œç›®çš„å°±åœ¨äºŽæŠŠå®¢æˆ·ç«¯éœ€è¦çš„æ•°æ®è£…å…¥è¿›åŽ»ã€‚ 6ã€å®¢æˆ·ç«¯åœ¨å¯¹JSONæ–‡ä»¶è°ƒç”¨æˆåŠŸä¹‹åŽï¼Œä¹Ÿå°±èŽ·å¾—äº†è‡ªå·±æ‰€éœ€çš„æ•°æ®ï¼Œå‰©ä¸‹çš„å°±æ˜¯æŒ‰ç…§è‡ªå·±éœ€æ±‚è¿›è¡Œå¤„ç†å’Œå±•çŽ°äº†ï¼Œè¿™ç§èŽ·å–è¿œç¨‹æ•°æ®çš„æ–¹å¼çœ‹èµ·æ¥éžå¸¸åƒAJAXï¼Œä½†å…¶å®žå¹¶ä¸ä¸€æ ·ã€‚ 7ã€ä¸ºäº†ä¾¿äºŽå®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®ï¼Œé€æ¸å½¢æˆäº†ä¸€ç§éžæ­£å¼ä¼ è¾“åè®®ï¼Œäººä»¬æŠŠå®ƒç§°ä½œJSONPï¼Œè¯¥åè®®çš„ä¸€ä¸ªè¦ç‚¹å°±æ˜¯å…è®¸ç”¨æˆ·ä¼ é€’ä¸€ä¸ªcallbackå‚æ•°ç»™æœåŠ¡ç«¯ï¼Œç„¶åŽæœåŠ¡ç«¯è¿”å›žæ•°æ®æ—¶ä¼šå°†è¿™ä¸ªcallbackå‚æ•°ä½œä¸ºå‡½æ•°åæ¥åŒ…è£¹ä½JSONæ•°æ®ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥éšæ„å®šåˆ¶è‡ªå·±çš„å‡½æ•°æ¥è‡ªåŠ¨å¤„ç†è¿”å›žæ•°æ®äº†ã€‚ JSONP çš„å®¢æˆ·ç«¯å…·ä½“å®žçŽ°ï¼š1.æˆ‘ä»¬çŸ¥é“ï¼Œå“ªæ€•è·¨åŸŸjsæ–‡ä»¶ä¸­çš„ä»£ç ï¼ˆå½“ç„¶æŒ‡ç¬¦åˆwebè„šæœ¬å®‰å…¨ç­–ç•¥çš„ï¼‰ï¼Œwebé¡µé¢ä¹Ÿæ˜¯å¯ä»¥æ— æ¡ä»¶æ‰§è¡Œçš„ã€‚å‡è®¾è¿œç¨‹æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªremote.jsæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è°ƒç”¨ï¼š 12//remote.jsalert("æˆ‘æ˜¯è¿œç¨‹æ–‡ä»¶"); 12345678910//jsonp.html&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;title&gt;addScript&lt;/title&gt; &lt;script src="remote.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt;&lt;/body&gt;&lt;/html&gt; è¿è¡Œä»¥åŽå¯ä»¥çœ‹åˆ°ä¸€ä¸ªå¼¹å‡ºæ¡†ï¼šæˆ‘æ˜¯è¿œç¨‹æ–‡ä»¶ï¼Œè¯´æ˜Žè·¨åŸŸè°ƒç”¨æˆåŠŸã€‚ 2.çŽ°åœ¨æˆ‘ä»¬åœ¨jsonp.htmlé¡µé¢å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åŽåœ¨è¿œç¨‹remote.jsä¸­ä¼ å…¥æ•°æ®è¿›è¡Œè°ƒç”¨ã€‚ 123456789101112131415161718//jsonp.html&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;title&gt;addScript&lt;/title&gt; &lt;script type="text/javascript"&gt; let localHandler = function(data) &#123; alert( "æˆ‘æ˜¯æœ¬åœ°å‡½æ•°ï¼Œå¯ä»¥è¢«è·¨åŸŸçš„remote.jsæ–‡ä»¶è°ƒç”¨ï¼Œè¿œç¨‹jså¸¦æ¥çš„æ•°æ®æ˜¯ï¼š" + data.result ); &#125;; &lt;/script&gt; &lt;script src="remote.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt;&lt;/body&gt;&lt;/html&gt; 12//remote.jslocalHandler(&#123; result: "æˆ‘æ˜¯è¿œç¨‹jså¸¦æ¥çš„æ•°æ®" &#125;); è¿è¡Œä¹‹åŽï¼Œé¡µé¢æˆåŠŸå¼¹å‡ºæç¤ºçª—å£ï¼Œæ˜¾ç¤ºæœ¬åœ°å‡½æ•°è¢«è·¨åŸŸçš„è¿œç¨‹jsè°ƒç”¨æˆåŠŸï¼Œå¹¶ä¸”è¿˜æŽ¥æ”¶åˆ°äº†è¿œç¨‹jså¸¦æ¥çš„æ•°æ®ã€‚å¾ˆæ¬£å–œï¼Œè·¨åŸŸè¿œç¨‹èŽ·å–æ•°æ®çš„ç›®çš„åŸºæœ¬å®žçŽ°äº†ï¼Œä½†æ˜¯åˆä¸€ä¸ªé—®é¢˜å‡ºçŽ°äº†ï¼Œæˆ‘æ€Žä¹ˆè®©è¿œç¨‹jsçŸ¥é“å®ƒåº”è¯¥è°ƒç”¨çš„æœ¬åœ°å‡½æ•°å«ä»€ä¹ˆåå­—å‘¢ï¼Ÿæ¯•ç«Ÿæ˜¯jsonp çš„æœåŠ¡è€…éƒ½è¦é¢å¯¹å¾ˆå¤šæœåŠ¡å¯¹è±¡ï¼Œè€Œè¿™äº›æœåŠ¡å¯¹è±¡å„è‡ªçš„æœ¬åœ°å‡½æ•°éƒ½ä¸ç›¸åŒå•Šï¼Ÿæˆ‘ä»¬æŽ¥ç€å¾€ä¸‹çœ‹ã€‚ 3ã€èªæ˜Žçš„å¼€å‘è€…å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œåªè¦æœåŠ¡ç«¯æä¾›çš„jsè„šæœ¬æ˜¯åŠ¨æ€ç”Ÿæˆçš„å°±è¡Œäº†å‘—ï¼Œè¿™æ ·è°ƒç”¨è€…å¯ä»¥ä¼ ä¸€ä¸ªå‚æ•°è¿‡åŽ»å‘Šè¯‰æœåŠ¡ç«¯â€œæˆ‘æƒ³è¦ä¸€æ®µè°ƒç”¨ XXX å‡½æ•°çš„jsä»£ç ï¼Œè¯·ä½ è¿”å›žç»™æˆ‘â€ï¼ŒäºŽæ˜¯æœåŠ¡å™¨å°±å¯ä»¥æŒ‰ç…§å®¢æˆ·ç«¯çš„éœ€æ±‚æ¥ç”Ÿæˆjsè„šæœ¬å¹¶å“åº”äº†ã€‚ 1234567891011121314151617181920//jsonp.html&lt;!DOCTYPE html&gt;&lt;head&gt;&lt;html lang="en"&gt;&lt;title&gt;&lt;/title&gt;&lt;script type="text/javascript"&gt; // å¾—åˆ°èˆªç­ä¿¡æ¯æŸ¥è¯¢ç»“æžœåŽçš„å›žè°ƒå‡½æ•° let flightHandler = function(data)&#123; alert('ä½ æŸ¥è¯¢çš„èˆªç­ç»“æžœæ˜¯ï¼šç¥¨ä»· '+data.price + ' å…ƒï¼Œ'+'ä½™ç¥¨ ' + data.tickets + ' å¼ ã€‚'); &#125;;// æä¾›jsonpæœåŠ¡çš„urlåœ°å€ï¼ˆä¸ç®¡æ˜¯ä»€ä¹ˆç±»åž‹çš„åœ°å€ï¼Œæœ€ç»ˆç”Ÿæˆçš„è¿”å›žå€¼éƒ½æ˜¯ä¸€æ®µjavascriptä»£ç ï¼‰let url = "flightResult.aspx?code=CA1998&amp;callback=flightHandler";// åˆ›å»ºscriptæ ‡ç­¾ï¼Œè®¾ç½®å…¶å±žæ€§let script = document.createElement('script');script.setAttribute('src', url); // æŠŠscriptæ ‡ç­¾åŠ å…¥headï¼Œæ­¤æ—¶è°ƒç”¨å¼€å§‹document.getElementsByTagName('head')[0].appendChild(script); &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; è¿™æ¬¡çš„ä»£ç å˜åŒ–æ¯”è¾ƒå¤§ï¼Œä¸å†ç›´æŽ¥æŠŠè¿œç¨‹jsæ–‡ä»¶å†™æ­»ï¼Œè€Œæ˜¯ç¼–ç å®žçŽ°åŠ¨æ€æŸ¥è¯¢ï¼Œè€Œè¿™ä¹Ÿæ­£æ˜¯jsonpå®¢æˆ·ç«¯å®žçŽ°çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæœ¬ä¾‹ä¸­çš„é‡ç‚¹ä¹Ÿå°±åœ¨äºŽå¦‚ä½•å®Œæˆjsonpè°ƒç”¨çš„å…¨è¿‡ç¨‹ã€‚ æˆ‘ä»¬çœ‹åˆ°è°ƒç”¨çš„urlä¸­ä¼ é€’äº†ä¸€ä¸ªcodeå‚æ•°ï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘è¦æŸ¥çš„æ˜¯ CA1998 æ¬¡èˆªç­çš„ä¿¡æ¯ï¼Œè€Œcallbackå‚æ•°åˆ™å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘çš„æœ¬åœ°å›žè°ƒå‡½æ•°å«åšflightHandlerï¼Œæ‰€ä»¥è¯·æŠŠæŸ¥è¯¢ç»“æžœä¼ å…¥è¿™ä¸ªå‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨ã€‚ OKï¼ŒæœåŠ¡å™¨å¾ˆèªæ˜Žï¼Œè¿™ä¸ªå«åšflightResult.jsçš„é¡µé¢ç”Ÿæˆäº†ä¸€æ®µè¿™æ ·çš„ä»£ç æä¾›ç»™jsonp.htmlï¼ˆæœåŠ¡ç«¯çš„å®žçŽ°è¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ï¼Œä¸Žä½ é€‰ç”¨çš„è¯­è¨€æ— å…³ï¼Œè¯´åˆ°åº•å°±æ˜¯æ‹¼æŽ¥å­—ç¬¦ä¸²ï¼‰ï¼š 1flightHandler(&#123; code: "CA1998", price: 1780, tickets: 5 &#125;); æˆ‘ä»¬çœ‹åˆ°ï¼Œä¼ é€’ç»™flightHandlerå‡½æ•°çš„æ˜¯ä¸€ä¸ªjsonï¼Œå®ƒæè¿°äº†èˆªç­çš„åŸºæœ¬ä¿¡æ¯ã€‚è¿è¡Œä¸€ä¸‹é¡µé¢ï¼ŒæˆåŠŸå¼¹å‡ºæç¤ºçª—å£ï¼Œjsonpçš„æ‰§è¡Œå…¨è¿‡ç¨‹é¡ºåˆ©å®Œæˆï¼ 4ã€åˆ°è¿™é‡Œä¸ºæ­¢çš„è¯ï¼Œç›¸ä¿¡ä½ å·²ç»èƒ½å¤Ÿç†è§£jsonpçš„å®¢æˆ·ç«¯å®žçŽ°åŽŸç†äº†å§ï¼Ÿå‰©ä¸‹çš„å°±æ˜¯å¦‚ä½•æŠŠä»£ç å°è£…ä¸€ä¸‹ï¼Œä»¥ä¾¿äºŽä¸Žç”¨æˆ·ç•Œé¢äº¤äº’ï¼Œä»Žè€Œå®žçŽ°å¤šæ¬¡å’Œé‡å¤è°ƒç”¨ã€‚ ä»€ä¹ˆï¼Ÿä½ ç”¨çš„æ˜¯jQueryï¼Œæƒ³çŸ¥é“jQueryå¦‚ä½•å®žçŽ°jsonpè°ƒç”¨ï¼Ÿå¥½å§ï¼Œé‚£æˆ‘å°±å¥½äººåšåˆ°åº•ï¼Œå†ç»™ä½ ä¸€æ®µjQueryä½¿ç”¨jsonpçš„ä»£ç ï¼ˆæˆ‘ä»¬ä¾ç„¶æ²¿ç”¨ä¸Šé¢é‚£ä¸ªèˆªç­ä¿¡æ¯æŸ¥è¯¢çš„ä¾‹å­ï¼Œå‡å®šè¿”å›žjsonpç»“æžœä¸å˜ï¼‰ï¼š 12345678910111213141516171819202122232425&lt;!DOCTYPE html&gt;&lt;head&gt;&lt;title&gt;Untitled Page&lt;/title&gt;&lt;script type="text/javascript" src="jquery.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt; jQuery(document).ready(function()&#123; $.ajax(&#123; type: "get", async: false, url: "remote.js?code=CA1998", dataType: "jsonp", jsonp: "callback",//ä¼ é€’ç»™è¯·æ±‚å¤„ç†ç¨‹åºæˆ–é¡µé¢çš„ï¼Œç”¨ä»¥èŽ·å¾—jsonpå›žè°ƒå‡½æ•°åçš„å‚æ•°å(ä¸€èˆ¬é»˜è®¤ä¸º:callback) jsonpCallback:"flightHandler",//è‡ªå®šä¹‰çš„jsonpå›žè°ƒå‡½æ•°åç§°ï¼Œé»˜è®¤ä¸ºjQueryè‡ªåŠ¨ç”Ÿæˆçš„éšæœºå‡½æ•°åï¼Œä¹Ÿå¯ä»¥å†™"?"ï¼ŒjQueryä¼šè‡ªåŠ¨ä¸ºä½ å¤„ç†æ•°æ® success: function(json)&#123; alert('æ‚¨æŸ¥è¯¢åˆ°èˆªç­ä¿¡æ¯ï¼šç¥¨ä»·ï¼š ' + json.price + ' å…ƒï¼Œä½™ç¥¨ï¼š ' + json.tickets + ' å¼ ã€‚'); &#125;, error: function()&#123; alert('fail'); &#125; &#125;); &#125;);&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; æ˜¯ä¸æ˜¯æœ‰ç‚¹å¥‡æ€ªï¼Ÿä¸ºä»€ä¹ˆæˆ‘è¿™æ¬¡æ²¡æœ‰å†™flightHandlerè¿™ä¸ªå‡½æ•°å‘¢ï¼Ÿè€Œä¸”ç«Ÿç„¶ä¹Ÿè¿è¡ŒæˆåŠŸäº†ï¼å“ˆå“ˆï¼Œè¿™å°±æ˜¯jQueryçš„åŠŸåŠ³äº†ï¼Œjqueryåœ¨å¤„ç†jsonpç±»åž‹çš„ajaxæ—¶ï¼ˆè¿˜æ˜¯å¿ä¸ä½åæ§½ï¼Œè™½ç„¶jqueryä¹ŸæŠŠjsonpå½’å…¥äº†ajaxï¼Œä½†å…¶å®žå®ƒä»¬çœŸçš„ä¸æ˜¯ä¸€å›žäº‹å„¿ï¼‰ï¼Œè‡ªåŠ¨å¸®ä½ ç”Ÿæˆå›žè°ƒå‡½æ•°å¹¶æŠŠæ•°æ®å–å‡ºæ¥ä¾›successå±žæ€§æ–¹æ³•æ¥è°ƒç”¨ï¼Œæ˜¯ä¸æ˜¯å¾ˆçˆ½å‘€ï¼Ÿ è¡¥å……ï¼š è¿™é‡Œé’ˆå¯¹ajaxä¸Žjsonpçš„å¼‚åŒå†åšä¸€äº›è¡¥å……è¯´æ˜Žï¼š1ã€ajaxå’Œjsonpè¿™ä¸¤ç§æŠ€æœ¯åœ¨è°ƒç”¨æ–¹å¼ä¸Šâ€œçœ‹èµ·æ¥â€å¾ˆåƒï¼Œç›®çš„ä¹Ÿä¸€æ ·ï¼Œéƒ½æ˜¯è¯·æ±‚ä¸€ä¸ªurlï¼Œç„¶åŽæŠŠæœåŠ¡å™¨è¿”å›žçš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå› æ­¤jqueryå’Œextç­‰æ¡†æž¶éƒ½æŠŠjsonpä½œä¸ºajaxçš„ä¸€ç§å½¢å¼è¿›è¡Œäº†å°è£…ï¼› 2ã€ä½†ajaxå’Œjsonpå…¶å®žæœ¬è´¨ä¸Šæ˜¯ä¸åŒçš„ä¸œè¥¿ã€‚ajaxçš„æ ¸å¿ƒæ˜¯é€šè¿‡XmlHttpRequestèŽ·å–éžæœ¬é¡µå†…å®¹ï¼Œè€Œjsonpçš„æ ¸å¿ƒåˆ™æ˜¯åŠ¨æ€æ·»åŠ &lt;script&gt;æ ‡ç­¾æ¥è°ƒç”¨æœåŠ¡å™¨æä¾›çš„ js è„šæœ¬ã€‚ 3ã€æ‰€ä»¥è¯´ï¼Œå…¶å®žajaxä¸Žjsonpçš„åŒºåˆ«ä¸åœ¨äºŽæ˜¯å¦è·¨åŸŸï¼Œajaxé€šè¿‡æœåŠ¡ç«¯ä»£ç†ä¸€æ ·å¯ä»¥å®žçŽ°è·¨åŸŸï¼Œjsonpæœ¬èº«ä¹Ÿä¸æŽ’æ–¥åŒåŸŸçš„æ•°æ®çš„èŽ·å–ã€‚ 4ã€è¿˜æœ‰å°±æ˜¯ï¼Œjsonpæ˜¯ä¸€ç§æ–¹å¼æˆ–è€…è¯´éžå¼ºåˆ¶æ€§åè®®ï¼Œå¦‚åŒajaxä¸€æ ·ï¼Œå®ƒä¹Ÿä¸ä¸€å®šéžè¦ç”¨jsonæ ¼å¼æ¥ä¼ é€’æ•°æ®ï¼Œå¦‚æžœä½ æ„¿æ„ï¼Œå­—ç¬¦ä¸²éƒ½è¡Œï¼Œåªä¸è¿‡è¿™æ ·ä¸åˆ©äºŽç”¨jsonpæä¾›å…¬å¼€æœåŠ¡ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œjsonpä¸æ˜¯ajaxçš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œå“ªæ€•jqueryç­‰å·¨å¤´æŠŠjsonpå°è£…è¿›äº†ajaxï¼Œä¹Ÿä¸èƒ½æ”¹å˜ç€ä¸€ç‚¹ï¼ ä¼ é€é—¨~]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6æ–°ç‰¹æ€§]]></title>
    <url>%2F2017%2F06%2F28%2FES6%E6%96%B0%E7%89%B9%E6%80%A7%2F</url>
    <content type="text"><![CDATA[ES6 ç®€ä»‹â€‹ åŽ†æ—¶å°†è¿‘ 6 å¹´çš„æ—¶é—´æ¥åˆ¶å®šçš„æ–° ECMAScript æ ‡å‡† ECMAScript 6ï¼ˆäº¦ç§° ECMAScript Harmonyï¼Œç®€ç§° ES6ï¼‰ç»ˆäºŽåœ¨ 2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒã€‚è‡ªä»Žä¸Šä¸€ä¸ªæ ‡å‡†ç‰ˆæœ¬ ES5 åœ¨ 2009 å¹´å‘å¸ƒä»¥åŽï¼ŒES6 å°±ä¸€ç›´ä»¥æ–°è¯­æ³•ã€æ–°ç‰¹æ€§çš„ä¼˜è¶Šæ€§å¸å¼•è‘—ä¼—å¤š JavaScript å¼€å‘è€…ï¼Œé©±ä½¿ä»–ä»¬ç§¯æžå°é²œã€‚â€‹ ç”±äºŽ ES6 æ˜¯åœ¨ 2015 å¹´å‘å¸ƒçš„ï¼Œæ‰€ä»¥ä¹Ÿå« ES2015ã€‚â€‹ ä»¥åŽ ESCMAScript æ ‡å‡†ä¸€å¹´ä¸€æ›´æ–°ï¼Œç»Ÿä¸€ä½¿ç”¨å¹´ä»½å‘½åï¼šES2016ã€ES2017ã€â€¦. å—çº§ä½œç”¨åŸŸ åœ¨ ES5 ä¹‹å‰ï¼Œä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸï¼Œåœ¨ç¼–ç¨‹çš„æ—¶å€™å¾ˆå¤šæ—¶å€™ä¼šå¸¦æ¥å¾ˆå¤šçš„ä¸ä¾¿ï¼ŒES6 æ–°å¢žäº†å—çº§ä½œç”¨åŸŸï¼Œè¡¥è¶³äº†è¿™æ–¹é¢çš„ç¼ºé™·ã€‚ å—çº§å£°æ˜ŽæŒ‡çš„æ˜¯è¯¥å£°æ˜Žçš„å˜é‡æ— æ³•è¢«ä»£ç å—å¤–éƒ¨è®¿é—®ã€‚å—ä½œç”¨åŸŸï¼Œåˆè¢«ç§°ä¸ºè¯æ³•ä½œç”¨åŸŸï¼ˆlexical scopesï¼‰ï¼Œå¯ä»¥åœ¨å¦‚ä¸‹çš„æ¡ä»¶ä¸‹åˆ›å»ºï¼š å‡½æ•°å†…éƒ¨ åœ¨ä»£ç å—ï¼ˆå³ { }ï¼‰å†…éƒ¨ let å£°æ˜Ž ä½¿ç”¨ let å£°æ˜Žå˜é‡çš„è¯­æ³•å’Œä½¿ç”¨ var å£°æ˜Žçš„è¯­æ³•æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ let å£°æ˜Žçš„å˜é‡çš„ä½œç”¨åŸŸä¼šé™åˆ¶åœ¨å½“å‰çš„ä»£ç å—ä¸­ã€‚è¿™æ˜¯ let ä¸Ž var çš„æœ€å¤§åŒºåˆ«ã€‚ 1234567let a = 10;if (a &gt; 5) &#123; console.log(b); //ç”¨letå£°æ˜Žçš„å˜é‡æ²¡æœ‰å£°æ˜Žæå‰è¿™ä¸€ç‰¹æ€§ï¼Œæ‰€ä»¥æ­¤å¤„ä¹Ÿè®¿é—®ä¸åˆ°ï¼ˆæŠ¥é”™ï¼‰ let b = 20; console.log(b);&#125;console.log(b); //ç”±äºŽbæ˜¯åœ¨ifå—ä¸­ä½¿ç”¨letå£°æ˜Žçš„ï¼Œæ‰€ä»¥æ­¤å¤„æ— æ³•è®¿é—®åˆ°ã€‚ï¼ˆæŠ¥é”™ï¼‰ æ³¨æ„ï¼š 1.ç”¨ let å£°æ˜Žçš„å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œåªèƒ½åœ¨å£°æ˜Žçš„å—ä¸­è®¿é—®ï¼Œåœ¨å—å¤–é¢æ— æ³•è®¿é—® 2.ç”¨ let å£°æ˜Žçš„å˜é‡ä¹Ÿæ²¡æœ‰å£°æ˜Žæå‰è¿™ä¸€ç‰¹æ€§ã€‚ 3.åœ¨åŒä¸€ä¸ªå—ä¸­ï¼Œlet å£°æ˜Žçš„å˜é‡ä¹Ÿä¸èƒ½é‡å¤å£°æ˜Žã€‚ 4.åœ¨å£°æ˜Žå˜é‡çš„æ—¶å€™å°½é‡ä½¿ç”¨ letï¼Œæ…¢æ…¢çš„æŠ›å¼ƒ var const å£°æ˜Ž(Constant Declarations) åœ¨ ES6 ä½¿ç”¨ const æ¥å£°æ˜Žçš„å˜é‡ç§°ä¹‹ä¸ºå¸¸é‡ã€‚è¿™æ„å‘³ç€å®ƒä»¬ä¸èƒ½å†æ¬¡è¢«èµ‹å€¼ã€‚ç”±äºŽè¿™ä¸ªåŽŸå› ï¼Œæ‰€æœ‰çš„ const å£°æ˜Žçš„å˜é‡éƒ½å¿…é¡»åœ¨å£°æ˜Žå¤„åˆå§‹åŒ–ã€‚const å£°æ˜Žçš„å¸¸é‡å’Œ let å˜é‡ä¸€æ ·ä¹Ÿæ˜¯å…·æœ‰å—çº§ä½œç”¨åŸŸçš„ç‰¹æ€§ã€‚ 123456var a = 20;if (true) &#123; const b = 20; b = 30; //é”™è¯¯! å¸¸é‡ä¸èƒ½é‡æ–°èµ‹å€¼ const c; //é”™è¯¯ï¼ å¸¸é‡å£°æ˜Žçš„åŒæ—¶å¿…é¡»èµ‹å€¼ã€‚&#125; æ³¨æ„:1.const çš„ç‰¹æ€§é™¤äº†å£°æ˜Žçš„æ˜¯å¸¸é‡ä¸ºï¼Œå…¶ä»–ä¸Ž let ä¸€æ ·ã€‚ 2.åœ¨ let å’Œ const å£°æ˜Žå‰çš„è¿™æ®µåŒºåŸŸç§°ä¹‹ä¸ºæš‚å­˜æ€§æ­»åŒºï¼ˆThe Temporal Dead Zone â€”TDZ)ã€‚ 3.ä½¿ç”¨ let å’Œ const å£°æ˜Žçš„å˜é‡å’Œå¸¸é‡ä¸å†æ˜¯ window çš„å±žæ€§ã€‚ ä¹Ÿå°±æ˜¯è¯´é€šè¿‡ window.a æ˜¯æ— æ³•è®¿é—®åˆ°çš„ã€‚ å¾ªçŽ¯ä¸­çš„å—çº§ç»‘å®š ä½¿ç”¨ var å£°æ˜Žçš„å¾ªçŽ¯å˜é‡åœ¨å¾ªçŽ¯ç»“æŸåŽä»ç„¶å¯ä»¥è®¿é—®åˆ°ã€‚ ä½¿ç”¨ let å£°æ˜Žçš„å¾ªçŽ¯å˜é‡ï¼Œåœ¨å¾ªçŽ¯ç»“æŸä¹‹åŽä¼šç«‹å³é”€æ¯ã€‚ 12345for (let i = 0; i &lt; 3; i++) &#123; // å¾ªçŽ¯ç»“æŸä¹‹åŽä¼šç«‹å³é”€æ¯ i console.log(i);&#125;console.log(i); //æ­¤å¤„æ— æ³•è®¿é—®åˆ° i ã€‚ å¾ªçŽ¯ä¸­çš„å‡½æ•° çœ‹ä¸‹é¢çš„ä»£ç ï¼Œæ˜¯è¾“å‡º 10 ä¸ª 10ï¼Œè€Œä¸æ˜¯ 0ï¼Œ1ï¼Œ2ï¼Œâ€¦ 123456789var funcs = [];for (var i = 0; i &lt; 10; i++) &#123; funcs.push(function() &#123; console.log(i); &#125;);&#125;funcs.forEach(function(func) &#123; func(); // è¾“å‡º "10" å…±10æ¬¡&#125;); è§£å†³åŠžæ³•éœ€è¦ä½¿ç”¨å‡½æ•°çš„è‡ªæ‰§è¡Œç‰¹æ€§ã€‚ 12345678910111213var funcs = [];for (var i = 0; i &lt; 10; i++) &#123; funcs.push( (function(value) &#123; return function() &#123; console.log(value); &#125;; &#125;)(i) );&#125;funcs.forEach(function(func) &#123; func(); // è¾“å‡º 0ï¼Œ1ï¼Œ2 ... 9&#125;); å¦‚æžœä½¿ç”¨ let å£°æ˜Žå˜é‡ï¼Œåˆ™å®Œå…¨å¯ä»¥é¿å…å‰é¢çš„é—®é¢˜ã€‚ è¿™æ˜¯ ES6 è§„èŒƒä¸­ä¸“é—¨å®šä¹‰çš„ç‰¹æ€§ã€‚åœ¨ for â€¦ in å’Œ for â€¦ of å¾ªçŽ¯ä¸­ä¹Ÿé€‚ç”¨ 123456789var funcs = [];for (let i = 0; i &lt; 10; i++) &#123; funcs.push(function() &#123; console.log(i); &#125;);&#125;funcs.forEach(function(func) &#123; func(); // è¾“å‡º 0ï¼Œ1ï¼Œ2 ... 9&#125;); è¯´æ˜Žï¼šlet å£°æ˜Žä½¿å¾—æ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå˜é‡ iï¼Œæ‰€ä»¥å¾ªçŽ¯å†…éƒ¨åˆ›å»ºçš„å‡½æ•°ä¼šèŽ·å¾—å„è‡ªçš„å˜é‡ i çš„æ‹·è´ã€‚æ¯ä»½æ‹·è´éƒ½ä¼šåœ¨æ¯æ¬¡è¿­ä»£çš„å¼€å§‹è¢«åˆ›å»ºå¹¶è¢«èµ‹å€¼ã€‚ å‡½æ•°çš„æ–°å¢žç‰¹æ€§å¸¦é»˜è®¤å‚æ•°çš„å‡½æ•° JavaScript å‡½æ•°çš„æœ€å¤§çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯åœ¨ä¼ é€’å‚æ•°çš„æ—¶å€™ï¼Œå‚æ•°çš„ä¸ªæ•°ä¸å—é™åˆ¶çš„ã€‚ä¸ºäº†å¥å£®æ€§è€ƒè™‘ï¼Œä¸€èˆ¬åœ¨å‡½æ•°å†…éƒ¨éœ€è¦åšä¸€äº›é»˜è®¤å€¼çš„å¤„ç†ã€‚ 1234function makeRequest(url, timeout, callback) &#123; timeout = timeout || 2000; callback = callback || function() &#123;&#125;;&#125; å…¶å®žä¸Šé¢çš„é»˜è®¤å€¼æ–¹æ³•æœ‰ä¸ª bugï¼šå½“ timeout æ˜¯ 0 çš„æ—¶å€™ä¹Ÿä¼šå½“åšå‡å€¼æ¥å¤„ç†ï¼Œä»Žè€Œç»™èµ‹å€¼é»˜è®¤å€¼ 2000. ES6 ä»Žè¯­è¨€å±‚é¢é¢ä¸Šå¢žåŠ äº†é»˜è®¤å€¼çš„æ”¯æŒã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š 1234//è¿™ä¸ªå‡½æ•°å¦‚æžœåªä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼ŒåŽé¢ä¸¤ä¸ªä¸ä¼ å…¥ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚å¦‚æžœåŽé¢ä¸¤ä¸ªä¹Ÿä¼ å…¥äº†å‚æ•°ï¼Œåˆ™ä¸ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚function makeRequest(url, timeout = 2000, callback = function() &#123;&#125;) &#123; // å…¶ä½™ä»£ç &#125; é»˜è®¤å‚æ•°å¯¹ arguments å¯¹è±¡çš„å½±å“ åœ¨éžä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œarguments æ€»æ˜¯èƒ½åæ˜ å‡ºå‘½åå‚æ•°çš„å˜åŒ–ã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š 12345678910function foo(a, b) &#123; //éžä¸¥æ ¼æ¨¡å¼ console.log(arguments[0] === a); //true console.log(arguments[1] === b); //true a = 10; b = 20; console.log(arguments[0] === a); //true console.log(arguments[1] === b); //true&#125;foo(1, 2); åœ¨ ES5 çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œarguments åªåæ˜ å‚æ•°çš„åˆå§‹å€¼ï¼Œè€Œä¸å†åæ˜ å‘½åå‚æ•°çš„å˜åŒ–ï¼ 1234567891011function foo(a, b) &#123; //ä¸¥æ ¼æ¨¡å¼ "use strict"; console.log(arguments[0] === a); //true console.log(arguments[1] === b); //true a = 10; b = 20; console.log(arguments[0] === a); //falseã€‚ ä¿®æ”¹açš„å€¼ä¸ä¼šå½±å“åˆ°arguments[0]çš„å€¼ console.log(arguments[1] === b); //false&#125;foo(1, 2); å½“ä½¿ç”¨ ES6 å‚æ•°é»˜è®¤å€¼çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯å¦æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œéƒ½å’Œ ES5 çš„ä¸¥æ ¼æ¨¡å¼ç›¸åŒã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š 123456789function foo(a, b = 30) &#123; console.log(arguments[0] === a); //true console.log(arguments[1] === b); //true a = 10; b = 20; console.log(arguments[0] === a); //falseã€‚ ç”±äºŽbä½¿ç”¨äº†é»˜è®¤å€¼ã€‚è™½ç„¶aæ²¡æœ‰ä½¿ç”¨é»˜è®¤å€¼ï¼Œä½†æ˜¯ä»ç„¶è¡¨çŽ°çš„å’Œä¸¥æ ¼æ¨¡å¼ä¸€æ ·ã€‚ console.log(arguments[1] === b); //falseã€‚ bä½¿ç”¨äº†é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¡¨çŽ°çš„å’Œä¸¥æ ¼æ¨¡å¼ä¸€æ ·ã€‚&#125;foo(1, 2); æ³¨æ„ï¼šå¦‚æžœè¿™æ ·è°ƒç”¨ foo(1),åˆ™ a == 1ï¼Œ b == 30ï¼Œ arguments[0] == 1, arguments[1] == undefinedã€‚ä¹Ÿå°±æ˜¯è¯´é»˜è®¤å€¼å¹¶ä¸ä¼šèµ‹å€¼ç»™ arguments å‚æ•°ã€‚ é»˜è®¤å‚æ•°è¡¨è¾¾å¼ (Default Parameter Expressions) å‚æ•°çš„é»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼æˆ–è€…å‡½æ•°è°ƒç”¨ç­‰ã€‚çœ‹ä¸‹é¢çš„ä»£ç  1234567891011function getValue() &#123; return 5;&#125;function add(first, second = getValue()) &#123; //è¡¨ç¤ºä½¿ç”¨getValueè¿™ä¸ªå‡½æ•°çš„è¿”å›žå€¼ä½œä¸ºsecondçš„é»˜è®¤å€¼ã€‚ return first + second;&#125;console.log(add(1, 1)); // 2. è°ƒç”¨addå‡½æ•°çš„æ—¶å€™ï¼Œä¼ å…¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä»¥ä¼ å…¥çš„å‚æ•°ä¸ºå‡†ã€‚console.log(add(1)); // 6ã€‚ è°ƒç”¨addå‡½æ•°çš„æ—¶å€™ï¼Œæ²¡æœ‰ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¼šè°ƒç”¨getValueå‡½æ•°ã€‚ æœ‰ä¸€ç‚¹éœ€è¦è¦æ³¨æ„ï¼šgetValue()åªä¼šåœ¨è°ƒç”¨ add ä¸”ä¸ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„æ—¶å€™æ‰ä¼šåŽ»è°ƒç”¨ã€‚ä¸æ˜¯åœ¨è§£æžé˜¶æ®µè°ƒç”¨çš„ã€‚ç”±äºŽé»˜è®¤å€¼å¯ä»¥è¡¨è¾¾å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨å‰é¢çš„å‚æ•°ä½œä¸ºåŽé¢å‚æ•°çš„é»˜è®¤å€¼ã€‚ 1234function add(first, second = first) &#123; // ä½¿ç”¨ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°çš„é»˜è®¤å€¼ return first + second;&#125; æ³¨æ„ï¼šå¯ä»¥æŠŠå‰é¢çš„å‚æ•°ä½œä¸ºåŽé¢å‚æ•°çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯ä¸èƒ½æŠŠåŽé¢çš„å‚æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼ã€‚è¿™å¯ä»¥å‰é¢è¯´çš„ let å’Œ const çš„æš‚å­˜æ€§æ­»åŒºä¸€ä¸ªæ„æ€ã€‚ æœªå‘½åå‚æ•°é—®é¢˜ Javascript å¹¶ä¸é™åˆ¶ä¼ å…¥çš„å‚æ•°çš„æ•°é‡ã€‚åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œä¼ å…¥çš„å®žå‚çš„ä¸ªæ•°è¶…è¿‡å½¢å‚çš„ä¸ªæ•°çš„æ—¶å€™ï¼Œè¶…è¿‡çš„éƒ¨åˆ†å°±æˆä¸ºäº†æœªå‘½åå‚æ•°ã€‚åœ¨ ES5 ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥é€šè¿‡ arguments å¯¹è±¡æ¥èŽ·å–åˆ°æœªå‘½åå‚æ•°çš„å€¼ã€‚ä½†æ˜¯ç½—æ˜¾ç¹çã€‚ 12345function foo(a) &#123; console.log(a); console.log(arguments[1]); //å–å¾—ä¼ å…¥çš„å¤šä½™çš„å‚æ•°ã€‚&#125;foo(2, 3); ES6ï¼Œæä¾›äº†ä¸€ç§æ›´åŠ ä¼˜é›…å¤„ç†æœªå‘½åå‚æ•°çš„é—®é¢˜ï¼šå‰©ä½™å‚æ•°( Rest Parameters)è¯­æ³•ï¼šfunction a(a, â€¦ b){ }å‰©ä½™å‚æ•°ä½¿ç”¨ä¸‰ä¸ªç‚¹( â€¦ )å’Œå˜é‡åæ¥è¡¨ç¤ºã€‚ 12345function foo(a, ...b) &#123; console.log(a); console.log(b instanceof Array); //true .å¤šä½™çš„å‚æ•°éƒ½è¢«æ”¾å…¥äº†bä¸­ã€‚bå…¶å®žå°±æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚&#125;foo(2, 3, 4, 6); æ³¨æ„ï¼š1.å‡½æ•°æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªå‰©ä½™å‚æ•° bã€‚è€Œä¸”è¿™ä¸ªå‰©ä½™å‚æ•°å¿…é¡»ä½äºŽå‚æ•°åˆ—è¡¨çš„æœ€åŽä½ç½®ã€‚ 2.è™½ç„¶æœ‰äº†å‰©ä½™å‚æ•°ï¼Œä½†æ˜¯ arguments ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯ arguments å®Œå…¨æ— è§†äº†å‰©ä½™å‚æ•°çš„å­˜åœ¨ã€‚ 3.å‰©ä½™å‚æ•°æ˜¯åœ¨å‡½æ•°å£°æ˜Žçš„æ—¶å€™å‡ºçŽ°çš„ã€‚ å‡½æ•°ä¸­çš„æ‰©å±•è¿ç®—ç¬¦ ä¾‹å¦‚:Math ä¸­çš„ max å‡½æ•°å¯ä»¥è¿”å›žä»»æ„å¤šä¸ªå‚æ•°ä¸­çš„æœ€å¤§å€¼ã€‚ä½†æ˜¯å¦‚æžœè¿™äº›å‚æ•°åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œåˆ™æ²¡æœ‰åŠžæ³•ç›´æŽ¥ä¼ å…¥ã€‚ä»¥å‰é€šç”¨çš„åšæ³•æ˜¯ä½¿ç”¨ apply æ–¹æ³•ã€‚ çœ‹ä¸‹é¢çš„ä»£ç ï¼š 12let values = [25, 50, 75, 100];console.log(Math.max.apply(Math, values)); // 100 ä¸Šé¢è¿™ç§æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†æ˜¯æ€»æ˜¯ä¸æ˜¯é‚£ä¹ˆç›´è§‚ä½¿ç”¨ ES6 æä¾›çš„æ‰©å±•è¿ç®—ç¬¦å¯ä»¥å¾ˆå®¹æ˜“çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨æ•°ç»„å‰åŠ å‰ç¼€ â€¦ (ä¸‰ä¸ªç‚¹)ã€‚ 123let values = [25, 50, 75, 100];console.log(Math.max(...values)); //ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚ç›¸å½“äºŽæ‹†è§£äº†æ•°ç»„äº†ã€‚console.log(Math.max(...values, 200)); //ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å’Œå‚æ•°çš„æ··ç”¨ï¼Œåˆ™è¿™ä¸ªæ—¶å€™å°±æœ‰ 5 ä¸ªæ•°å‚ä¸Žæ¯”è¾ƒäº†ã€‚ æ³¨æ„ï¼šå‰©ä½™å‚æ•°å’Œæ‰©å±•è¿ç®—ç¬¦éƒ½æ˜¯ ä½¿ç”¨ä¸‰ä¸ªç‚¹ä½œä¸ºå‰ç¼€ã€‚ä½†æ˜¯ä»–ä»¬ä½¿ç”¨çš„ä½ç½®æ˜¯ä¸ä¸€æ ·çš„ã€‚å‰©ä½™å‚æ•°æ˜¯ç”¨åœ¨å‡½æ•°çš„å£°æ˜Žçš„æ—¶å€™çš„å‚æ•°åˆ—è¡¨ä¸­ï¼Œè€Œä¸”å¿…é¡»åœ¨å‚æ•°åˆ—è¡¨çš„åŽé¢æ‰©å±•è¿ç®—ç¬¦æ˜¯ç”¨åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ä½œä¸ºå®žå‚æ¥ä¼ é€’çš„ï¼Œåœ¨å®žå‚ä¸­çš„ä½ç½®æ²¡æœ‰é™åˆ¶ã€‚ å…¨æ–°çš„å‡½æ•°ï¼šç®­å¤´å‡½æ•°ï¼ˆ=&gt;ï¼‰ç®­å¤´å‡½æ•°è¯­æ³• åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123å½¢å‚åˆ—è¡¨ =&gt; &#123; //å‡½æ•°ä½“&#125;; ç®­å¤´å‡½æ•°å¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œä¹Ÿå¯ä»¥åƒåŒ¿åå‡½æ•°ä¸€æ ·ç›´æŽ¥ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ 123456789var sum = (num1, num2) =&gt; &#123; return num1 + num2;&#125;;console.log(sum(3, 4));//å‰é¢çš„ç®­å¤´å‡½æ•°ç­‰åŒäºŽä¸‹é¢çš„ä¼ ç»Ÿå‡½æ•°var add = function(num1, num2) &#123; return num1 + num2;&#125;;console.log(add(2, 4)); å¦‚æžœå‡½æ•°ä½“å†…åªæœ‰ä¸€è¡Œä»£ç ï¼Œåˆ™åŒ…è£¹å‡½æ•°ä½“çš„ å¤§æ‹¬å· ({ })å®Œå…¨å¯ä»¥çœç•¥ã€‚å¦‚æžœæœ‰ returnï¼Œreturn å…³é”®å­—ä¹Ÿå¯ä»¥çœç•¥ã€‚å¦‚æžœå‡½æ•°ä½“å†…æœ‰å¤šæ¡è¯­å¥ï¼Œåˆ™ {} ä¸èƒ½çœç•¥ã€‚ 1234567891011var sum = (num1, num2) =&gt; num1 + num2;console.log(sum(5, 4));//å‰é¢çš„ç®­å¤´å‡½æ•°ç­‰åŒäºŽä¸‹é¢çš„ä¼ ç»Ÿå‡½æ•°var add = function(num1, num2) &#123; return num1 + num2;&#125;;console.log(add(2, 4));//å¦‚æžœè¿™ä¸€è¡Œä»£ç æ˜¯æ²¡æœ‰è¿”å›žå€¼çš„ï¼Œåˆ™æ–¹æ³•çš„è¿”å›žè‡ªä¹Ÿæ˜¯undefinedvar foo = (num1, num2) =&gt; console.log("aaa");console.log(foo(3, 4)); //è¿™ä¸ªåœ°æ–¹çš„è¿”å›žå€¼å°±æ˜¯undefined å¦‚æžœç®­å¤´å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™åŒ…è£¹å‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥ã€‚å…¶ä½™æƒ…å†µä¸‹éƒ½ä¸å¯ä»¥çœç•¥ã€‚å½“ç„¶å¦‚æžœä¸ä¼ å…¥å‚æ•°ä¹Ÿä¸å¯ä»¥çœç•¥ 12var foo = a =&gt; a + 3; //å› ä¸ºåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥()å¯ä»¥çœç•¥console.log(foo(4)); // 7 å¦‚æžœæƒ³ç›´æŽ¥è¿”å›žä¸€ä¸ª js å¯¹è±¡ï¼Œè€Œä¸”è¿˜ä¸æƒ³æ·»åŠ ä¼ ç»Ÿçš„å¤§æ‹¬å·å’Œ returnï¼Œåˆ™å¿…é¡»ç»™æ•´ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªå°æ‹¬å· () 123456789var foo = () =&gt; (&#123; name: "lisi", age: 30 &#125;);console.log(foo());//ç­‰åŒäºŽä¸‹é¢çš„ï¼›var foo1 = () =&gt; &#123; return &#123; name: "lisi", age: 30 &#125;;&#125;; ä½¿ç”¨ç®­å¤´å‡½æ•°å®žçŽ°å‡½æ•°è‡ªæ‰§è¡Œ1234567var person = (name =&gt; &#123; return &#123; name: name, age: 30 &#125;;&#125;)("zs");console.log(person); ç®­å¤´å‡½æ•°ä¸­æ—  this ç»‘å®š(No this Binding) åœ¨ ES5 ä¹‹å‰ this çš„ç»‘å®šæ˜¯ä¸ªæ¯”è¾ƒéº»çƒ¦çš„é—®é¢˜ï¼Œç¨ä¸æ³¨æ„å°±è¾¾ä¸åˆ°è‡ªå·±æƒ³è¦çš„æ•ˆæžœã€‚å› ä¸º this çš„ç»‘å®šå’Œå®šä¹‰ä½ç½®æ— å…³ï¼Œåªå’Œè°ƒç”¨æ–¹å¼æœ‰å…³ã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­åˆ™æ²¡æœ‰è¿™æ ·çš„é—®é¢˜ï¼Œåœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œthis å’Œå®šä¹‰æ—¶çš„ä½œç”¨åŸŸç›¸å…³ï¼Œä¸ç”¨è€ƒè™‘è°ƒç”¨æ–¹å¼ç®­å¤´å‡½æ•°æ²¡æœ‰ this ç»‘å®šï¼Œæ„å‘³ç€ this åªèƒ½é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥ç¡®å®šã€‚å¦‚æžœç®­å¤´å‡½æ•°è¢«å¦ä¸€ä¸ªä¸åŒ…å«ç®­å¤´å‡½æ•°çš„å‡½æ•°å›Šæ‹¬ï¼Œé‚£ä¹ˆ this çš„å€¼å’Œè¯¥å‡½æ•°ä¸­çš„ this ç›¸ç­‰ï¼Œå¦åˆ™ this çš„å€¼ä¸º windowã€‚ 123456789101112131415var PageHandler = &#123; id: "123456", init: function() &#123; document.addEventListener( "click", event =&gt; this.doSomething(event.type), false ); // åœ¨æ­¤å¤„thisçš„å’Œinitå‡½æ•°å†…çš„thisç›¸åŒã€‚ &#125;, doSomething: function(type) &#123; console.log("Handling " + type + " for " + this.id); &#125;&#125;;PageHandler.init(); çœ‹ä¸‹é¢çš„ä¸€æ®µä»£ç ï¼š 12345var p = &#123; foo: () =&gt; console.log(this) //æ­¤å¤„thisä¸ºwindow&#125;;p.foo(); //è¾“å‡ºä¸º windowå¯¹è±¡ã€‚ å¹¶ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚æ‰€ä»¥åœ¨å®šä¹‰å¯¹è±¡çš„æ–¹æ³•çš„æ—¶å€™åº”è¯¥é¿å…ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚//ç®­å¤´å‡½æ•°ä¸€èˆ¬ç”¨åœ¨ä¼ é€’å‚æ•°ï¼Œæˆ–è€…åœ¨å‡½æ•°å†…éƒ¨å£°æ˜Žå‡½æ•°çš„æ—¶å€™ä½¿ç”¨ã€‚ è¯´æ˜Žï¼š1.ç®­å¤´å‡½æ•°ä½œä¸ºä¸€ä¸ªä½¿ç”¨å®Œå°±æ‰”çš„å‡½æ•°ï¼Œä¸èƒ½ä½œä¸ºæž„é€ å‡½æ•°ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯ä¸èƒ½ä½¿ç”¨ new çš„æ–¹å¼æ¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚ 2.ç”±äºŽç®­å¤´å‡½æ•°ä¸­çš„ this ä¸Žå‡½æ•°çš„ä½œç”¨åŸŸç›¸å…³ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ callã€applyã€bind æ¥é‡æ–°ç»‘å®š thisã€‚ä½†æ˜¯è™½ç„¶ this ä¸èƒ½é‡æ–°ç»‘å®šï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥ä½¿ç”¨ call å’Œ apply æ–¹æ³•åŽ»æ‰§è¡Œç®­å¤´å‡½æ•°çš„ã€‚ æ—  arguments ç»‘å®š è™½ç„¶ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ arguments å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°å†…éƒ¨è¿˜æ˜¯å¯ä»¥ä½¿ç”¨å®ƒå¤–éƒ¨å‡½æ•°çš„ arguments å¯¹è±¡çš„ã€‚ 123456function foo() &#123; //è¿™é‡Œçš„argumentsæ˜¯fooå‡½æ•°çš„argumentså¯¹è±¡ã€‚ç®­å¤´å‡½æ•°è‡ªå·±æ˜¯æ²¡æœ‰ arguments å¯¹è±¡çš„ã€‚ return () =&gt; arguments[0]; //ç®­å¤´å‡½æ•°çš„è¿”å›žå€¼æ˜¯fooå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°&#125;var arrow = foo(4, 5);console.log(arrow()); // 4 å¯¹è±¡åŠŸèƒ½çš„æ‰©å±• åœ¨ JavaScript ä¸­ï¼Œå‡ ä¹Žæ‰€æœ‰çš„ç±»åž‹éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä½¿ç”¨å¥½å¯¹è±¡ï¼Œå¯¹æç¤º JavaScript çš„æ€§èƒ½å¾ˆé‡è¦ã€‚ å¯¹è±¡ç±»åˆ« ECMAScript 6 è§„èŒƒæ˜Žç¡®å®šä¹‰äº†æ¯ç§å¯¹è±¡ç±»åˆ«ã€‚ç†è§£è¯¥æœ¯è¯­å¯¹äºŽä»Žæ•´ä½“ä¸Šè®¤è¯†è¯¥é—¨è¯­è¨€æ˜¾å¾—ååˆ†é‡è¦ã€‚å¯¹è±¡ç±»åˆ«åŒ…æ‹¬ï¼š æ™®é€šå¯¹è±¡ï¼ˆordinary objectï¼‰æ‹¥æœ‰ JavaScript å¯¹è±¡æ‰€æœ‰çš„é»˜è®¤è¡Œä¸ºã€‚ ç‰¹å¼‚å¯¹è±¡ï¼ˆexotic objectï¼‰çš„æŸäº›å†…éƒ¨è¡Œä¸ºå’Œé»˜è®¤çš„æœ‰æ‰€å·®å¼‚ã€‚ æ ‡å‡†å¯¹è±¡ï¼ˆstandard objectï¼‰æ˜¯ ECMAScript 6 ä¸­å®šä¹‰çš„å¯¹è±¡ï¼Œä¾‹å¦‚ Array, Date ç­‰ï¼Œå®ƒä»¬æ—¢å¯èƒ½æ˜¯æ™®é€šä¹Ÿå¯èƒ½æ˜¯ç‰¹å¼‚å¯¹è±¡ã€‚ å†…ç½®å¯¹è±¡ï¼ˆbuilt-in objectï¼‰æŒ‡ JavaScript æ‰§è¡ŒçŽ¯å¢ƒå¼€å§‹è¿è¡Œæ—¶å·²å­˜åœ¨çš„å¯¹è±¡ã€‚æ ‡å‡†å¯¹è±¡å‡ä¸ºå†…ç½®å¯¹è±¡ã€‚ å¯¹è±¡å­—é¢é‡çš„è¯­æ³•æ‰©å±•ç®€å†™çš„å±žæ€§åˆå§‹åŒ–12345678function createPerson(name, age) &#123; //è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼šå±žæ€§åå’Œå‚æ•°åç›¸åŒã€‚ return &#123; name: name, age: age &#125;;&#125;console.log(createPerson("lisi", 30)); // &#123;name:"lisi", age:30&#125; ES6 ä¸­ï¼Œä¸Šé¢çš„å†™æ³•å¯ä»¥ç®€åŒ–æˆå¦‚ä¸‹å½¢å¼ï¼š 12345678function createPerson(name, age) &#123; //è¿”å›žä¸€ä¸ªå¯¹è±¡ï¼šå±žæ€§åå’Œå‚æ•°åç›¸åŒã€‚ return &#123; name, //å½“å¯¹è±¡å±žæ€§åå’Œæœ¬åœ°å˜é‡åç›¸åŒæ—¶ï¼Œå¯ä»¥çœç•¥å†’å·å’Œå€¼ age &#125;;&#125;console.log(createPerson("lisi", 30)); // &#123;name:"lisi", age:30&#125; å½“å¯¹è±¡å­—é¢é‡ä¸­çš„å±žæ€§åªæœ‰å±žæ€§åçš„æ—¶å€™ï¼ŒJavaScript å¼•æ“Žä¼šåœ¨è¯¥ä½œç”¨åŸŸå†…å¯»æ‰¾æ˜¯å¦æœ‰å’Œå±žæ€§åŒåçš„å˜é‡ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæœ¬åœ°å˜é‡ name çš„å€¼è¢«èµ‹ç»™äº†å¯¹è±¡å­—é¢é‡ä¸­çš„ name å±žæ€§ã€‚ ç®€å†™çš„æ–¹æ³•å£°æ˜Ž1234567var person = &#123; name: "lisi", sayHell: function() &#123; console.log("æˆ‘çš„åå­—æ˜¯ï¼š" + this.name); &#125;&#125;;person.sayHell(); åœ¨ ES6 ä¸­ï¼Œä¸Šé¢çš„å†™æ³•å¯ä»¥ç®€åŒ–æˆå¦‚ä¸‹çš„å½¢å¼ï¼š 1234567var person = &#123; name: "æŽå››", sayHell() &#123; console.log("æˆ‘çš„åå­—æ˜¯ï¼š" + this.name); &#125;&#125;;person.sayHell(); åœ¨å­—é¢é‡ä¸­åŠ¨æ€è®¡ç®—å±žæ€§å åœ¨ ES5 ä¹‹å‰ï¼Œå¦‚æžœå±žæ€§åæ˜¯ä¸ªå˜é‡æˆ–è€…éœ€è¦åŠ¨æ€è®¡ç®—ï¼Œåˆ™åªèƒ½é€šè¿‡ å¯¹è±¡.[å˜é‡å] çš„æ–¹å¼åŽ»è®¿é—®ã€‚è€Œä¸”è¿™ç§åŠ¨æ€è®¡ç®—å±žæ€§åçš„æ–¹å¼ åœ¨å­—é¢é‡ä¸­ æ˜¯æ— æ³•ä½¿ç”¨çš„ã€‚ 123456var p = &#123; name: "æŽå››", age: 20&#125;;var attName = "name";console.log(p[attName]); //è¿™é‡Œ attNameè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå˜é‡åã€‚ è€Œä¸‹é¢çš„æ–¹å¼ä½¿ç”¨æ—¶æ²¡æœ‰åŠžæ³•è®¿é—®åˆ° attName è¿™ä¸ªå˜é‡çš„ã€‚ 123456var attName = "name";var p = &#123; attName: "æŽå››", // è¿™é‡Œçš„attNameæ˜¯å±žæ€§åï¼Œç›¸å½“äºŽå„çº§på®šä¹‰äº†å±žæ€§åå« attNameçš„å±žæ€§ã€‚ age: 20&#125;;console.log(p[attName]); // undefined åœ¨ ES6 ä¸­ï¼ŒæŠŠå±žæ€§åç”¨[ ]æ‹¬èµ·æ¥ï¼Œåˆ™æ‹¬å·ä¸­å°±å¯ä»¥å¼•ç”¨æå‰å®šä¹‰çš„å˜é‡ã€‚ 123456var attName = "name";var p = &#123; [attName]: "æŽå››", // å¼•ç”¨äº†å˜é‡attNameã€‚ç›¸å½“äºŽæ·»åŠ äº†ä¸€ä¸ªå±žæ€§åä¸ºnameçš„å±žæ€§ age: 20&#125;;console.log(p[attName]); // æŽå›› æ–°å¢žçš„æ–¹æ³• ECMAScript ä»Žç¬¬äº”ç‰ˆå¼€å§‹é¿å…åœ¨ Object.prototype ä¸Šæ·»åŠ æ–°çš„å…¨å±€å‡½æ•°æˆ–æ–¹æ³•ï¼Œè½¬è€ŒåŽ»è€ƒè™‘å…·ä½“çš„å¯¹è±¡ç±»åž‹ï¼ˆå¦‚æ•°ç»„ï¼‰åº”è¯¥æœ‰ä»€ä¹ˆæ–¹æ³•ã€‚å½“æŸäº›æ–¹æ³•ä¸é€‚åˆè¿™äº›å…·ä½“ç±»åž‹æ—¶å°±å°†å®ƒä»¬æ·»åŠ åˆ°å…¨å±€ Object ä¸Š ã€‚ES6 åœ¨å…¨å±€ Object ä¸Šæ·»åŠ äº†å‡ ä¸ªæ–°çš„æ–¹æ³•æ¥è½»æ¾åœ°å®Œæˆä¸€äº›ç‰¹å®šä»»åŠ¡ã€‚ Object.is() åœ¨ JavaSciprt ä¸­å½“ä½ æƒ³æ¯”è¾ƒä¸¤ä¸ªå€¼æ—¶ï¼Œä½ æžæœ‰å¯èƒ½ä½¿ç”¨æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆ==ï¼‰æˆ–ä¸¥æ ¼æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆ===ï¼‰ã€‚è®¸å¤šå¼€å‘è€…ä¸ºäº†é¿å…åœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­å‘ç”Ÿå¼ºåˆ¶ç±»åž‹è½¬æ¢ï¼Œæ›´å€¾å‘äºŽåŽè€…ã€‚ä½†å³ä½¿æ˜¯ä¸¥æ ¼ç­‰äºŽæ“ä½œç¬¦ï¼Œå®ƒä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚ä¾‹å¦‚ï¼Œå®ƒè®¤ä¸º +0 å’Œ -0 æ˜¯ç›¸ç­‰çš„ï¼Œè™½ç„¶å®ƒä»¬åœ¨ JavaScript å¼•æ“Žä¸­è¡¨ç¤ºçš„æ–¹å¼ä¸åŒã€‚åŒæ · NaN === NaN ä¼šè¿”å›ž falseï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ isNaN() å‡½æ•°æ‰èƒ½åˆ¤æ–­ NaN ã€‚ECMAScript 6 å¼•å…¥äº† Object.is() æ–¹æ³•æ¥è¡¥å¿ä¸¥æ ¼ç­‰äºŽæ“ä½œç¬¦æ€ªå¼‚è¡Œä¸ºçš„è¿‡å¤±ã€‚è¯¥å‡½æ•°æŽ¥å—ä¸¤ä¸ªå‚æ•°å¹¶åœ¨å®ƒä»¬ç›¸ç­‰çš„è¿”å›ž true ã€‚åªæœ‰ä¸¤è€…åœ¨ç±»åž‹å’Œå€¼éƒ½ç›¸åŒçš„æƒ…å†µä¸‹æ‰ä¼šåˆ¤ä¸ºç›¸ç­‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112console.log(+0 == -0); // trueconsole.log(+0 === -0); // trueconsole.log(Object.is(+0, -0)); // falseconsole.log(NaN == NaN); // falseconsole.log(NaN === NaN); // falseconsole.log(Object.is(NaN, NaN)); // trueconsole.log(5 == "5"); // trueconsole.log(5 === "5"); // falseconsole.log(Object.is(5, 5)); // trueconsole.log(Object.is(5, "5")); // false å¾ˆå¤šæƒ…å†µä¸‹ Object.is() çš„è¡¨çŽ°å’Œ === æ˜¯ç›¸åŒçš„ã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯å‰è€… è®¤ä¸º +0 å’Œ -0 ä¸ç›¸ç­‰è€Œ NaN å’Œ NaN åˆ™æ˜¯ç›¸åŒçš„ã€‚ä¸è¿‡å¼ƒç”¨åŽè€…æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„ã€‚ä½•æ—¶é€‰æ‹© Object.is() ä¸Ž == æˆ– === å–å†³äºŽä»£ç çš„å®žé™…æƒ…å†µã€‚ Object.assign() ä½¿ç”¨ assign ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–å¯¹è±¡çš„æ··å…¥ï¼ˆmixinï¼‰ã€‚æ··å…¥æ˜¯æŒ‡çš„åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§æˆ–æ–¹æ³•ã€‚assing å¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡çš„å±žæ€§å’Œè®¿é—®å®Œæ•´çš„è½¬ copy åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚ 123456789101112var p = &#123; name: "lisi", age: 20, friends: ["å¼ ä¸‰", "æŽå››"]&#125;;var p1 = &#123;&#125;;Object.assign(p1, p); //åˆ™p1ä¸­å°±æœ‰äº†ä¸Žpç›¸åŒçš„å±žæ€§å’Œæ–¹æ³•. p1æ˜¯æŽ¥å—è€…ï¼Œpæ˜¯æä¾›è€…console.log(p1);//è¿™ç§copyæ˜¯æµ…copyï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœå±žæ€§å€¼æ˜¯å¯¹è±¡çš„è¯ï¼Œåªæ˜¯copyçš„å¯¹è±¡çš„åœ°å€å€¼(å¼•ç”¨ï¼‰console.log(p1.friends == p.friends); //true p1å’Œpçš„friendsåŒäº‹æŒ‡å‘äº†åŒä¸€ä¸ªæ•°ç»„ã€‚p.friends.push("çŽ‹äº”");console.log(p1.friends); //['å¼ ä¸‰', 'æŽå››', 'çŽ‹äº”'] assign æ–¹æ³•å¯ä»¥æŽ¥å—ä»»æ„å¤šçš„æä¾›è€…ã€‚æ„å‘³ç€åŽé¢æä¾›è€…çš„åŒåå±žæ€§ä¼šè¦†ç›–å‰é¢æä¾›è€…çš„å±žæ€§å€¼ã€‚ 1234567891011var p = &#123; name: "lisi", age: 20, friends: ["å¼ ä¸‰", "æŽå››"]&#125;;var p1 = &#123; name: "zs"&#125;;var p2 = &#123;&#125;;Object.assign(p2, p, p1); //på’Œp1éƒ½æ˜¯æä¾›è€…console.log(p2.name); // zs å­—ç¬¦ä¸²åŠŸèƒ½çš„å¢žå¼ºæŸ¥æ‰¾å­å­—ç¬¦ä¸² åœ¨ä»¥å‰åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä½¿ç”¨ indexOf æ–¹æ³•ã€‚ES6 æ–°å¢žäº†ä¸‰ä¸ªæ–¹æ³•æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚ includes() æ–¹æ³•ä¼šåœ¨ç»™å®šæ–‡æœ¬å­˜åœ¨äºŽå­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä½ç½®æ—¶è¿”å›ž trueï¼Œå¦åˆ™è¿”å›ž false ã€‚ startsWith() æ–¹æ³•ä¼šåœ¨ç»™å®šæ–‡æœ¬å‡ºçŽ°åœ¨å­—ç¬¦ä¸²å¼€å¤´æ—¶è¿”å›ž trueï¼Œå¦åˆ™è¿”å›ž false ã€‚ endsWith() æ–¹æ³•ä¼šåœ¨ç»™å®šæ–‡æœ¬å‡ºçŽ°åœ¨å­—ç¬¦ä¸²æœ«å°¾æ—¶è¿”å›ž trueï¼Œå¦åˆ™è¿”å›ž false ã€‚ æ¯ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šéœ€è¦æœç´¢çš„æ–‡æœ¬å’Œå¯é€‰çš„èµ·å§‹ç´¢å¼•å€¼ã€‚å½“æä¾›ç¬¬äºŒä¸ªå‚æ•°åŽï¼Œincludes() å’Œ startsWith() ä¼šä»¥è¯¥ç´¢å¼•ä¸ºèµ·å§‹ç‚¹è¿›è¡ŒåŒ¹é…ï¼Œè€Œ endsWith() å°†å­—ç¬¦ä¸²çš„é•¿åº¦ä¸Žå‚æ•°å€¼ç›¸å‡å¹¶å°†å¾—åˆ°çš„å€¼ä½œä¸ºæ£€ç´¢çš„èµ·å§‹ç‚¹ã€‚è‹¥ç¬¬äºŒä¸ªå‚æ•°æœªæä¾›ï¼Œincludes() å’Œ startsWith() ä¼šä»Žå­—ç¬¦ä¸²çš„èµ·å§‹ä¸­å¼€å§‹æ£€ç´¢ï¼ŒendsWith() åˆ™æ˜¯ä»Žå­—ç¬¦ä¸²çš„æœ«å°¾ã€‚å®žé™…ä¸Šï¼Œç¬¬äºŒä¸ªå‚æ•°å‡å°‘äº†éœ€è¦æ£€ç´¢çš„å­—ç¬¦ä¸²çš„æ€»é‡ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨è¿™äº›æ–¹æ³•çš„æ¼”ç¤ºï¼š 12345678910111213var msg = "Hello world!";console.log(msg.startsWith("Hello")); // trueconsole.log(msg.endsWith("!")); // trueconsole.log(msg.includes("o")); // trueconsole.log(msg.startsWith("o")); // falseconsole.log(msg.endsWith("world!")); // trueconsole.log(msg.includes("x")); // falseconsole.log(msg.startsWith("o", 4)); // trueconsole.log(msg.endsWith("o", 8)); // trueconsole.log(msg.includes("o", 8)); // false repeat æ–¹æ³• ECMAScript 6 è¿˜å‘å­—ç¬¦ä¸²æ·»åŠ äº† repeat() æ–¹æ³•ï¼Œå®ƒæŽ¥å—ä¸€ä¸ªæ•°å­—å‚æ•°ä½œä¸ºå­—ç¬¦ä¸²çš„é‡å¤æ¬¡æ•°ã€‚è¯¥æ–¹æ³•è¿”å›žä¸€ä¸ªé‡å¤åŒ…å«åˆå§‹å­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸²ï¼Œé‡å¤æ¬¡æ•°ç­‰äºŽå‚æ•°ã€‚ä¾‹å¦‚ï¼š 123console.log("x".repeat(3)); // "xxx"console.log("hello".repeat(2)); // "hellohello"console.log("abc".repeat(4)); // "abcabcabcabc" å­—ç¬¦ä¸²æ¨¡æ¿å­—é¢é‡ æ¨¡æ¿å­—é¢é‡æ˜¯ ECMAScript 6 é’ˆå¯¹ JavaScript ç›´åˆ° ECMAScript 5 ä¾ç„¶ç¼ºå¤±çš„å¦‚ä¸‹åŠŸèƒ½çš„å›žåº”ï¼š å¤šè¡Œå­—ç¬¦ä¸² é’ˆå¯¹å¤šè¡Œå­—ç¬¦ä¸²çš„å½¢å¼æ¦‚å¿µï¼ˆformal conceptï¼‰ã€‚ åŸºæœ¬çš„å­—ç¬¦ä¸²æ ¼å¼åŒ– å°†å­—ç¬¦ä¸²ä¸­çš„å˜é‡ç½®æ¢ä¸ºå€¼çš„èƒ½åŠ›ã€‚ è½¬ä¹‰ HTML èƒ½å°†å­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰å¹¶ä½¿å…¶å®‰å…¨åœ°æ’å…¥åˆ° HTML çš„èƒ½åŠ›ã€‚ æ¨¡æ¿å­—é¢é‡ä»¥ä¸€ç§å…¨æ–°çš„è¡¨çŽ°å½¢å¼è§£å†³äº†è¿™äº›é—®é¢˜è€Œä¸éœ€è¦å‘ JavaScript å·²æœ‰çš„å­—ç¬¦ä¸²æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚ åŸºæœ¬è¯­æ³• ä½¿ç”¨ä¸€å¯¹åå¼•å· ``(tab æ­£ä¸Šæ–¹çš„æŒ‰é”®)æ¥è¡¨ç¤ºæ¨¡æ¿å­—é¢é‡ã€‚ 12345let message = `Hello world!`; //ä½¿ç”¨æ¨¡æ¿å­—é¢é‡åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²console.log(message); // "Hello world!"console.log(typeof message); // "string"console.log(message.length); // 12 å¤šè¡Œå­—ç¬¦ä¸² åœ¨ ES5 ä¹‹å‰ JavaScript æ˜¯ä¸æ”¯æŒå¤šè¡Œå­—ç¬¦ä¸²çš„ã€‚ï¼ˆä½†æ˜¯åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­æœ‰ä¸€ä¸ªå¤§å®¶éƒ½è®¤ä¸ºæ˜¯ bug çš„æ–¹å¼å¯ä»¥å†™å‡ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œå°±æ˜¯åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªåæ–œæ  \ï¼‰ 1234var s = "abc \aaaaaa";console.log(s); //ä½†æ˜¯è¾“å‡ºçš„ç»“æžœä¸­ä¸åŒ…æ‹¬æ¢è¡Œ ä½†æ˜¯åœ¨ ES6 ä¸­å­—ç¬¦ä¸²çš„æ¨¡æ¿å­—é¢é‡è½»æ¾çš„è§£å†³äº†å¤šè¡Œå­—ç¬¦ä¸²çš„é—®é¢˜ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•æ–°çš„è¯­æ³•. 12345var s = `abcaaaaadsalfjadfadfja`;console.log(s); ä½†æ˜¯è¦æ³¨æ„ï¼š åå¼•å·ä¸­çš„æ‰€æœ‰ç©ºæ ¼å’Œç¼©è¿›éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ã€‚ å­—ç¬¦ä¸²ç½®æ¢ ç½®æ¢å…è®¸ä½ å°† JavaScript è¡¨è¾¾å¼åµŒå…¥åˆ°æ¨¡æ¿å­—é¢é‡ä¸­å¹¶å°†å…¶ç»“æžœä½œä¸ºè¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¯­æ³•ï¼š\${å˜é‡åã€è¡¨è¾¾å¼ã€ä»»æ„è¿ç®—ã€æ–¹æ³•è°ƒç”¨ç­‰}å¯ä»¥åµŒå…¥ä»»ä½•æœ‰æ•ˆçš„ JavaScript ä»£ç  123var name = "æŽå››";var msg = `æ¬¢è¿Žä½ $&#123;name&#125;åŒå­¦`;console.log(msg); æ¨¡æ¿æ ‡ç­¾ä»€ä¹ˆæ˜¯æ¨¡æ¿æ ‡ç­¾ æ¨¡æ¿å­—é¢é‡çœŸæ­£çš„å¼ºå¤§ä¹‹å¤„æ¥æºäºŽæ¨¡æ¿æ ‡ç­¾ã€‚ä¸€ä¸ªæ¨¡æ¿æ ‡ç­¾å¯ä»¥è¢«è½¬æ¢ä¸ºæ¨¡æ¿å­—é¢é‡å¹¶ä½œä¸ºæœ€ç»ˆå€¼è¿”å›žã€‚æ ‡ç­¾åœ¨æ¨¡æ¿çš„å¤´éƒ¨ï¼Œå³å·¦ ` å­—ç¬¦ä¹‹å‰æŒ‡å®šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1let message = myTag`Hello world`; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒmyTag å°±æ˜¯æ¨¡æ¿æ ‡ç­¾ã€‚myTag å…¶å®žæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ã€‚ å®šä¹‰æ¨¡æ¿æ ‡ç­¾ ä¸€ä¸ªæ ‡ç­¾ä»…ä»£è¡¨ä¸€ä¸ªå‡½æ•°ï¼Œä»–æŽ¥å—éœ€è¦å¤„ç†çš„æ¨¡æ¿å­—é¢é‡ã€‚æ ‡ç­¾åˆ†åˆ«æŽ¥æ”¶æ¨¡æ¿å­—é¢é‡ä¸­çš„ç‰‡æ®µï¼Œä¸”å¿…é¡»å°†å®ƒä»¬ç»„åˆä»¥å¾—å‡ºç»“æžœã€‚å‡½æ•°çš„é¦–ä¸ªå‚æ•°ä¸ºåŒ…å«æ™®é€š JavaScript å­—ç¬¦ä¸²çš„æ•°ç»„ã€‚ä½™ä¸‹çš„å‚æ•°ä¸ºæ¯æ¬¡ç½®æ¢çš„å¯¹åº”å€¼ã€‚æ ‡ç­¾å‡½æ•°ä¸€èˆ¬ä½¿ç”¨å‰©ä½™å‚æ•°æ¥å®šä¹‰ï¼Œä»¥ä¾¿è½»æ¾åœ°å¤„ç†æ•°æ®ã€‚å¦‚ä¸‹ï¼š 12345678910111213141516171819let name = "å¼ ä¸‰", age = 20, message = show`æˆ‘æ¥ç»™å¤§å®¶ä»‹ç»$&#123;name&#125;çš„å¹´é¾„æ˜¯$&#123;age&#125;.`;/* åº”è¯¥å®šä¹‰ä¸€ä¸ªå‡½æ•°showï¼š å‚æ•°1ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚åœ¨æœ¬ä¾‹ä¸­åŒ…å«ä¸‰ä¸ªå…ƒç´ ã€‚ 0:"æˆ‘æ¥ç»™å¤§å®¶ä»‹ç»" 1:"çš„å¹´é¾„æ˜¯" 2:"." å‚æ•°2å’Œå‚æ•°3ï¼šè¡¨ç¤ºéœ€è¦ç½®æ¢çš„å­—ç¬¦ä¸²çš„å€¼ã€‚ */function show(stringArr, value1, value2) &#123; console.log(stringArr); // console.log(value1); // å¼ ä¸‰ console.log(value2); // 20 return "abc";&#125;console.log(message); //abc ä¸ºäº†ç®€åŒ–ä¹¦å†™ï¼Œä¸€èˆ¬æŠŠ Value1 å’Œ Value2 å†™æˆå‰©ä½™å­—ç¬¦ä¸²çš„å½¢å¼ 123function show(stringArr, ...values) &#123; // blabla...&#125; è§£æž„è§£æž„çš„å®žç”¨æ€§ åœ¨ ECMAScript 5 æˆ–æ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œä»Žå¯¹è±¡æˆ–æ•°ç»„ä¸­èŽ·å–ç‰¹å®šçš„æ•°æ®å¹¶èµ‹å€¼ç»™æœ¬åœ°å˜é‡éœ€è¦ä¹¦å†™å¾ˆå¤šå¹¶ä¸”ç›¸ä¼¼çš„ä»£ç ã€‚ä¾‹å¦‚ï¼š 123456789let options = &#123; repeat: true, save: false&#125;;// ä»Žå¯¹è±¡ä¸­æå–æ•°æ®let repeat = options.repeat, save = options.save; è¿™æ®µä»£ç åå¤åœ°æå–åœ¨ options ä¸Šå­˜å‚¨åœ°å±žæ€§å€¼å¹¶å°†å®ƒä»¬ä¼ é€’ç»™åŒåçš„æœ¬åœ°å˜é‡ã€‚è™½ç„¶è¿™äº›çœ‹èµ·æ¥ä¸æ˜¯é‚£ä¹ˆå¤æ‚ï¼Œä¸è¿‡æƒ³è±¡ä¸€ä¸‹å¦‚æžœä½ çš„ä¸€å¤§æ‰¹å˜é‡æœ‰ç€ç›¸åŒçš„éœ€æ±‚ï¼Œä½ å°±åªèƒ½ä¸€ä¸ªä¸€ä¸ªåœ°èµ‹å€¼ã€‚è€Œä¸”ï¼Œå¦‚æžœä½ éœ€è¦ä»Žå¯¹è±¡å†…éƒ¨åµŒå¥—çš„ç»“æž„æ¥æŸ¥æ‰¾æƒ³è¦çš„æ•°æ®ï¼Œä½ æžæœ‰å¯èƒ½ä¸ºäº†ä¸€å°å—æ•°æ®è€Œè®¿é—®äº†æ•´ä¸ªæ•°æ®ç»“æž„ã€‚ è¿™ä¹Ÿæ˜¯ ECMAScript 6 ç»™å¯¹è±¡å’Œæ•°ç»„æ·»åŠ è§£æž„çš„åŽŸå› ã€‚å½“ä½ æƒ³è¦æŠŠæ•°æ®ç»“æž„åˆ†è§£ä¸ºæ›´å°çš„éƒ¨åˆ†æ—¶ï¼Œä»Žè¿™äº›éƒ¨åˆ†ä¸­æå–æ•°æ®ä¼šæ›´å®¹æ˜“äº›ã€‚å¾ˆå¤šè¯­è¨€éƒ½èƒ½ä½¿ç”¨ç²¾ç®€çš„è¯­æ³•æ¥å®žçŽ°è§£æž„æ“ä½œã€‚ECMAScript 6 è§£æž„çš„å®žé™…è¯­æ³•æˆ–è®¸ä½ å·²ç»éžå¸¸ç†Ÿæ‚‰ï¼šå¯¹è±¡å’Œæ•°ç»„å­—é¢é‡ã€‚ å¯¹è±¡è§£æž„å¯¹è±¡è§£æž„çš„åŸºæœ¬å½¢å¼ å¯¹è±¡ç»“æž„çš„è¯­æ³•å°±æ˜¯åœ¨èµ‹å€¼è¯­å¥çš„å·¦ä¾§ä½¿ç”¨ç±»ä¼¼å¯¹è±¡å­—é¢é‡çš„ç»“æž„ã€‚ 123456789let node = &#123; type: "Identifier", name: "foo"&#125;;//è¿™é‡Œå°±ç›¸å½“äºŽå£°æ˜Žäº†ä¸¤ä¸ªå˜é‡ï¼š type = node.type; name:node.namelet &#123; type, name &#125; = node;console.log(type); // "Identifier"console.log(name); // "foo" åœ¨ä¸Šé¢çš„ç»“æž„ä¸­å¿…é¡»è¦åˆå§‹åŒ–ã€‚å¦åˆ™ä¼šå‡ºçŽ°è¯­æ³•é”™è¯¯ã€‚ 12345678// è¯­æ³•é”™è¯¯ï¼var &#123; type, name &#125;;// è¯­æ³•é”™è¯¯ï¼let &#123; type, name &#125;;// è¯­æ³•é”™è¯¯ï¼const &#123; type, name &#125;; è§£æž„èµ‹å€¼è¡¨è¾¾å¼ å¦‚æžœå£°æ˜Žçš„å˜é‡æƒ³æ”¹å˜ä»–ä»¬çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æž„è¡¨è¾¾å¼ã€‚ 123456789101112let node = &#123; type: "Identifier", name: "foo" &#125;, type = "Literal", name = 5;//æ³¨æ„ï¼šæ­¤å¤„å¿…é¡»è¦åœ¨åœ†æ‹¬å·å†…æ‰èƒ½ä½¿ç”¨è§£æž„è¡¨è¾¾å¼(&#123; type, name &#125; = node);console.log(type); // "Identifier"console.log(name); // "foo"" å¯¹è±¡è§£æž„æ—¶çš„é»˜è®¤å€¼ å¦‚æžœèµ‹å€¼å·å³è¾¹çš„å¯¹è±¡ä¸­æ²¡æœ‰ä¸Žå·¦è¾¹å˜é‡åŒåçš„å±žæ€§ï¼Œåˆ™å·¦è¾¹çš„å˜é‡ä¼šæ˜¯ undefined 12345678910let node = &#123; type: "Identifier", name: "foo"&#125;;//å› ä¸ºnodeä¸­æ²¡æœ‰å«valueçš„å±žæ€§ï¼Œæ‰€ä»¥valuedçš„å€¼å°†ä¼šæ˜¯undefinedlet &#123; type, name, value &#125; = node;console.log(type); // "Identifier"console.log(name); // "foo"console.log(value); // undefined ä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šä»–çš„é»˜è®¤å€¼ã€‚ï¼ˆè¿™ä¸ªå’Œå‡½æ•°çš„å‚æ•°é»˜è®¤å€¼å¾ˆåƒï¼‰ 12345678910let node = &#123; type: "Identifier", name: "foo"&#125;;//æ‰‹åŠ¨æ·»åŠ valueçš„é»˜è®¤å€¼ä¸º3let &#123; type, name, value = 3 &#125; = node;console.log(type); // "Identifier"console.log(name); // "foo"console.log(value); // 3 èµ‹å€¼ç»™ä¸åŒçš„å˜é‡å åœ¨å‰é¢çš„æ“ä½œä¸­ï¼Œéƒ½æ˜¯æŠŠå¯¹è±¡çš„å±žæ€§å€¼ï¼Œèµ‹å€¼ç»™åŒåå˜é‡ã€‚å…¶å®žä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä¸åŒåçš„å˜é‡ã€‚ 123456789let node = &#123; type: "Identifier", name: "foo"&#125;;// localTypeæ‰æ˜¯è¦å®šä¹‰çš„æ–°çš„å˜é‡ã€‚ typeæ˜¯nodeçš„å±žæ€§let &#123; type: localType, name: localName &#125; = node;console.log(localType); // "Identifier"console.log(localName); // "foo" æ•°ç»„è§£æž„æ•°ç»„è§£æž„åŸºæœ¬è¯­æ³• æ•°æ®è§£æž„çš„è¯­æ³•å’Œå¯¹è±¡è§£æž„çœ‹èµ·æ¥ç±»ä¼¼ï¼Œåªæ˜¯å°†å¯¹è±¡å­—é¢é‡æ›¿æ¢æˆäº†æ•°ç»„å­—é¢é‡ï¼Œè€Œä¸”è§£æž„æ“ä½œçš„æ˜¯æ•°ç»„å†…éƒ¨çš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰è€Œä¸æ˜¯å¯¹è±¡ä¸­çš„å‘½åå±žæ€§ï¼Œä¾‹å¦‚ï¼š 12345let colors = ["red", "green", "blue"];let [firstColor, secondColor] = colors;console.log(firstColor); // "red"console.log(secondColor); // "green" å¦‚æžœåªæƒ³å–æ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼Œåˆ™å¯ä»¥ä¸ç”¨å‘½åã€‚ 12345let colors = ["red", "green", "blue"];//åªå–æ•°ç»„ä¸­çš„ç¬¬ä¸‰é¡¹ã€‚let [, , thirdColor] = colors;console.log(thirdColor); // "blue" è§£æž„è¡¨è¾¾å¼ ä½ å¯ä»¥æƒ³è¦èµ‹å€¼çš„æƒ…å†µä¸‹ä½¿ç”¨æ•°ç»„çš„è§£æž„èµ‹å€¼è¡¨è¾¾å¼ï¼Œä½†æ˜¯å’Œå¯¹è±¡è§£æž„ä¸åŒï¼Œæ²¡å¿…è¦å°†å®ƒä»¬åŒ…å«åœ¨åœ†æ‹¬å·ä¸­ï¼Œä¾‹å¦‚ï¼š 12345678let colors = ["red", "green", "blue"], firstColor = "black", secondColor = "purple";[firstColor, secondColor] = colors; //å¯ä»¥ä¸ç”¨åŠ æ‹¬å·ã€‚å½“ç„¶æ·»åŠ ä¹Ÿä¸çŠ¯æ³•console.log(firstColor); // "red"console.log(secondColor); // "green" æ•°ç»„è§£æž„è¡¨è¾¾å¼æœ‰ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„åœ°æ–¹ï¼Œå°±æ˜¯äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ã€‚åœ¨ä»¥å‰ä¸€èˆ¬å®šä¹‰ä¸€ä¸ªç¬¬ä¸‰æ–¹å˜é‡è¿›è¡Œäº¤æ¢ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š 12345678let a = 3, b = 4, temp;temp = a;a = b;b = temp;console.log(a);console.log(b); é‚£ä¹ˆåœ¨ ES6 ä¸­å®Œå…¨å¯ä»¥æŠ›å¼ƒç¬¬ä¸‰æ–¹å˜é‡è¿™ç§æ–¹å¼ï¼Œä½¿ç”¨æˆ‘ä»¬çš„æ•°ç»„è§£æž„è¡¨è¾¾å¼ 123456let a = 3, b = 4;//å·¦ä¾§å’Œå‰é¢çš„æ¡ˆä¾‹æ˜¯ä¸€æ ·çš„ï¼Œå³ä¾§æ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„æ•°ç»„å­—é¢é‡ã€‚[a, b] = [b, a];console.log(a);console.log(b); æ–°çš„åŸºæœ¬ç±»åž‹ï¼šSymbol ä»¥å‰æˆ‘ä»¬æœ‰ 5 ç§åŸºæœ¬æ•°æ®ç±»åž‹ï¼šNumberã€Stringã€Booleanã€Nullã€UndefinedES6 æ–°å¢žäº†ä¸€ç§æ–°çš„æ•°æ®ç±»åž‹ï¼šSymbolåœ¨ ES5 ä¹‹å‰æˆ‘ä»¬éƒ½æ²¡åŠžæ³•åˆ›å»ºç§æœ‰å˜é‡ï¼Œåªèƒ½æƒ³åŠžæ³•åŽ»å°è£…ã€‚symbol æ¥åˆ›å»ºç§æœ‰æˆå‘˜ï¼Œè¿™ä¹Ÿæ˜¯ JavaScript å¼€å‘è€…é•¿ä¹…ä»¥æ¥æœŸå¾…çš„ä¸€é¡¹ç‰¹æ€§ã€‚ åˆ›å»º Symbol Symbol åœ¨åŸºæœ¬æ•°æ®ç±»åž‹ä¸­æ˜¯æ¯”è¾ƒç‰¹åˆ«çš„ã€‚æˆ‘ä»¬ä»¥å‰çš„éƒ½å¯ä»¥ç”¨å­—é¢é‡åŽ»åˆ›å»ºåŸºæœ¬æ•°æ®ç±»åž‹çš„æ•°æ®ï¼Œä½†æ˜¯ Symbol å´ä¸å¯ä»¥ä½¿ç”¨å­—é¢é‡çš„æ˜¯å½¢å¼åŽ»åˆ›å»ºã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ symbol å…¨å±€å‡½æ•°æ¥åˆ›å»º Symbolã€‚ 12345let firstName = Symbol(); //åˆ›å»ºä¸€ä¸ªSymbollet person = &#123;&#125;;person[firstName] = "å¼ ä¸‰";console.log(person[firstName]); // "å¼ ä¸‰" è¯´æ˜Žï¼šä¸Šé¢çš„ä»£ç ä¸­ï¼ŒfirstName ä½œä¸º symbol ç±»åž‹è¢«åˆ›å»ºå¹¶èµ‹å€¼ç»™ person å¯¹è±¡ä»¥ä½œå…¶å±žæ€§ã€‚æ¯æ¬¡è®¿é—®è¿™ä¸ªå±žæ€§æ—¶å¿…é¡»ä½¿ç”¨è¯¥ symbolã€‚ åœ¨åˆ›å»º Symbol çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¹Ÿä»…ä»…æ˜¯åœ¨è°ƒè¯•è¾“å‡ºçš„æ—¶å€™æ–¹ä¾¿ï¼Œå®žé™…æ²¡æœ‰å•¥ç”¨å¤„ã€‚ 123var s1 = Symbol("abc");var s2 = Symbol("abc");console.log(s1 == s2); //false æ³¨æ„ï¼šä»»æ„ä¸¤ä¸ª Symbol éƒ½ä¸ä¼šç›¸ç­‰ï¼Œå³ä½¿åˆ›å»ºä»–ä»¬çš„æ—¶å€™ä½¿ç”¨äº†ç›¸åŒçš„å‚æ•°ã€‚ è¯†åˆ« Symbol æ—¢ç„¶ symbol æ˜¯åŸºç¡€ç±»åž‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ typeof æ“ä½œç¬¦æ¥åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º symbol ã€‚ECMAScript 6 æ‹“å±•äº† typeof ä½¿å…¶æ“ä½œ symbol æ—¶è¿”å›ž â€œsymbolâ€ã€‚ä¾‹å¦‚ï¼š 12let symbol = Symbol();console.log(typeof symbol); // "symbol" Symbol ä½œä¸ºå±žæ€§åâ€‹ ç”±äºŽæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€ Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºŽå¯¹è±¡çš„å±žæ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºçŽ°åŒåçš„å±žæ€§ã€‚è¿™å¯¹äºŽä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æž„æˆçš„æƒ…å†µéžå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚ 12345678var mySymbol = Symbol();// ç¬¬ä¸€ç§å†™æ³•var a = &#123;&#125;;a[mySymbol] = "Hello!";// ç¬¬äºŒç§å†™æ³•var a = &#123; [mySymbol]: "Hello!"&#125;; æ³¨æ„ï¼š1,symbol ä½œä¸ºå¯¹è±¡çš„å±žæ€§çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨[ ]åŽ»è®¿é—®ï¼Œä¸èƒ½ä½¿ç”¨ç‚¹åŽ»è®¿é—®ã€‚2,symbol ä½œä¸ºå¯¹è±¡çš„å±žæ€§åä½¿ç”¨çš„æ—¶å€™ï¼Œè¯¥å±žæ€§è¿˜æ˜¯å…¬å¼€å±žæ€§ï¼Œä¸æ˜¯ç§æœ‰å±žæ€§ã€‚ä½†æ˜¯è¿™ä¸ªæ—¶å€™ä½¿ç”¨ forâ€¦ in å’Œ forâ€¦of æ—¶æ— æ³•éåŽ†åˆ°è¿™ä¸ª symbol å±žæ€§çš„ã€‚ Symbol å±žæ€§åçš„éåŽ†â€‹ Symbol ä½œä¸ºå±žæ€§åï¼Œè¯¥å±žæ€§ä¸ä¼šå‡ºçŽ°åœ¨ forâ€¦inã€forâ€¦of å¾ªçŽ¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢« Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify()è¿”å›žã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±žæ€§ï¼Œæœ‰ä¸€ä¸ª Object.getOwnPropertySymbols æ–¹æ³•ï¼Œå¯ä»¥èŽ·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±žæ€§åã€‚ 123456789var obj = &#123;&#125;;var a = Symbol("a");var b = Symbol("b");obj[a] = "Hello";obj[b] = "World";// è¿”å›žobjå¯¹è±¡æ‰€æœ‰Symbolç±»åž‹çš„å±žæ€§åç»„æˆçš„æ•°ç»„ã€‚var objectSymbols = Object.getOwnPropertySymbols(obj);console.log(objectSymbols); //[Symbol(a), Symbol(b)] çœ‹ä¸‹é¢ä»£ç  12345678var obj = &#123;&#125;;var foo = Symbol("foo");obj[foo] = "lisi";for (var i in obj) &#123; console.log(i); // æ— è¾“å‡º ã€‚ å› ä¸ºéåŽ†ä¸åˆ°Symbolåž‹çš„å±žæ€§&#125;Object.getOwnPropertyNames(obj); // [] åªèƒ½æ‹¿åˆ°éžSymbolç±»åž‹çš„å±žæ€§Object.getOwnPropertySymbols(obj); //[Symbol(foo)] è¿˜æœ‰ä¸€ä¸ªæ–° API å¯ä»¥æ‹¿åˆ°æ‰€æœ‰ç±»åž‹çš„å±žæ€§ï¼ŒåŒ…æ‹¬å¸¸è§„å’Œ Symbol åž‹çš„ã€‚Reflect.ownKeys() 123456let obj = &#123; [Symbol("my_key")]: 1, enum: 2, nonEnum: 3&#125;;Reflect.ownKeys(obj); // ["enum", "nonEnum", Symbol(my_key)] è¯´æ˜Žï¼šç”±äºŽä»¥ Symbol å€¼ä½œä¸ºåç§°çš„å±žæ€§ï¼Œä¸ä¼šè¢«å¸¸è§„æ–¹æ³•éåŽ†å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¸ºå¯¹è±¡å®šä¹‰ä¸€äº›éžç§æœ‰çš„ã€ä½†åˆå¸Œæœ›åªç”¨äºŽå†…éƒ¨çš„æ–¹æ³•ã€‚ Symbol.for(å­—ç¬¦ä¸²)å’Œ Symbol.keyFor(symbol ç±»åž‹çš„å€¼) Symbol.for(å­—ç¬¦ä¸²å‚æ•°)ï¼šåœ¨å…¨å±€çŽ¯å¢ƒä¸­æœç´¢ ä»¥è¯¥å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°çš„ Symbol å€¼ï¼Œå¦‚æžœæœåˆ°åˆ™è¿”å›žè¿™ä¸ª symbolï¼Œå¦‚æžœæœä¸åˆ°åˆ™åˆ›å»ºä¸€ä¸ª Symbolï¼Œå¹¶æŠŠå®ƒæ³¨å†Œåœ¨å…¨å±€çŽ¯å¢ƒä¸­ã€‚ 12345//ç¬¬ä¸€æ¬¡æœä¸åˆ°ï¼Œåˆ™æ–°åˆ›å»ºä¸€ä¸ªè¿”å›žï¼Œå¹¶åœ¨å…¨å±€çŽ¯å¢ƒ(window)ä¸­æ³¨å†Œvar a = Symbol.for("foo");//ç¬¬äºŒæ¬¡æœåˆ°ä¸Šæ¬¡åˆ›å»ºçš„var b = Symbol.for("foo");console.log(a === b); //å› ä¸ºä¸¤æ¬¡æœåˆ°çš„æ˜¯åŒä¸€ä¸ªSymbolï¼Œæ‰€ä»¥æ­¤å¤„æ˜¯true Symbol.for()å’Œ Symbol()éƒ½å¯ä»¥åˆ›å»º Symbol ç±»åž‹çš„æ•°æ®ã€‚äºŒè€…åŒºåˆ«ï¼š1ï¼ŒSymbol.for()å¯¹åŒæ ·çš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡å¾—åˆ°ç»“æžœè‚¯å®šæ˜¯ä¸€æ ·çš„ã€‚å› ä¸ºéƒ½æ˜¯ä»Žå…¨å±€çŽ¯å¢ƒä¸­æœç´¢ã€‚2ï¼ŒSymbol()åˆ™ä¸ä¼šæœ‰æœç´¢çš„è¿‡ç¨‹ï¼Œæ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„ä¸åŒçš„ symbolï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå‘å…¨å±€çŽ¯å¢ƒä¸­æ³¨å†Œã€‚ 123var a = Symbol("foo");var b = Symbol.for("foo");console.log(a == b); //false Symbol.keyFor(symbol):è¿”å›žä¸€ä¸ªå·²ç»æ³¨å†Œçš„ symbol çš„â€keyâ€ã€‚ 1234var a = Symbol("foo");var b = Symbol.for("foo");console.log(Symbol.keyFor(a)); // undefined. å› ä¸ºaæ²¡æœ‰æƒ³å…¨å±€çŽ¯å¢ƒä¸­ç™»è®°ï¼Œæ‰€ä»¥æ˜¯undefindedconsole.log(Symbol.keyFor(b)); // foo Set æ•°æ®ç»“æž„â€‹JavaScript åœ¨ç»å¤§éƒ¨åˆ†åŽ†å²æ—¶æœŸå†…åªæœ‰ä¸€ç§é›†åˆç±»åž‹ï¼Œé‚£å°±æ˜¯æ•°ç»„ã€‚æ•°ç»„åœ¨ JavaScript ä¸­çš„ä½¿ç”¨æ–¹å¼å’Œå…¶å®ƒè¯­è¨€å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯å…¶å®ƒé›†åˆç±»åž‹çš„ç¼ºä¹å¯¼è‡´æ•°ç»„ä¹Ÿç»å¸¸è¢«å½“ä½œé˜Ÿåˆ—ï¼ˆqueuesï¼‰å’Œæ ˆï¼ˆstacksï¼‰æ¥ä½¿ç”¨ã€‚ â€‹ å› ä¸ºæ•°ç»„çš„ç´¢å¼•åªèƒ½æ˜¯æ•°å­—ç±»åž‹ï¼Œå½“å¼€å‘è€…è§‰å¾—éžæ•°å­—ç±»åž‹çš„ç´¢å¼•æ˜¯å¿…è¦çš„æ—¶å€™ä¼šä½¿ç”¨éžæ•°ç»„å¯¹è±¡ã€‚è¿™é¡¹ç”¨æ³•ä¿ƒè¿›äº†ä»¥éžç±»æ•°ç»„å¯¹è±¡ä¸ºåŸºç¡€çš„ set å’Œ map é›†åˆç±»åž‹çš„å®žçŽ°ã€‚ Set æ˜¯ç±»ä¼¼æ•°ç»„çš„ä¸€ç§ç»“æž„ï¼Œå¯ä»¥å­˜å‚¨æ•°æ®ï¼Œä¸Žæ•°ç»„çš„åŒºåˆ«ä¸»è¦æ˜¯ Set ä¸­çš„å…ƒç´ ä¸èƒ½é‡å¤ï¼Œè€Œæ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥é‡å¤ã€‚ ä¸€å¥è¯æ€»ç»“ï¼šSet ç±»åž‹æ˜¯ä¸€ä¸ªåŒ…å«æ— é‡å¤å…ƒç´ çš„æœ‰åºåˆ—è¡¨ åˆ›å»º Set å’Œå¹¶æ·»åŠ å…ƒç´  Set æœ¬èº«æ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ã€‚ 12345678//åˆ›å»ºSetæ•°æ®ç»“æž„å¯¹è±¡ã€‚var s = new Set();//è°ƒç”¨setå¯¹è±¡çš„addæ–¹æ³•ï¼Œå‘setä¸­æ·»åŠ å…ƒç´ s.add("a");s.add("c");s.add("b");//setçš„sizeå±žæ€§å¯ä»¥èŽ·å–setä¸­å…ƒç´ çš„ä¸ªæ•°console.log(s.size); Set ä¸­ä¸èƒ½æ·»åŠ é‡å¤å…ƒç´ 123456var s = new Set();s.add("a");s.add("c");s.add("b");s.add("a"); //é‡å¤ï¼Œæ‰€ä»¥æ·»åŠ å¤±è´¥ã€‚æ³¨æ„è¿™ä¸ªåœ°æ–¹å¹¶ä¸ä¼šä¿å­˜ã€‚console.log(s.size); // é•¿åº¦æ˜¯3 çœ‹ä¸‹é¢ä»£ç ï¼š 1234var s = new Set();s.add(5);s.add("5");console.log(s.size); // é•¿åº¦æ˜¯2 åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ•°å­— 5 å’Œå­—ç¬¦ä¸² 5 éƒ½ä¼šæ·»åŠ æˆåŠŸã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ Set æ˜¯ä½¿ç”¨ä»€ä¹ˆæœºåˆ¶æ¥åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰çš„å‘¢ï¼Ÿæ˜¯é€šè¿‡æˆ‘ä»¬å‰é¢è¯´è¿‡çš„ Object.is(a, b) æ¥åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚å›žå¿†ä¸€ä¸‹ï¼šè¿™ä¸ªæ–¹æ³•é™¤äº† +0 å’Œ-0ã€NaN å’Œ NaN è®¤ä¸ºç›¸ç­‰ï¼Œå…¶ä½™å’Œä¸‰ä¸ª === æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ 12345678910var s = new Set();s.add(+0);s.add(-0); //é‡å¤æ·»åŠ ä¸è¿›åŽ»s.add(NaN);s.add(NaN); //é‡å¤æ·»åŠ ä¸è¿›åŽ»s.add([]);s.add([]); //ä¸¤ä¸ªç©ºæ•°ç»„ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥å¯ä»¥æ·»åŠ è¿›åŽ»s.add(&#123;&#125;);s.add(&#123;&#125;); // ä¸¤ä¸ªç©ºå¯¹è±¡ä¹Ÿä¸é‡å¤ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æ·»åŠ è¿›åŽ»console.log(s.size); // é•¿åº¦æ˜¯6 ä½¿ç”¨æ•°ç»„åˆå§‹åŒ– Set123//ä½¿ç”¨æ•°ç»„ä¸­çš„å…ƒç´ æ¥åˆå§‹åŒ–Setï¼Œå½“ç„¶ç¢°åˆ°é‡å¤çš„ä¹Ÿä¸ä¼šæ·»åŠ è¿›åŽ»ã€‚var s = new Set([2, 3, 2, 2, 4]);console.log(s.size); åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦åœ¨ Set ä¸­ ä½¿ç”¨ Set çš„ has() æ–¹æ³•å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦åœ¨è¿™ä¸ª set ä¸­ã€‚ 123456let set = new Set();set.add(5);set.add("5");console.log(set.has(5)); // trueconsole.log(set.has(6)); // false ç§»é™¤ Set ä¸­çš„å…ƒç´  delete(è¦åˆ é™¤çš„å€¼) ï¼šåˆ é™¤å•ä¸ªå€¼clear()ï¼šæ¸…ç©ºæ‰€æœ‰çš„å€¼ 123456789101112131415let set = new Set();set.add(5);set.add("5");console.log(set.has(5)); // trueset.delete(5);console.log(set.has(5)); // falseconsole.log(set.size); // 1set.clear();console.log(set.has("5")); // falseconsole.log(set.size); // 0 éåŽ† Set æ•°ç»„æœ‰ä¸ªæ–¹æ³• forEach å¯ä»¥éåŽ†æ•°ç»„ã€‚Set ä¹Ÿæœ‰ forEach å¯ä»¥éåŽ† Setã€‚ä½¿ç”¨ Set çš„ forEach éåŽ†æ—¶çš„å›žè°ƒå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼šfunction (value, key, ownerSet){ }å‚æ•° 1ï¼šéåŽ†åˆ°çš„å…ƒç´ çš„å€¼å‚æ•° 2ï¼šå¯¹ set é›†åˆæ¥è¯´ï¼Œå‚æ•° 2 çš„å€¼å’Œå‚æ•° 1 çš„å€¼æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚å‚æ•° 3ï¼šè¿™ä¸ª set è‡ªå·± 1234let set = new Set(["a", "c", "b", 9]);set.forEach(function(v, k, s) &#123; console.log(v + " " + (v === k) + " " + (s === set)); // æ°¸è¿œæ˜¯true&#125;); å°† Set è½¬æ¢ä¸ºæ•°ç»„ å°†æ•°ç»„è½¬æ¢ä¸º Set ç›¸å½“å®¹æ˜“ï¼Œä½ åªéœ€è¦åœ¨åˆ›å»º Set é›†åˆæ—¶æŠŠæ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’è¿›åŽ»å³å¯ã€‚æŠŠ Set è½¬æ¢ä¸ºæ•°ç»„ä½¿ç”¨å‰é¢è®²åˆ°çš„æ‰©å±•è¿ç®—ç¬¦ä¹Ÿå¾ˆå®¹æ˜“ 123let set = new Set([1, 2, 3, 3, 3, 4, 5]), arr = [...set]; //ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚é‚£ä¹ˆæ–°çš„æ•°ç»„ä¸­å·²ç»æ²¡æœ‰äº†é‡å¤å…ƒç´ ã€‚æ³¨æ„ï¼Œæ­¤å¯¹setå¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“console.log(arr); // [1,2,3,4,5] è¿™ç§æƒ…å†µåœ¨éœ€è¦åŽ»æ•°ç»„ä¸­é‡å¤å…ƒç´ çš„æ—¶å€™éžå¸¸å¥½ç”¨ã€‚ 1234567function eliminateDuplicates(items) &#123; return [...new Set(items)];&#125;let numbers = [1, 2, 3, 3, 3, 4, 5, 5, 2, 1, 1], //è¿”å›žçš„æ˜¯æ–°çš„æ²¡æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ã€‚ noDuplicates = eliminateDuplicates(numbers);console.log(noDuplicates); // [1,2,3,4,5] Set æä¾›äº†å¤„ç†ä¸€ç³»åˆ—å€¼çš„æ–¹å¼ï¼Œä¸è¿‡å¦‚æžœæƒ³ç»™è¿™äº›å€¼æ·»åŠ ä¸€äº›é™„åŠ æ•°æ®åˆ™æ˜¾å¾—åŠ›ä¸ä»Žå¿ƒï¼Œæ‰€ä»¥åˆæä¾›äº†ä¸€ç§æ–°çš„æ•°æ®ç»“æž„ï¼šMap. Map æ•°æ®ç»“æž„â€‹ECMAScript 6 ä¸­çš„ map ç±»åž‹åŒ…å«ä¸€ç»„æœ‰åºçš„é”®å€¼å¯¹ï¼Œå…¶ä¸­é”®å’Œå€¼å¯ä»¥æ˜¯ä»»ä½•ç±»åž‹ã€‚ â€‹ é”®çš„æ¯”è¾ƒç»“æžœç”± Object.is() æ¥å†³å®šï¼Œæ‰€ä»¥ä½ å¯ä»¥åŒæ—¶ä½¿ç”¨ 5 å’Œ â€œ5â€ åšä¸ºé”®æ¥å­˜å‚¨ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸åŒçš„ç±»åž‹ã€‚ â€‹ è¿™å’Œä½¿ç”¨å¯¹è±¡å±žæ€§åšä¸ºå€¼çš„æ–¹æ³•å¤§ç›¸å¾„åº­ï¼Œå› ä¸º å¯¹è±¡çš„å±žæ€§ä¼šè¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»åž‹ã€‚ åˆ›å»º Map å¯¹è±¡å’Œ Map çš„åŸºæœ¬çš„å­˜å–æ“ä½œ Map åˆ›å»ºä¹Ÿæ˜¯ä½¿ç”¨ Map æž„é€ å‡½æ•°å‘ Map å­˜å‚¨é”®å€¼å¯¹ä½¿ç”¨ set(key, value);æ–¹æ³•å¯ä»¥ä½¿ç”¨ get(key),æ¥èŽ·å–æŒ‡å®š key å¯¹åº”çš„ value 12345678var map = new Map();map.set("a", "lisi");map.set("b", "zhangsan");map.set("b", "zhangsan222"); // ç¬¬äºŒæ¬¡æ·»åŠ ï¼Œæ–°çš„valueä¼šæ›¿æ¢æŽ‰æ—§çš„console.log(map.get("a"));console.log(map.get("b")); //zhangsan222console.log(map.get("c")); //undefined.å¦‚æžœkeyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›žundefinedconsole.log(map.size); //2 Map ä¸Ž Set ç±»ä¼¼çš„ 3 ä¸ªæ–¹æ³• has(key) - åˆ¤æ–­ç»™å®šçš„ key æ˜¯å¦åœ¨ map ä¸­å­˜åœ¨ delete(key) - ç§»é™¤ map ä¸­çš„ key åŠå¯¹åº”çš„å€¼ clear() - ç§»é™¤ map ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ åˆå§‹åŒ– Map åˆ›å»º Map çš„æ—¶å€™ä¹Ÿå¯ä»¥åƒ Set ä¸€æ ·ä¼ å…¥æ•°ç»„ã€‚ä½†æ˜¯ä¼ å…¥çš„æ•°ç»„ä¸­å¿…é¡»æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªä¸¤ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ä¹Ÿå°±æ˜¯ä¼ å…¥çš„å®žé™…æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼ 123456789//mapæŽ¥å—ä¸€ä¸ªäºŒç»´æ•°ç»„var map = new Map([ //æ¯ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç¬¬ä¸€ä¸ªæ˜¯mapçš„keyï¼Œç¬¬äºŒä¸ªæ˜¯mapçš„valueã€‚å¦‚æžœåªæœ‰ç¬¬ä¸€ä¸ªï¼Œåˆ™å€¼æ˜¯undefined ["name", "lisi"], ["age", 20], ["sex", "nan"]]);console.log(map.size);console.log(map.get("name")); Map çš„ forEach æ–¹æ³•1234567891011var map = new Map([["name", "æŽå››"], ["age", 20], ["sex", "nan"]]);/* å›žè°ƒå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼š å‚æ•°1ï¼šé”®å€¼å¯¹çš„value å‚æ•°2ï¼šé”®å€¼å¯¹çš„key å‚æ•°3ï¼šmapå¯¹è±¡æœ¬èº« */map.forEach(function(value, key, ownMap) &#123; console.log(`key=$&#123;key&#125; ,vlue=$&#123;value&#125;`); console.log(this);&#125;); è¿­ä»£å™¨å’Œ forâ€¦of å¾ªçŽ¯å¾ªçŽ¯é—®é¢˜12345var colors = ["red", "green", "blue"];for (var i = 0, len = colors.length; i &lt; len; i++) &#123; console.log(colors[i]);&#125; ä¸Šé¢çš„ä»£ç å†™èµ·æ¥ç®€å•ï¼Œä½†æ˜¯å®žé™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€æ±‚è‡ªå·±åŽ»æŽ§åˆ¶å˜é‡ï¼Œå¦‚æžœæœ‰åµŒå¥—çš„æƒ…å†µä¸‹ï¼Œè¿˜è¦æŽ§åˆ¶å¤šä¸ªå˜é‡ï¼Œå¾ˆå®¹æ˜“å‡ºé”™ã€‚è¿­ä»£å™¨å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ ä»€ä¹ˆæ˜¯è¿­ä»£å™¨â€‹ è¿­ä»£å™¨åªæ˜¯å¸¦æœ‰ç‰¹æ®ŠæŽ¥å£(æ–¹æ³•)çš„å¯¹è±¡ã€‚æ‰€æœ‰è¿­ä»£å™¨å¯¹è±¡éƒ½å¸¦æœ‰ next() æ–¹æ³•å¹¶è¿”å›žä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå±žæ€§çš„ç»“æžœå¯¹è±¡ã€‚è¿™äº›å±žæ€§åˆ†åˆ«æ˜¯ value å’Œ doneï¼Œå‰è€…ä»£è¡¨ä¸‹ä¸€ä¸ªä½ç½®çš„å€¼ï¼ŒåŽè€…åœ¨æ²¡æœ‰æ›´å¤šå€¼å¯ä¾›è¿­ä»£çš„æ—¶å€™ä¸º true ã€‚è¿­ä»£å™¨å¸¦æœ‰ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼Œæ¥æŒ‡å‘é›†åˆä¸­æŸä¸ªå€¼çš„ä½ç½®ã€‚å½“ next() æ–¹æ³•è°ƒç”¨åŽï¼ŒæŒ‡é’ˆä¸‹ä¸€ä½ç½®çš„å€¼ä¼šè¢«è¿”å›žã€‚ â€‹ è‹¥ä½ åœ¨æœ«å°¾çš„å€¼è¢«è¿”å›žä¹‹åŽç»§ç»­è°ƒç”¨ next()ï¼Œé‚£ä¹ˆè¿”å›žçš„ done å±žæ€§å€¼ä¸º trueï¼Œvalue çš„å€¼åˆ™ç”±è¿­ä»£å™¨è®¾å®šã€‚è¯¥å€¼å¹¶ä¸å±žäºŽæ•°æ®é›†ï¼Œè€Œæ˜¯ä¸“é—¨ä¸ºæ•°æ®å…³è”çš„é™„åŠ ä¿¡æ¯ï¼Œå¦‚è‹¥è¯¥ä¿¡æ¯å¹¶æœªæŒ‡å®šåˆ™è¿”å›ž undefined ã€‚è¿­ä»£å™¨è¿”å›žçš„å€¼å’Œå‡½æ•°è¿”å›žå€¼æœ‰äº›ç±»ä¼¼ï¼Œå› ä¸ºä¸¤è€…éƒ½æ˜¯è¿”å›žç»™è°ƒç”¨è€…ä¿¡æ¯çš„æœ€ç»ˆæ‰‹æ®µã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ES5 çŸ¥è¯†åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ 1234567891011121314151617181920212223function createIterator(items) &#123; var i = 0; return &#123; next: function() &#123; var done = i &gt;= items.length; var value = !done ? items[i++] : undefined; return &#123; done: done, value: value &#125;; &#125; &#125;;&#125;//åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨æŒ‡å®šæ•°ç»„ä¸Šé¢è¿­ä»£çš„è¿­ä»£å™¨å¯¹è±¡ã€‚var iterator = createIterator([1, 2, 3]);console.log(iterator.next()); // "&#123; value: 1, done: false &#125;"console.log(iterator.next()); // "&#123; value: 2, done: false &#125;"console.log(iterator.next()); // "&#123; value: 3, done: false &#125;"console.log(iterator.next()); // "&#123; value: undefined, done: true &#125;"// for all further callsconsole.log(iterator.next()); // "&#123; value: undefined, done: true &#125;" ä»Žä»¥ä¸Šçš„ç¤ºä¾‹æ¥çœ‹ï¼Œæ ¹æ® ECMAScript 6 è§„èŒƒæ¨¡æ‹Ÿå®žçŽ°çš„è¿­ä»£å™¨è¿˜æ˜¯æœ‰äº›å¤æ‚ã€‚å¹¸è¿çš„æ˜¯ï¼ŒECMAScript 6 è¿˜æä¾›äº†ç”Ÿæˆå™¨ï¼Œä½¿å¾—è¿­ä»£å™¨å¯¹è±¡çš„åˆ›å»ºå®¹æ˜“äº†è®¸å¤šã€‚ ç”Ÿæˆå™¨å‡½æ•° ç”Ÿæˆå™¨å‡½æ•°å°±æ˜¯è¿”å›žè¿­ä»£å™¨çš„å‡½æ•°ï¼ç”Ÿæˆå™¨å‡½æ•°ç”± function å…³é”®å­—å’Œä¹‹åŽçš„æ˜Ÿå·ï¼ˆ*ï¼‰æ ‡è¯†ï¼ŒåŒæ—¶è¿˜èƒ½ä½¿ç”¨æ–°çš„ yield å…³é”®å­—ã€‚çœ‹ä¸‹é¢ä»£ç ï¼š 123456789101112//ç”Ÿæˆå™¨å‡½æ•°ã€‚ æ³¨æ„ä¸­é—´çš„ * ä¸èƒ½ä¸¢function* createIterator() &#123; //æ¯ä¸ªyieldçš„åŽé¢çš„å€¼è¡¨ç¤ºæˆ‘ä»¬è¿­ä»£åˆ°çš„å€¼ã€‚ yieldä¹Ÿå®šä¹‰äº†æˆ‘ä»¬è¿­ä»£çš„é¡ºåºã€‚ yield 3; yield 4; yield 2;&#125;var it = createIterator();console.log(it.next().value); // 3console.log(it.next().value); // 4console.log(it.next().value); // 2console.log(it.next().value); //undefined è¿­ä»£å™¨å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°ï¼Œæ‰€ä»¥ä»–å¯ä»¥åƒæ­£å¸¸çš„å‡½æ•°ä¸€æ ·è°ƒç”¨ï¼Œä½†æ˜¯ç”Ÿæˆå™¨å‡½æ•°ä¼šè‡ªåŠ¨è¿”å›žä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚æ¯è°ƒç”¨ä¸€æ¬¡è¿­ä»£å™¨çš„ next æ–¹æ³•ï¼Œå¦‚æžœç¢°åˆ° yield éƒ½ä¼šè¿”å›žä¸€ä¸ªè¿­ä»£åˆ°çš„ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åŽåœæ­¢ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°ä¸‹æ¬¡è°ƒç”¨ next æ–¹æ³•ï¼Œä¼šä»Žä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚ 1234567891011121314151617//è¿™ä¸ªè¿­ä»£å™¨å‡½æ•°è¿”å›žçš„è¿­ä»£å™¨å¯ä»¥è¿­ä»£ä¼ å…¥çš„æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚function* createIterator(items) &#123; for (let i = 0; i &lt; items.length; i++) &#123; //æ¯è°ƒç”¨ä¸€æ¬¡nextï¼Œç¢°åˆ°yildç¨‹åºå°±ä¼šåœæ­¢ï¼Œå¹¶è¿”å›žè¿­ä»£åˆ°çš„å¯¹è±¡ &#123;value : items[i], done : true&#125; yield items[i]; &#125;&#125;let iterator = createIterator([1, 2, 3]);console.log(iterator.next()); // "&#123; value: 1, done: false &#125;"console.log(iterator.next()); // "&#123; value: 2, done: false &#125;"console.log(iterator.next()); // "&#123; value: 3, done: false &#125;"console.log(iterator.next()); // "&#123; value: undefined, done: true &#125;"// è¿›ä¸€æ­¥è°ƒç”¨console.log(iterator.next()); // "&#123; value: undefined, done: true &#125;" æ³¨æ„ï¼šyield å…³é”®å­—åªèƒ½ ç›´æŽ¥ç”¨åœ¨ç”Ÿæˆå™¨å†…éƒ¨ ã€‚åœ¨å…¶å®ƒåœ°æ–¹ç”šè‡³æ˜¯ç”Ÿæˆå™¨å†…éƒ¨çš„å‡½æ•°ä¸­ä½¿ç”¨éƒ½ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ã€‚ ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼ ä½ å¯ä»¥ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼æ¥åˆ›å»ºç”Ÿæˆå™¨ï¼Œåªéœ€åœ¨ function å…³é”®å­—å’Œåœ†æ‹¬å·ä¹‹é—´æ·»åŠ æ˜Ÿå·ï¼ˆ*ï¼‰ã€‚ä¾‹å¦‚ï¼š 123456789101112131415let createIterator = function*(items) &#123; for (let i = 0; i &lt; items.length; i++) &#123; yield items[i]; &#125;&#125;;let iterator = createIterator([1, 2, 3]);console.log(iterator.next()); // "&#123; value: 1, done: false &#125;"console.log(iterator.next()); // "&#123; value: 2, done: false &#125;"console.log(iterator.next()); // "&#123; value: 3, done: false &#125;"console.log(iterator.next()); // "&#123; value: undefined, done: true &#125;"// è¿›ä¸€æ­¥è°ƒç”¨console.log(iterator.next()); // "&#123; value: undefined, done: true &#125;" æ³¨æ„ï¼šæ— æ³•ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥åˆ›å»ºç”Ÿæˆå™¨ã€‚ å¯è¿­ä»£ç±»åž‹å’Œ for-of è¿­ä»£å¾ªçŽ¯ è¿­ä»£å™¨çš„ä¸»è¦å·¥ä½œå°±æ˜¯è¿­ä»£æ•°æ®ï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å¯ä»¥è¿­ä»£çš„ã€‚ â€‹ ä¸Žè¿­ä»£å™¨ç´§å¯†ç›¸å…³çš„æ˜¯ï¼Œå¯è¿­ä»£ç±»åž‹æ˜¯æŒ‡é‚£äº›åŒ…å« Symbol.iterator å±žæ€§çš„å¯¹è±¡ã€‚â€‹ è¯¥ symbol ç±»åž‹å®šä¹‰äº†è¿”å›žè¿­ä»£å™¨çš„å‡½æ•°ã€‚åœ¨ ECMAScript 6 ä¸­ï¼Œæ‰€æœ‰çš„é›†åˆå¯¹è±¡ï¼ˆæ•°ç»„ï¼Œset å’Œ mapï¼‰ä¸Žå­—ç¬¦ä¸²éƒ½æ˜¯å¯è¿­ä»£ç±»åž‹ï¼Œå› æ­¤å®ƒä»¬éƒ½æœ‰é»˜è®¤çš„è¿­ä»£å™¨ã€‚å¯è¿­ä»£ç±»åž‹æ˜¯ä¸ºäº† ECMAScript6 æ–°æ·»åŠ çš„ for-of å¾ªçŽ¯è€Œè®¾è®¡çš„ã€‚â€‹ æ¢å¥è¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹åªæœ‰ æ•°ç»„ã€setã€Map å’Œå­—ç¬¦ä¸²æ‰å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨åŽ»è¿­ä»£ã€‚ (ä¹Ÿå°±å¯ä»¥ä½¿ç”¨ forâ€¦of äº†)â€‹forâ€¦of å¾ªçŽ¯åªè¿­ä»£å‡ºæ¥çš„å…ƒç´ ï¼Œæ ¹æœ¬ä¸ç®¡ç´¢å¼•ï¼ä¸ç®¡ç´¢å¼•ï¼ä¸ç®¡ç´¢å¼•ï¼é‡è¦çš„é—®é¢˜é‡å¤ä¸‰éï¼ ä½¿ç”¨ forâ€¦of è¿­ä»£æ•°ç»„ï¼š 1234var arr = ["a", "c", "b", "d"];for (var item of arr) &#123; console.log(item);&#125; ä½¿ç”¨ forâ€¦of è¿­ä»£ Set: 1234var set = new Set(["a", "c", "b", "d"]);for (var item of set) &#123; console.log(item);&#125; ä½¿ç”¨ forâ€¦of è¿­ä»£ Mapï¼š 12345var map = new Map([["name", "lisi"], ["sex", "ç”·"], ["age", 20]]);map.set("aaa", "bbb");for (var item of map) &#123; console.log(item); //æ³¨æ„ï¼šè¿™é‡Œè¿­ä»£åˆ°çš„æ˜¯ç”±keyå’Œvalueç»„æˆçš„æ•°ç»„ã€‚&#125; ä½¿ç”¨ for â€¦ of è¿­ä»£å­—ç¬¦ä¸² 1234var s = "abcd";for (let c of s) &#123; console.log(c);&#125; æ³¨æ„ï¼šforâ€¦of åªèƒ½è¿­ä»£å¯ä»¥è¿­ä»£çš„å¯¹è±¡ï¼Œå¯¹äºŽéžå¯è¿­ä»£å¯¹è±¡ä½¿ç”¨ forâ€¦of ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ è¯´æ˜Žï¼šä»¥æ•°ç»„ä¸ºä¾‹ã€‚ â€‹ for-of å¾ªçŽ¯é¦–å…ˆä¼šè°ƒç”¨ values æ•°ç»„çš„ Symbol.iterator æ–¹æ³•æ¥èŽ·å–è¿­ä»£å™¨ï¼ˆSymbol.iterator æ–¹æ³•ç”±å¹•åŽçš„ JavaScript å¼•æ“Žè°ƒç”¨ï¼‰ã€‚ä¹‹åŽå†è°ƒç”¨ iterator.next() å¹¶å°†ç»“æžœå¯¹è±¡ä¸­çš„ value å±žæ€§å€¼ï¼Œå³ 1ï¼Œ2ï¼Œ3ï¼Œä¾æ¬¡èµ‹ç»™ num å˜é‡ã€‚å½“æ£€æµ‹åˆ°ç»“æžœå¯¹è±¡ä¸­çš„ done ä¸º trueï¼Œå¾ªçŽ¯ä¼šé€€å‡ºï¼Œæ‰€ä»¥ num ä¸ä¼šè¢«èµ‹å€¼ä¸º undefined ã€‚ â€‹ å¦‚æžœä½ åªæƒ³ç®€å•çš„è¿­ä»£æ•°ç»„æˆ–é›†åˆä¸­çš„å…ƒç´ ï¼Œé‚£ä¹ˆ for-of å¾ªçŽ¯æ¯” for è¦æ›´å¥½ã€‚for-of ä¸€èˆ¬ä¸å®¹æ˜“å‡ºé”™ï¼Œå› ä¸ºè¦è¿½è¸ªçš„æ¡ä»¶æ›´å°‘ã€‚æ‰€ä»¥è¿˜æ˜¯æŠŠ for å¾ªçŽ¯ç•™ç»™å¤æ‚æŽ§åˆ¶æ¡ä»¶çš„éœ€æ±‚å§ã€‚ è®¿é—®å¯è¿­ä»£ç±»åž‹çš„é»˜è®¤è¿­ä»£å™¨ Symbol.iterator æ˜¯å¯è¿­ä»£ç±»åž‹çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥èŽ·å–åˆ°ä»–çš„é»˜è®¤è¿­ä»£å™¨ã€‚ 123let s = "abcd";let it = s[Symbol.iterator](); //è°ƒç”¨å­—ç¬¦ä¸²çš„Symbol.iteratoræ–¹æ³•console.log(it.next()); //è¿”å›žè¿­ä»£å™¨è¿­ä»£åˆ°çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ å› ä¸º Symbol å¯ä»¥è¿”å›žä¸€ä¸ªå¯¹è±¡çš„é»˜è®¤è¿­ä»£å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¿­ä»£ 123456789function isIterable(object) &#123; return typeof object[Symbol.iterator] === "function";&#125;console.log(isIterable([1, 2, 3])); // trueconsole.log(isIterable("Hello")); // trueconsole.log(isIterable(new Map())); // trueconsole.log(isIterable(new Set())); // trueconsole.log(isIterable(&#123; name: "æŽå››" &#125;)); // falseã€‚æ™®é€šå¯¹è±¡ä¸å¯è¿­ä»£ è‡ªå®šä¹‰å¯è¿­ä»£ç±»åž‹ å¼€å‘è€…è‡ªå®šä¹‰çš„å¯¹è±¡é»˜è®¤æ˜¯ä¸å¯è¿­ä»£ç±»åž‹ï¼Œä½†æ˜¯ä½ å¯ä»¥ä¸ºå®ƒä»¬åˆ›å»º Symbol.iterator å±žæ€§å¹¶æŒ‡å®šä¸€ä¸ªç”Ÿæˆå™¨æ¥ä½¿è¿™ä¸ªå¯¹è±¡å¯è¿­ä»£ã€‚ä¾‹å¦‚ï¼š 12345678910111213141516let collection = &#123; items: [], *[Symbol.iterator]() &#123; for (let item of this.items) &#123; yield item; &#125; &#125;&#125;;collection.items.push(1);collection.items.push(2);collection.items.push(3);for (let x of collection) &#123; console.log(x);&#125; ç±» å’Œå¤§å¤šæ•°é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼ˆobject-oriented programming languageï¼‰ä¸åŒï¼ŒJavaScript åœ¨è¯žç”Ÿä¹‹åˆå¹¶ä¸æ”¯æŒä½¿ç”¨ç±»å’Œä¼ ç»Ÿçš„ç±»ç»§æ‰¿å¹¶ä½œä¸ºä¸»è¦çš„å®šä¹‰æ–¹å¼æ¥åˆ›å»ºç›¸ä¼¼æˆ–å…³è”çš„å¯¹è±¡ã€‚è¿™å¾ˆä»¤å¼€å‘è€…å›°æƒ‘ï¼Œè€Œä¸”åœ¨æ—©äºŽ ECMAScript 1 åˆ° ECMAScript 5 è¿™æ®µæ—¶æœŸï¼Œå¾ˆå¤šåº“éƒ½åˆ›å»ºäº†ä¸€äº›å®žç”¨å·¥å…·ï¼ˆutilityï¼‰æ¥è®© JavaScript ä»Žè¡¨å±‚ä¸Šæ”¯æŒç±»ã€‚å°½ç®¡ä¸€äº› JavaScript å¼€å‘è€…å¼ºçƒˆä¸»å¼ è¯¥è¯­è¨€ä¸éœ€è¦ç±»ï¼Œä½†ç”±äºŽå¤§é‡çš„åº“éƒ½å¯¹ç±»åšäº†å®žçŽ°ï¼ŒECMAScript 6 ä¹Ÿé¡ºåŠ¿å°†å…¶å¼•å…¥ã€‚ ES5 ä¹‹å‰çš„æ¨¡æ‹Ÿçš„ç±»â€‹ åœ¨ ECMAScript 5 æˆ–æ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼ŒJavaScript æ²¡æœ‰ç±»ã€‚å’Œç±»è¿™ä¸ªæ¦‚å¿µåŠè¡Œä¸ºæœ€æŽ¥è¿‘çš„æ˜¯åˆ›å»ºä¸€ä¸ªæž„é€ å‡½æ•°å¹¶åœ¨æž„é€ å‡½æ•°çš„åŽŸåž‹ä¸Šæ·»åŠ æ–¹æ³•ï¼Œè¿™ç§å®žçŽ°ä¹Ÿè¢«ç§°ä¸ºè‡ªå®šä¹‰çš„ç±»åž‹åˆ›å»ºï¼Œä¾‹å¦‚ï¼š 12345678910111213function PersonType(name) &#123; this.name = name;&#125;PersonType.prototype.sayName = function() &#123; console.log(this.name);&#125;;let person = new PersonType("Nicholas");person.sayName(); // è¾“å‡º "Nicholas"console.log(person instanceof PersonType); // trueconsole.log(person instanceof Object); // true è¯´æ˜Žï¼šå‰é¢çš„ PersonType æˆ‘ä»¬ä»¥å‰ä¸€ç›´å«åšæž„é€ å‡½æ•°ï¼Œå…¶å®žä»–å°±æ˜¯ä¸€ä¸ªç±»åž‹ï¼Œå› ä¸ºä»–ç¡®å®žè¡¨ç¤ºäº†ä¸€ç§ç±»åž‹ã€‚ ES6 ä¸­åŸºæœ¬çš„ç±»å£°æ˜Ž åœ¨ ES6 ç›´æŽ¥å€Ÿé‰´å…¶ä»–è¯­è¨€ï¼Œå¼•å…¥äº†ç±»çš„æ¦‚å¿µã€‚æ‰€ä»¥å†å®žçŽ°ä¸Šé¢é‚£ç§æ¨¡æ‹Ÿ çš„ç±»å°±å®¹æ˜“äº†å¾ˆå¤šã€‚ 1234567891011121314151617181920//classå…³é”®å­—å¿…é¡»æ˜¯å°å†™ã€‚ åŽé¢å°±æ˜¯è·Ÿçš„ç±»åclass PersonClass &#123; // ç­‰æ•ˆäºŽ PersonType æž„é€ å‡½æ•°ã€‚ constructor(name) &#123; //è¿™ä¸ªè¡¨ç¤ºç±»çš„æž„é€ å‡½æ•°ã€‚constuctorä¹Ÿæ˜¯å…³é”®å­—å¿…é¡»å°å†™ã€‚ this.name = name; //åˆ›å»ºå±žæ€§ã€‚ ä¹Ÿå«å½“å‰ç±»åž‹çš„è‡ªæœ‰å±žæ€§ã€‚ &#125; // ç­‰æ•ˆäºŽ PersonType.prototype.sayName. è¿™é‡Œçš„sayNameä½¿ç”¨äº†æˆ‘ä»¬å‰é¢çš„ç®€å†™çš„æ–¹å¼ã€‚ sayName() &#123; console.log(this.name); &#125;&#125;let person = new PersonClass("Nicholas");person.sayName(); // è¾“å‡º "Nicholas"console.log(person instanceof PersonClass); // trueconsole.log(person instanceof Object); // trueconsole.log(typeof PersonClass); // "function"console.log(typeof PersonClass.prototype.sayName); // "function" è¯´æ˜Žï¼š1ï¼Œè‡ªæœ‰å±žæ€§ï¼šå±žæ€§åªå‡ºçŽ°åœ¨å®žä¾‹è€Œä¸æ˜¯åŽŸåž‹ä¸Šï¼Œè€Œä¸”åªèƒ½ç”±æž„é€ å‡½æ•°å’Œæ–¹æ³•æ¥åˆ›å»ºã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œname å°±æ˜¯è‡ªæœ‰å±žæ€§ã€‚æˆ‘å»ºè®® å°½å¯èƒ½çš„å°†æ‰€æœ‰è‡ªæœ‰å±žæ€§åˆ›å»ºåœ¨æž„é€ å‡½æ•°ä¸­ï¼Œè¿™æ ·å½“æŸ¥æ‰¾å±žæ€§æ—¶å¯ä»¥åšåˆ°ä¸€ç›®äº†ç„¶ã€‚2ï¼Œç±»å£°æ˜Žåªæ˜¯ä¸Šä¾‹ä¸­è‡ªå®šä¹‰ç±»åž‹çš„è¯­æ³•ç³–ã€‚PersonClass å£°æ˜Žå®žé™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªè¡Œä¸ºå’Œ constructor æ–¹æ³•ç›¸åŒçš„æž„é€ å‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯ typeof PersonClass è¿”å›ž â€œfunctionâ€ çš„åŽŸå› ã€‚sayName() åœ¨æœ¬ä¾‹ä¸­ä½œä¸º PersonClass.prototype çš„æ–¹æ³•ï¼Œå’Œä¸Šä¸ªç¤ºä¾‹ä¸­ sayName() å’Œ PersonType.prototype å…³ç³»ä¸€è‡´ã€‚è¿™äº›ç›¸ä¼¼åº¦å…è®¸ä½ æ··åˆä½¿ç”¨è‡ªå®šä¹‰ç±»åž‹å’Œç±»è€Œä¸éœ€è¦çº ç»“ä½¿ç”¨æ–¹å¼ã€‚ è™½ç„¶ç±»å’Œä»¥å‰çš„ä½¿ç”¨æž„é€ å‡½æ•°+åŽŸåž‹çš„æ–¹å¼å¾ˆåƒï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›ä¸å¤ªç›¸åŒçš„åœ°æ–¹ï¼Œè€Œä¸”è¦ç‰¢è®°:1ï¼Œç±»å£°æ˜Žå’Œå‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»çš„å£°æ˜Žæ˜¯ä¸ä¼šè¢«æå‡çš„ã€‚ç±»å£°æ˜Žçš„è¡Œä¸ºå’Œ let æ¯”è¾ƒç›¸ä¼¼ï¼Œæ‰€ä»¥å½“æ‰§è¡Œæµä½œç”¨åˆ°ç±»å£°æ˜Žä¹‹å‰ç±»ä¼šå­˜åœ¨äºŽæš‚å­˜æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰å†…ã€‚2ï¼Œç±»å£°æ˜Žä¸­çš„ä»£ç è‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒåŒæ—¶æ²¡æœ‰ä»»ä½•åŠžæ³•å¯ä»¥æ‰‹åŠ¨åˆ‡æ¢åˆ°éžä¸¥æ ¼æ¨¡å¼ã€‚3ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯æžšä¸¾çš„ï¼ˆnon-enumerableï¼‰ï¼Œè¿™å’Œè‡ªå®šä¹‰ç±»åž‹ç›¸æ¯”æ˜¯ä¸ªæ˜¾è‘—çš„å·®å¼‚ï¼Œå› ä¸ºåŽè€…éœ€è¦ä½¿ç”¨ Object.defineProperty() æ‰èƒ½å®šä¹‰ä¸å¯æžšä¸¾çš„æ–¹æ³•ã€‚4ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½ä¸èƒ½ä½¿ç”¨ new æ¥è°ƒç”¨ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å†…éƒ¨æ–¹æ³• [[Construct]]ã€‚5ï¼Œä¸ä½¿ç”¨ new æ¥è°ƒç”¨ç±»æž„é€ å‡½æ•°ä¼šæŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯ å¿…é¡»ä½¿ç”¨ new ç±»() çš„æ–¹å¼ä½¿ç”¨6ï¼Œè¯•å›¾åœ¨ç±»çš„æ–¹æ³•å†…éƒ¨é‡å†™ç±»åçš„è¡Œä¸ºä¼šæŠ›å‡ºé”™è¯¯ã€‚ï¼ˆå› ä¸ºåœ¨ç±»çš„å†…éƒ¨ï¼Œç±»åæ˜¯ä½œä¸ºä¸€ä¸ªå¸¸é‡å­˜åœ¨çš„ï¼‰ åŒ¿åç±»è¡¨è¾¾å¼ å‡½æ•°æœ‰å‡½æ•°è¡¨è¾¾å¼ï¼Œç±»ä¹Ÿæœ‰ç±»è¡¨è¾¾å¼ã€‚ç±»è¡¨è¾¾å¼çš„åŠŸèƒ½å’Œå‰é¢çš„ç±»çš„å£°æ˜Žæ˜¯ä¸€æ ·çš„ã€‚ 123456789101112let PersonClass = class &#123; // ç­‰æ•ˆäºŽ PersonType æž„é€ å‡½æ•° constructor(name) &#123; this.name = name; &#125; // ç­‰æ•ˆäºŽ PersonType.prototype.sayName sayName() &#123; console.log(this.name); &#125;&#125;;let person = new PersonClass("Nicholas");person.sayName(); // è¾“å‡º "Nicholas" å…·åç±»è¡¨è¾¾å¼1234567891011let PersonClass = class PersonClass2 &#123; // ç­‰æ•ˆäºŽ PersonType æž„é€ å‡½æ•° constructor(name) &#123; this.name = name; &#125; // ç­‰æ•ˆäºŽ PersonType.prototype.sayName sayName() &#123; console.log(this.name); &#125;&#125;; æ³¨æ„ï¼šå…·åç±»è¡¨è¾¾å¼ä¸­ PersonClass2 è¿™ä¸ªç±»ååªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®åˆ°ï¼Œåœ¨å¤–é¢æ˜¯è®¿é—®ä¸åˆ°çš„. ä½œä¸ºä¸€ç­‰å…¬æ°‘çš„ç±»åž‹ åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°æ˜¯ä½œä¸ºä¸€ç­‰å…¬æ°‘å­˜åœ¨çš„ã€‚(ä¹Ÿå«ä¸€ç­‰å‡½æ•°)ã€‚ç±»ä¹Ÿæ˜¯ä¸€ç­‰å…¬æ°‘ã€‚ ç±»å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ 12345678910111213function createObject(classDef) &#123; return new classDef();&#125;let obj = createObject( class &#123; sayHi() &#123; console.log("Hi!"); &#125; &#125;);obj.sayHi(); // "Hi!" ç«‹å³è°ƒç”¨ç±»æž„é€ å‡½æ•°ï¼Œåˆ›å»ºå•ä¾‹ 1234567891011let person = new class &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;("Nicholas");person.sayName(); // "Nicholas" åŠ¨æ€è®¡ç®—ç±»æˆå‘˜çš„å‘½å ç±»çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥åƒæˆ‘ä»¬å‰é¢çš„å¯¹è±¡çš„å±žæ€§ä¸€æ ·å¯ä»¥åŠ¨æ€è®¡ç®—.( ä½¿ç”¨[ ] æ¥è®¡ç®—) 123456789101112let methodName = "sayName";class PersonClass &#123; constructor(name) &#123; this.name = name; &#125; [methodName]() &#123; console.log(this.name); &#125;&#125;let me = new PersonClass("Nicholas");me.sayName(); // "Nicholas" é™æ€æˆå‘˜ åœ¨ ES5 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥ç»™æž„é€ å‡½æ•°æ·»åŠ å±žæ€§æˆ–æ–¹æ³•æ¥æ¨¡æ‹Ÿé™æ€æˆå‘˜ã€‚ 123456789101112function PersonType(name) &#123; this.name = name;&#125;// é™æ€æ–¹æ³•ã€‚ ç›´æŽ¥æ·»åŠ åˆ°æž„é€ æ–¹æ³•ä¸Šã€‚ (å…¶å®žæ˜¯æŠŠæž„é€ å‡½æ•°å½“åšä¸€ä¸ªæ™®é€šçš„å¯¹è±¡æ¥ç”¨ã€‚)PersonType.create = function(name) &#123; return new PersonType(name);&#125;;// å®žä¾‹æ–¹æ³•PersonType.prototype.sayName = function() &#123; console.log(this.name);&#125;;var person = PersonType.create("Nicholas"); åœ¨ä¸Šé¢çš„ create æ–¹æ³•åœ¨å…¶ä»–è¯­è¨€ä¸­ä¸€èˆ¬éƒ½æ˜¯ä½œä¸ºé™æ€æ–¹æ³•æ¥ä½¿ç”¨çš„ã€‚ECMAScript 6 çš„ç±»é€šè¿‡åœ¨æ–¹æ³•ä¹‹å‰ä½¿ç”¨æ­£å¼çš„ static å…³é”®å­—ç®€åŒ–äº†é™æ€æ–¹æ³•çš„åˆ›å»ºã€‚ä¾‹å¦‚ï¼Œä¸‹ä¾‹ä¸­çš„ç±»å’Œä¸Šä¾‹ç›¸æ¯”æ˜¯ç­‰æ•ˆçš„ï¼š 123456789101112131415161718class PersonClass &#123; // ç­‰æ•ˆäºŽ PersonType æž„é€ å‡½æ•° constructor(name) &#123; this.name = name; &#125; // ç­‰æ•ˆäºŽ PersonType.prototype.sayName sayName() &#123; console.log(this.name); &#125; // ç­‰æ•ˆäºŽ PersonType.createã€‚ static create(name) &#123; return new PersonClass(name); &#125;&#125;let person = PersonClass.create("Nicholas"); æ³¨æ„ï¼šé™æ€æˆå‘˜é€šè¿‡å®žä¾‹å¯¹è±¡ä¸èƒ½è®¿é—®ï¼Œåªèƒ½é€šè¿‡ç±»åè®¿é—®ï¼ï¼ï¼ ES6 ä¸­çš„ç»§æ‰¿ åœ¨ ES6 ä¹‹å‰è¦å®Œæˆç»§æ‰¿ï¼Œéœ€è¦å†™å¾ˆå¤šçš„ä»£ç ã€‚çœ‹ä¸‹é¢çš„ç»§æ‰¿çš„ä¾‹å­ï¼š 1234567891011121314151617181920function Father(name) &#123; this.name = name;&#125;Father.prototype.sayName = function() &#123; console.log(this.name);&#125;;function Son(name, age) &#123; Father.call(this, name); this.age = age;&#125;Son.prototype = new Father();Son.prototype.constructor = Son;Son.prototype.sayAge = function() &#123; console.log(this.age);&#125;;var son1 = new Son("å„¿å­", 20);son1.sayAge(); //20son1.sayName(); //å„¿å­ ç»§æ‰¿çš„åŸºæœ¬å†™æ³• å¦‚æžœåœ¨ ES6 é€šè¿‡ç±»çš„æ–¹å¼å®Œæˆç»§æ‰¿å°±ç®€å•äº†å¾ˆå¤šã€‚éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–°çš„å…³é”®å­—ï¼šextends 12345678910111213141516171819202122232425class Father &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;class Son extends Father &#123; //extentsåŽé¢è·Ÿè¡¨ç¤ºè¦ç»§æ‰¿çš„ç±»åž‹ constructor(name, age) &#123; super(name); //ç›¸å½“äºŽä»¥å‰çš„ï¼šFather.call(this, name); this.age = age; &#125; //å­ç±»ç‹¬æœ‰çš„æ–¹æ³• sayAge() &#123; console.log(this.age); &#125;&#125;var son1 = new Son("æŽå››", 30);son1.sayAge();son1.sayName();console.log(son1 instanceof Son); // trueconsole.log(son1 instanceof Father); //true è¿™ç§ç»§æ‰¿æ–¹æ³•ï¼Œå’Œæˆ‘ä»¬å‰é¢æåˆ°çš„æž„é€ å‡½æ•°+åŽŸåž‹çš„ç»§æ‰¿æ–¹å¼æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯å†™èµ·æ¥æ›´ç®€å•ï¼Œå¯è¯»æ€§ä¹Ÿæ›´å¥½ã€‚å…³äºŽ super çš„ä½¿ç”¨ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š1ï¼Œä½ åªèƒ½åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨ super()ï¼Œå¦åˆ™ï¼ˆæ²¡æœ‰ä½¿ç”¨ extends çš„ç±»æˆ–å‡½æ•°ä¸­ä½¿ç”¨ï¼‰ä¸€ä¸ªé”™è¯¯ä¼šè¢«æŠ›å‡ºã€‚2ï¼Œä½ å¿…é¡»åœ¨æž„é€ å‡½æ•°çš„èµ·å§‹ä½ç½®è°ƒç”¨ super()ï¼Œå› ä¸ºå®ƒä¼šåˆå§‹åŒ– thisã€‚ä»»ä½•åœ¨ super() ä¹‹å‰è®¿é—® this çš„è¡Œä¸ºéƒ½ä¼šé€ æˆé”™è¯¯ã€‚ä¹Ÿå³æ˜¯è¯´ super()å¿…é¡»æ”¾åœ¨æž„é€ å‡½æ•°çš„é¦–è¡Œã€‚3ï¼Œåœ¨ç±»æž„é€ å‡½æ•°ä¸­ï¼Œå”¯ä¸€èƒ½é¿å…è°ƒç”¨ super() çš„åŠžæ³•æ˜¯è¿”å›žä¸€ä¸ªå¯¹è±¡ã€‚ åœ¨å­ç±»ä¸­å±è”½çˆ¶ç±»çš„æ–¹æ³• å¦‚æžœåœ¨å­ç±»ä¸­å£°æ˜Žä¸Žçˆ¶ç±»ä¸­çš„åŒåçš„æ–¹æ³•ï¼Œåˆ™ä¼šè¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ã€‚(è¿™ç§æƒ…å†µåœ¨å…¶ä»–è¯­è¨€ä¸­ç§°ä¹‹ä¸º æ–¹æ³•çš„è¦†å†™ã€é‡å†™ ) 12345678910111213141516171819202122232425262728class Father &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;class Son extends Father &#123; //extentsåŽé¢è·Ÿè¡¨ç¤ºè¦ç»§æ‰¿çš„ç±»åž‹ constructor(name, age) &#123; super(name); //ç›¸å½“äºŽä»¥å‰çš„ï¼šFather.call(this, name); this.age = age; &#125; //å­ç±»ç‹¬æœ‰çš„æ–¹æ³• sayAge() &#123; console.log(this.age); &#125; //å­ç±»ä¸­çš„æ–¹æ³•ä¼šå±è”½åˆ°çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ã€‚ sayName() &#123; super.syaName(); //è°ƒç”¨è¢«è¦†ç›–çš„çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚ console.log("æˆ‘æ˜¯å­ç±»çš„æ–¹æ³•ï¼Œæˆ‘å±è”½äº†çˆ¶ç±»ï¼š" + name); &#125;&#125;var son1 = new Son("æŽå››", 30);son1.sayAge();son1.sayName(); å¦‚æžœåœ¨å­ç±»ä¸­åˆç¡®å®žéœ€è¦è°ƒç”¨çˆ¶ç±»ä¸­è¢«è¦†ç›–çš„æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ super.æ–¹æ³•()æ¥å®Œæˆã€‚æ³¨æ„ï¼š1ï¼Œå¦‚æžœæ˜¯è°ƒç”¨æž„é€ æ–¹æ³•ï¼Œåˆ™ super ä¸è¦åŠ ç‚¹ï¼Œè€Œä¸”å¿…é¡»æ˜¯åœ¨å­ç±»æž„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œè°ƒç”¨çˆ¶ç±»çš„æž„é€ æ–¹æ³•2ï¼Œæ™®é€šæ–¹æ³•è°ƒç”¨éœ€è¦ä½¿ç”¨ super.çˆ¶ç±»çš„æ–¹æ³•() æ¥è°ƒç”¨ã€‚ é™æ€æ–¹æ³•ä¹Ÿå¯ä»¥ç»§æ‰¿1234567class Father &#123; static foo() &#123; console.log("æˆ‘æ˜¯çˆ¶ç±»çš„é™æ€æ–¹æ³•"); &#125;&#125;class Son extends Father &#123;&#125;Son.foo(); //å­ç±»ä¹Ÿç»§æ‰¿äº†çˆ¶ç±»çš„é™æ€æ–¹æ³•ã€‚ è¿™ç§æ–¹å¼è°ƒç”¨å’Œç›´æŽ¥é€šè¿‡çˆ¶ç±»åè°ƒç”¨æ—¶ä¸€æ ·çš„ã€‚ Moudle JavaScript é‡‡ç”¨ â€œå…±äº«ä¸€åˆ‡â€ çš„ä»£ç åŠ è½½æ–¹å¼æ˜¯è¯¥è¯­è¨€ä¸­æœ€ä»¤äººè¿·æƒ‘ä¸”å®¹æ˜“å‡ºé”™çš„æ–¹é¢ä¹‹ä¸€ã€‚å…¶å®ƒè¯­è¨€ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰çš„æ¦‚å¿µæ¥å®šä¹‰ä»£ç çš„ä½œç”¨èŒƒå›´ï¼Œç„¶è€Œåœ¨ ECMAScript 6 ä¹‹å‰ï¼Œæ¯ä¸ª JavaScript æ–‡ä»¶ä¸­å®šä¹‰çš„å†…å®¹éƒ½ç”±å…¨å±€ä½œç”¨åŸŸå…±äº«ã€‚å½“ web åº”ç”¨å˜å¾—å¤æ‚å¹¶éœ€è¦ä¹¦å†™æ›´å¤šçš„ JavaScript ä»£ç æ—¶ï¼Œä¸Šè¿°åŠ è½½æ–¹å¼ä¼šå‡ºçŽ°å‘½åå†²çªæˆ–å®‰å…¨æ–¹é¢çš„é—®é¢˜ã€‚ECMAScript 6 çš„ç›®æ ‡ä¹‹ä¸€å°±æ˜¯è§£å†³ä½œç”¨åŸŸçš„é—®é¢˜å¹¶å°† JavaScript åº”ç”¨ä¸­çš„ä»£ç æ•´ç†å¾—æ›´æœ‰æ¡ç†ï¼ŒäºŽæ˜¯æ¨¡å—åº”è¿è€Œç”Ÿã€‚ ä»€ä¹ˆæ˜¯æ¨¡å—â€‹ æ¨¡å—æ˜¯æŒ‡é‡‡å–ä¸åŒäºŽçŽ°æœ‰åŠ è½½æ–¹å¼çš„ JavaScript æ–‡ä»¶ï¼ˆä¸Ž script è¿™ç§ä¼ ç»Ÿçš„åŠ è½½æ¨¡å¼ç›¸å¯¹ï¼‰ã€‚è¿™ç§æ–¹å¼å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºå®ƒå’Œ script ä½¿ç”¨ä¸åŒçš„è¯­ä¹‰ï¼š æ¨¡å—ä¸­çš„ä»£ç è‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¹¶æ— ä»»ä½•åŠžæ³•ä¿®æ”¹ä¸ºéžä¸¥æ ¼æ¨¡å¼ã€‚ æ¨¡å—ä¸­çš„é¡¶çº§ï¼ˆtop levelï¼‰å˜é‡ä¸ä¼šè¢«æ·»åŠ åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ã€‚å®ƒä»¬åªå­˜åœ¨äºŽå„è‡ªçš„æ¨¡å—ä¸­çš„é¡¶çº§ä½œç”¨åŸŸã€‚ æ¨¡å—é¡¶çº§ä½œç”¨åŸŸä¸­çš„ this ä¸º undefined ã€‚ æ¨¡å—ä¸å…è®¸å­˜åœ¨ HTML å¼çš„æ³¨é‡Šï¼ˆJavaScript åŽ†å²æ‚ ä¹…çš„é—ç•™ç‰¹æ€§ï¼‰ã€‚ æ¨¡å—å¿…é¡»è¾“å‡ºå¯è¢«æ¨¡å—å¤–éƒ¨ä»£ç ä½¿ç”¨çš„ç›¸å…³å†…å®¹ã€‚ ä¸€ä¸ªæ¨¡å—å¯ä»¥å¼•å…¥å¦å¤–çš„æ¨¡å—ã€‚ å¯¼å‡ºæ¨¡å—â€‹ å¯ä»¥ä½¿ç”¨ export å…³é”®å­—æ¥å¯¹å¤–æš´éœ²æ¨¡å—ä¸­çš„éƒ¨åˆ†ä»£ç ã€‚â€‹ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨ä»»ä½•å˜é‡ï¼Œå‡½æ•°æˆ–ç±»å£°æ˜Žä¹‹å‰æ·»åŠ è¿™ä¸ªå…³é”®å­—æ¥è¾“å‡ºå®ƒä»¬ 123456789101112131415161718192021222324252627282930// è¾“å‡ºå˜é‡export var color = "red";export let name = "Nicholas";export const magicNumber = 7;// è¾“å‡ºå‡½æ•°export function sum(num1, num2) &#123; return num1 + num1;&#125;// è¾“å‡ºç±»export class Rectangle &#123; constructor(length, width) &#123; this.length = length; this.width = width; &#125;&#125;// è¯¥å‡½æ•°æ²¡æœ‰ä½¿ç”¨exportå…³é”®å­— æ‰€ä»¥è¯¥å‡½æ•°æ˜¯æ¨¡å—ç§æœ‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´åªèƒ½åœ¨å½“å‰æ–‡ä»¶è®¿é—®ï¼Œå‡ºäº†è¿™ä¸ªæ–‡ä»¶å°±è®¿é—®ä¸åˆ°function subtract(num1, num2) &#123; return num1 - num2;&#125;// å®šä¹‰ä¸€ä¸ªå‡½æ•°...function multiply(num1, num2) &#123; return num1 * num2;&#125;// å¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°çš„å¼•ç”¨å¯¼å‡ºã€‚ å’Œå¯¼å‡ºå‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚export &#123; multiply &#125;; å¼•å…¥æ¨¡å— ä¸€æ—¦æœ‰äº†å¯¼å‡ºå†…å®¹çš„æ¨¡å—ï¼Œåˆ™å¯ä»¥åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­ä½¿ç”¨ import å…³é”®å­—æ¥èŽ·å–ä»–ä»¬ã€‚ 1import &#123; identifier1, identifier2 &#125; from "./a.js"; â€‹ import ä¹‹åŽçš„èŠ±æ‹¬å·è¡¨ç¤ºä»Žæ¨¡å—ä¸­å¼•å…¥çš„ç»‘å®šã€‚from å…³é”®å­—è¡¨ç¤ºä»Žå“ªä¸ªæ¨¡å—å¼•å…¥è¿™äº›ç»‘å®šã€‚æ¨¡å—ç”±ä¸€ä¸ªåŒ…å«æ¨¡å—è·¯å¾„çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ˆç§°ä¸ºæ¨¡å—æŒ‡ç¤ºç¬¦ï¼Œmodule sepcifierï¼‰ã€‚æµè§ˆå™¨ä¸­çš„ &lt;script&gt;å…ƒç´ ä¹Ÿä½¿ç”¨äº†è¿™ä¸ªè·¯å¾„å½¢å¼ï¼Œæ„å‘³ç€å®ƒå¿…é¡»åŒ…å«æ–‡ä»¶æ‰©å±•åã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptç‰¹æ•ˆä¸‰å¤§ç³»åˆ—æ€»ç»“]]></title>
    <url>%2F2017%2F06%2F20%2FJavaScript%E7%89%B9%E6%95%88%E4%B8%89%E5%A4%A7%E7%B3%BB%E5%88%97%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ä¸»è¦æ˜¯è®² js çš„ DOM å…ƒç´ çš„ä½ç½®å…³ç³»çš„ä¸‰å¤§ç³»åˆ—ï¼šoffset ç³»åˆ—ï¼Œscroll ç³»åˆ—ï¼Œclient ç³»åˆ—ã€‚å¸Œæœ›ä½ çœ‹å®Œä¹‹åŽèƒ½æ›´åŠ äº†è§£ï¼Œç†Ÿç»ƒåº”ç”¨ã€‚letâ€™s go~ offset ç³»åˆ—offset ç³»åˆ—çš„ 5 ä¸ªå±žæ€§123456789101112131415161. offsetLeft : ç”¨äºŽèŽ·å–å…ƒç´ åˆ°æœ€è¿‘çš„å®šä½çˆ¶ç›’å­çš„å·¦ä¾§è·ç¦» * è®¡ç®—æ–¹å¼: å½“å‰å…ƒç´ çš„å·¦è¾¹æ¡†çš„å·¦ä¾§åˆ°å®šä½çˆ¶ç›’å­çš„å·¦è¾¹æ¡†å³ä¾§ * å¦‚æžœçˆ¶çº§ç›’å­æ²¡æœ‰å®šä½, é‚£ä¹ˆä¼šæŽ¥ç€å¾€ä¸Šæ‰¾æœ‰å®šä½çš„ç›’å­ * å¦‚æžœä¸Šçº§å…ƒç´ éƒ½æ²¡æœ‰å®šä½,é‚£ä¹ˆæœ€åŽè·ç¦»æ˜¯ä¸Žbodyçš„leftå€¼2. offsetTop : ç”¨äºŽèŽ·å–å…ƒç´ åˆ°æœ€è¿‘å®šä½çˆ¶ç›’å­çš„é¡¶éƒ¨è·ç¦» * è®¡ç®—æ–¹å¼:å½“å‰å…ƒç´ çš„ä¸Šè¾¹æ¡†çš„ä¸Šä¾§åˆ°å®šä½çˆ¶ç›’å­çš„ä¸Šè¾¹æ¡†ä¸‹ä¾§ * å¦‚æžœçˆ¶çº§ç›’å­æ²¡æœ‰å®šä½,é‚£ä¹ˆä¼šæŽ¥ç€å¾€ä¸Šæ‰¾æœ‰å®šä½çš„ç›’å­ * å¦‚æžœä¸Šçº§å…ƒç´ éƒ½æ²¡æœ‰å®šä½,é‚£ä¹ˆæœ€åŽè·ç¦»æ˜¯ä¸Žbodyçš„topå€¼3. offsetWidth :ç”¨äºŽèŽ·å–å…ƒç´ çš„çœŸå®žå®½åº¦(é™¤äº†marginä»¥å¤–çš„å®½åº¦)4. offsetHeight : ç”¨äºŽèŽ·å–å…ƒç´ çš„çœŸå®žé«˜åº¦(é™¤äº†marginä»¥å¤–çš„é«˜åº¦)5. offsetParent :ç”¨äºŽèŽ·å–è¯¥å…ƒç´ ä¸­æœ‰å®šä½çš„æœ€è¿‘çˆ¶çº§å…ƒç´  * å¦‚æžœå½“å‰å…ƒç´ çš„çˆ¶çº§å…ƒç´ éƒ½æ²¡æœ‰è¿›è¡Œå®šä½,é‚£ä¹ˆoffsetParentä¸ºbody ä¸Ž style.(left/top/width/height)çš„åŒºåˆ«:1231. offsetç³»åˆ—çš„æ˜¯åªè¯»å±žæ€§,è€Œé€šè¿‡styleçš„æ–¹å¼å¯ä»¥è¯»å†™2. offsetç³»åˆ—è¿”å›žçš„æ•°å€¼ç±»åž‹(ç»“æžœå››èˆäº”å…¥),styleè¿”å›žçš„æ˜¯å­—ç¬¦ä¸²3. offsetLeft å’Œ offsetTop å¯ä»¥è¿”å›žæ²¡æœ‰å®šä½çš„å…ƒç´ çš„leftå€¼å’Œtopå€¼,è€Œstyleä¸å¯ä»¥ scroll ç³»åˆ—scroll ç³»åˆ—çš„ 4 ä¸ªå±žæ€§1234567891. scrollHeight :å…ƒç´ ä¸­å†…å®¹çš„å®žé™…é«˜åº¦(æ²¡æœ‰è¾¹æ¡†) * å¦‚æžœå†…å®¹ä¸è¶³,å°±æ˜¯å…ƒç´ çš„é«˜åº¦2. scrollWidth: å…ƒç´ ä¸­å†…å®¹çš„å®žé™…å®½åº¦(æ²¡æœ‰è¾¹æ¡†) * å¦‚æžœå†…å®¹ä¸è¶³,å°±æ˜¯å…ƒç´ çš„å®½åº¦3. scrollTop: onscrolläº‹ä»¶å‘ç”Ÿæ—¶,å…ƒç´ å‘ä¸Šå·æ›²å‡ºåŽ»çš„è·ç¦»4. scrollLeft : onscrolläº‹ä»¶å‘ç”Ÿæ—¶,å…ƒç´ å‘å·¦å·æ›²å‡ºåŽ»çš„è·ç¦» å…¼å®¹é—®é¢˜123456789101112131415161718192021222324* æœªå£°æ˜Ž DTD: è°·æ­Œ,ç«ç‹,IE9+æ”¯æŒ document.body.scrollTop/scrollLeft* å·²ç»å£°æ˜ŽDTD:IE8ä»¥ä¸‹æ”¯æŒ document.documentElement.scrollTop/scrollLeft* ç«ç‹/è°·æ­Œ/ie9+ä»¥ä¸Šæ”¯æŒçš„ window.pageYOffest/pageXOffest// å…¼å®¹å¤„ç†çš„ä»£ç function getScroll() &#123; return &#123; left: window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft || 0, top: window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop || 0 &#125;;&#125;// ä½¿ç”¨æ–¹æ³•:1. å–å¾—scrollLeftå€¼: getScroll().left2. å–å¾—scrollTopå€¼: getScroll().top client ç³»åˆ—client ç³»åˆ—çš„ 4 ä¸ªå¸¸ç”¨å±žæ€§12345671. clientWidth : èŽ·å–ç½‘é¡µå¯è§†åŒºåŸŸçš„å®½åº¦2. clientHeight: èŽ·å–ç½‘é¡µå¯è§†åŒºåŸŸçš„é«˜åº¦3. clientX :èŽ·å–é¼ æ ‡äº‹ä»¶å‘ç”Ÿæ—¶çš„åº”ç”¨å®¢æˆ·ç«¯åŒºåŸŸçš„æ°´å¹³åæ ‡4. clientY :èŽ·å–é¼ æ ‡äº‹ä»¶å‘ç”Ÿæ—¶çš„åº”ç”¨å®¢æˆ·ç«¯åŒºåŸŸçš„åž‚ç›´åæ ‡ å…¼å®¹é—®é¢˜clientWidth å’Œ clientHeight çš„å…¼å®¹é—®é¢˜123456789101112131415161718192021222324252627282930313233343536//ç”±æµè§ˆå™¨å¯¹è±¡ä¸åŒå¯¼è‡´* æœªå£°æ˜Ž DTD: è°·æ­Œ,ç«ç‹,IE9+æ”¯æŒdocument.body.clientWidth/clientHeight* å·²ç»å£°æ˜ŽDTD:IE8ä»¥ä¸‹æ”¯æŒdocument.documentElement.clientWidth/clientHeight* ç«ç‹/è°·æ­Œ/ie9+ä»¥ä¸Šæ”¯æŒçš„ window.innerWidth/innerHeight// å…¼å®¹å¤„ç†çš„ä»£ç function client()&#123; if(window.innerWidth)&#123; return &#123; "width":window.innerWidth, "height":window.innerHeight &#125;; &#125;else if(document.compatMode === "CSS1Compat")&#123; return &#123; "width":document.documentElement.clientWidth, "height":document.documentElement.clientHeight &#125;; &#125;else&#123; return &#123; "width":document.body.clientWidth, "height":document.body.clientHeight &#125;; &#125;&#125;// ä½¿ç”¨æ–¹æ³•:1. å–å¾—clientWidthçš„å€¼: client().width2. å–å¾—clientHeightçš„å€¼: client().height clientX å’Œ clientY çš„å…¼å®¹é—®é¢˜1234567891011121314151617181920212223242526272829//ç”±äº‹ä»¶å‚æ•°å¯¹è±¡çš„å…¼å®¹æ€§é—®é¢˜å¯¼è‡´1. è°·æ­Œ,ç«ç‹,IE9+: äº‹ä»¶å‚æ•°å¯¹è±¡éšç€äº‹ä»¶å¤„ç†å‡½æ•°çš„å‚æ•°ä¼ å…¥2. IE8ä»¥ä¸‹: eventå¯¹è±¡å¿…é¡»ä½œä¸ºwindowå¯¹è±¡çš„ä¸€ä¸ªå±žæ€§(window.event)// å…¼å®¹å¤„ç†çš„ä»£ç //å°†clientå’Œscrollçš„å…¼å®¹é—®é¢˜è¿›è¡Œå¯¹è±¡çš„å°è£…var evtTools=&#123; //èŽ·å–å…¼å®¹çš„äº‹ä»¶å‚æ•°å¯¹è±¡ getEvt:function (e) &#123; return window.event?window.event:e; &#125;, //èŽ·å–çš„æ˜¯å¯è§†åŒºåŸŸçš„æ¨ªåæ ‡ getClientX:function (e) &#123; return this.getEvt(e).clientX; &#125;, //èŽ·å–çš„æ˜¯å¯è§†åŒºåŸŸçš„çºµåæ ‡ getClientY:function (e) &#123; return this.getEvt(e).clientY; &#125;, //èŽ·å–å‘å·¦å·æ›²å‡ºåŽ»çš„è·ç¦»çš„æ¨ªåæ ‡ getScrollLeft:function () &#123; return window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft||0; &#125;, //èŽ·å–å‘ä¸Šå·æ›²å‡ºåŽ»çš„è·ç¦»çš„çºµåæ ‡ getScrollTop:function () &#123; return window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0; &#125;&#125;; æ€»ç»“1234567891011121314ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š document.body.clientWidth;ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š document.body.clientHeight;ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š document.body.offsetWidth (åŒ…æ‹¬è¾¹çº¿çš„å®½);ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š document.body.offsetHeight (åŒ…æ‹¬è¾¹çº¿çš„å®½);ç½‘é¡µæ­£æ–‡å…¨æ–‡å®½ï¼š document.body.scrollWidth;ç½‘é¡µæ­£æ–‡å…¨æ–‡é«˜ï¼š document.body.scrollHeight;ç½‘é¡µè¢«å·åŽ»çš„é«˜ï¼š document.body.scrollTop;ç½‘é¡µè¢«å·åŽ»çš„å·¦ï¼š document.body.scrollLeft;ç½‘é¡µæ­£æ–‡éƒ¨åˆ†ä¸Šï¼š window.screenTop;ç½‘é¡µæ­£æ–‡éƒ¨åˆ†å·¦ï¼š window.screenLeft;å±å¹•åˆ†è¾¨çŽ‡çš„é«˜ï¼š window.screen.height;å±å¹•åˆ†è¾¨çŽ‡çš„å®½ï¼š window.screen.width;å±å¹•å¯ç”¨å·¥ä½œåŒºé«˜åº¦ï¼š window.screen.availHeight;å±å¹•å¯ç”¨å·¥ä½œåŒºå®½åº¦ï¼šwindow.screen.availWidth;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>DOM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jså›¾ç‰‡æ‡’åŠ è½½åŠä¼˜åŒ–]]></title>
    <url>%2F2017%2F06%2F18%2Fjs%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E5%8F%8A%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ä¸ºå•¥è¦ç”¨å›¾ç‰‡æ‡’åŠ è½½å¯¹é¡µé¢åŠ è½½é€Ÿåº¦å½±å“æœ€å¤§çš„å°±æ˜¯å›¾ç‰‡ï¼Œä¸€å¼ æ™®é€šçš„å›¾ç‰‡å¯ä»¥è¾¾åˆ°å‡  M çš„å¤§å°ï¼Œè€Œä»£ç ä¹Ÿè®¸å°±åªæœ‰å‡ å KBã€‚å½“é¡µé¢å›¾ç‰‡å¾ˆå¤šæ—¶ï¼Œé¡µé¢çš„åŠ è½½é€Ÿåº¦ç¼“æ…¢ï¼Œå‡  S é’Ÿå†…é¡µé¢æ²¡æœ‰åŠ è½½å®Œæˆï¼Œä¹Ÿè®¸ä¼šå¤±åŽ»å¾ˆå¤šçš„ç”¨æˆ·ã€‚æ‰€ä»¥ï¼Œå¯¹äºŽå›¾ç‰‡è¿‡å¤šçš„é¡µé¢ï¼Œä¸ºäº†åŠ é€Ÿé¡µé¢åŠ è½½é€Ÿåº¦ï¼Œæ‰€ä»¥å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦å°†é¡µé¢å†…æœªå‡ºçŽ°åœ¨å¯è§†åŒºåŸŸå†…çš„å›¾ç‰‡å…ˆä¸åšåŠ è½½ï¼Œ ç­‰åˆ°æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåŽå†åŽ»åŠ è½½ã€‚è¿™æ ·å­å¯¹äºŽé¡µé¢åŠ è½½æ€§èƒ½ä¸Šä¼šæœ‰å¾ˆå¤§çš„æå‡ï¼Œä¹Ÿæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚ åŽŸç†å°†é¡µé¢ä¸­çš„ img æ ‡ç­¾ src æŒ‡å‘ä¸€å¼ å°å›¾ç‰‡æˆ–è€… src ä¸ºç©ºï¼Œç„¶åŽå®šä¹‰ data-srcï¼ˆè¿™ä¸ªå±žæ€§å¯ä»¥è‡ªå®šä¹‰å‘½åï¼Œæˆ‘æ‰ç”¨ data-srcï¼‰å±žæ€§æŒ‡å‘çœŸå®žçš„å›¾ç‰‡ã€‚src æŒ‡å‘ä¸€å¼ é»˜è®¤çš„å›¾ç‰‡ï¼Œå¦åˆ™å½“ src ä¸ºç©ºæ—¶ä¹Ÿä¼šå‘æœåŠ¡å™¨å‘é€ä¸€æ¬¡è¯·æ±‚ï¼ˆæŒ‡å‘é»˜è®¤çš„ä¸€å¼ å›¾é‚£å°±åªéœ€è¯·æ±‚ä¸€æ¬¡ï¼‰ã€‚å¯ä»¥æŒ‡å‘ loading çš„åœ°å€ã€‚ å½“è½½å…¥é¡µé¢æ—¶ï¼Œå…ˆæŠŠå¯è§†åŒºåŸŸå†…çš„ img æ ‡ç­¾çš„ data-src å±žæ€§å€¼è´Ÿç»™ srcï¼Œç„¶åŽç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼ŒæŠŠç”¨æˆ·å³å°†çœ‹åˆ°çš„å›¾ç‰‡åŠ è½½ã€‚è¿™æ ·ä¾¿å®žçŽ°äº†æ‡’åŠ è½½ã€‚ æ³¨ï¼šå›¾ç‰‡è¦æŒ‡å®šå®½é«˜ã€‚å…³äºŽçª—å£å„ç§å®½åº¦ï¼Œå¯ä»¥çœ‹ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ï¼šscrollWidth,clientWidth,offsetWidth çš„åŒºåˆ«JS ä¸­å…³äºŽ clientWidth offsetWidth scrollWidth ç­‰çš„å«ä¹‰ å›¾ç‰‡æ‡’åŠ è½½çš„å®žçŽ°ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge" /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; img &#123; display: block; margin-bottom: 50px; width: 400px; height: 400px; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;img src="" data-src="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg" alt="" /&gt; &lt;img src="" data-src="http://cover.read.duokan.com/mfsv2/download/fdsc3/p01N203pHTU7/Wr5314kcLAtVCi.jpg!t" alt="" /&gt; &lt;img src="" data-src="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg" alt="" /&gt; &lt;img src="" data-src="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg" alt="" /&gt; &lt;img src="" data-src="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg" alt="" /&gt; &lt;img src="" data-src="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t" alt="" /&gt; &lt;img src="" data-src="http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg" alt="" /&gt; &lt;img src="" data-src="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="" /&gt; &lt;script&gt; (function() &#123; let num = document.getElementsByTagName("img").length; let img = document.getElementsByTagName("img"); let n = 0; //å­˜å‚¨å›¾ç‰‡åŠ è½½åˆ°çš„ä½ç½®ï¼Œé¿å…æ¯æ¬¡éƒ½ä»Žç¬¬ä¸€å¼ å›¾ç‰‡å¼€å§‹éåŽ† lazyload(); //é¡µé¢è½½å…¥å®Œæ¯•åŠ è½½å¯æ˜¯åŒºåŸŸå†…çš„å›¾ç‰‡ window.onscroll = lazyload; function lazyload() &#123; //ç›‘å¬é¡µé¢æ»šåŠ¨äº‹ä»¶ let seeHeight = document.documentElement.clientHeight; //å¯è§åŒºåŸŸé«˜åº¦ let scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //æ»šåŠ¨æ¡è·ç¦»é¡¶éƒ¨é«˜åº¦ for (let i = n; i &lt; num; i++) &#123; // å›¾ç‰‡æœªå‡ºçŽ°æ—¶è·ç¦»é¡¶éƒ¨çš„è·ç¦»å¤§äºŽæ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»+å¯è§†åŒºçš„é«˜åº¦ if (img[i].offsetTop &lt; seeHeight + scrollTop) &#123; if (img[i].getAttribute("src") == "") &#123; img[i].src = img[i].getAttribute("data-src"); &#125; n = i + 1; &#125; &#125; &#125; &#125;)(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ä½¿ç”¨èŠ‚æµå‡½æ•°è¿›è¡Œä¼˜åŒ–å¦‚æžœç›´æŽ¥å°†å‡½æ•°ç»‘å®šåœ¨ scroll äº‹ä»¶ä¸Šï¼Œå½“é¡µé¢æ»šåŠ¨æ—¶ï¼Œå‡½æ•°ä¼šè¢«é«˜é¢‘è§¦å‘ï¼Œè¿™éžå¸¸å½±å“æµè§ˆå™¨çš„æ€§èƒ½ã€‚ åŒæ—¶è¿˜æœ‰ä»¥ä¸‹åœºæ™¯å¾€å¾€ç”±äºŽäº‹ä»¶é¢‘ç¹è¢«è§¦å‘ï¼Œå› è€Œé¢‘ç¹æ‰§è¡Œ DOM æ“ä½œã€èµ„æºåŠ è½½ç­‰é‡è¡Œä¸ºï¼Œå¯¼è‡´ UI åœé¡¿ç”šè‡³æµè§ˆå™¨å´©æºƒã€‚1.window å¯¹è±¡çš„ resizeã€scroll äº‹ä»¶ 2.æ‹–æ‹½æ—¶çš„ mousemove äº‹ä»¶ 3.å°„å‡»æ¸¸æˆä¸­çš„ mousedownã€keydown äº‹ä»¶ 4.æ–‡å­—è¾“å…¥ã€è‡ªåŠ¨å®Œæˆçš„ keyup äº‹ä»¶è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æœ‰åŽ»æŠ–åŠ¨å’ŒèŠ‚æµçš„æ–¹æ³• åŽ»æŠ–åŠ¨åŽŸç†ï¼š å½“è°ƒç”¨åŠ¨ä½œ n æ¯«ç§’åŽï¼Œæ‰ä¼šæ‰§è¡Œè¯¥åŠ¨ä½œï¼Œè‹¥åœ¨è¿™ n æ¯«ç§’å†…åˆè°ƒç”¨æ­¤åŠ¨ä½œåˆ™å°†é‡æ–°è®¡ç®—æ‰§è¡Œæ—¶é—´ã€‚ ä¸è¶³:å½“æˆ‘ä¸€ç›´æ»šåŠ¨é¼ æ ‡çš„æ—¶å€™ï¼Œlazyload å‡½æ•°å°±ä¼šä¸æ–­è¢«å»¶è¿Ÿï¼Œè¿™æ ·åªæœ‰åœä¸‹æ¥çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œé‚£ä¹ˆå†æœ‰äº›éœ€è¦åŠæ—¶æ˜¾ç¤ºçš„æƒ…å†µä¸‹ï¼Œå°±æ˜¾å¾—ä¸é‚£ä¹ˆå‹å¥½äº† èŠ‚æµåŽŸç†ï¼šé¢„è®¾ä¸€ä¸ªæ‰§è¡Œå‘¨æœŸï¼Œå¦‚æžœè¿™ä¸ªå‘¨æœŸç»“æŸäº†éƒ½è¿˜æ²¡è§¦å‘å‡½æ•°ï¼Œé‚£å°±ä¼šæ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼›å¦‚æžœè¿™ä¸ªå‘¨æœŸè¿˜æ²¡ç»“æŸå°±è§¦å‘äº†å‡½æ•°ï¼Œé‚£å®šæ—¶å™¨å°†é‡ç½®ï¼Œå¼€å§‹æ–°å‘¨æœŸã€‚ è¾¾åˆ°äº†æƒ³è¦çš„æ•ˆæžœï¼Œæ—¢æ²¡æœ‰é¢‘ç¹çš„æ‰§è¡Œä¹Ÿæ²¡æœ‰å»¶è¿Ÿæ‰§è¡Œ è¿ç”¨èŠ‚æµå‡½æ•°çš„å›¾ç‰‡æ‡’åŠ è½½ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge" /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; img &#123; display: block; margin-bottom: 50px; width: 400px; height: 400px; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;img src="" data-src="http://pic.58pic.com/58pic/17/18/97/01U58PIC4Xr_1024.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg" alt="" /&gt; &lt;img src="" data-src="http://cover.read.duokan.com/mfsv2/download/fdsc3/p01N203pHTU7/Wr5314kcLAtVCi.jpg!t" alt="" /&gt; &lt;img src="" data-src="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg" alt="" /&gt; &lt;img src="" data-src="http://pic1.cxtuku.com/00/16/18/b3809a2ba0f3.jpg" alt="" /&gt; &lt;img src="" data-src="http://img.bitscn.com/upimg/allimg/c150708/14363B06253120-6060O.jpg" alt="" /&gt; &lt;img src="" data-src="http://cover.read.duokan.com/mfsv2/download/fdsc3/p015trgKM7vw/H0iyDPPneOVrA4.jpg!t" alt="" /&gt; &lt;img src="" data-src="http://ww1.sinaimg.cn/large/006y8mN6gw1fa7kaed2hpj30sg0l9q54.jpg" alt="" /&gt; &lt;img src="" data-src="http://imgsrc.baidu.com/baike/pic/item/2f9cbdcc5e0bcf5c00e9283b.jpg" alt="" /&gt; &lt;img src="" data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="" /&gt; &lt;script&gt; (function() &#123; let num = document.getElementsByTagName("img").length; let img = document.getElementsByTagName("img"); let n = 0; //å­˜å‚¨å›¾ç‰‡åŠ è½½åˆ°çš„ä½ç½®ï¼Œé¿å…æ¯æ¬¡éƒ½ä»Žç¬¬ä¸€å¼ å›¾ç‰‡å¼€å§‹éåŽ† lazyload(); //é¡µé¢è½½å…¥å®Œæ¯•åŠ è½½å¯æ˜¯åŒºåŸŸå†…çš„å›¾ç‰‡ function lazyload() &#123; //ç›‘å¬é¡µé¢æ»šåŠ¨äº‹ä»¶ let seeHeight = document.documentElement.clientHeight; //å¯è§åŒºåŸŸé«˜åº¦ let scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //æ»šåŠ¨æ¡è·ç¦»é¡¶éƒ¨é«˜åº¦ for (let i = n; i &lt; num; i++) &#123; // å›¾ç‰‡æœªå‡ºçŽ°æ—¶è·ç¦»é¡¶éƒ¨çš„è·ç¦»å¤§äºŽæ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»+å¯è§†åŒºçš„é«˜åº¦ if (img[i].offsetTop &lt; seeHeight + scrollTop) &#123; if (img[i].getAttribute("src") == "") &#123; img[i].src = img[i].getAttribute("data-src"); &#125; n = i + 1; &#125; &#125; &#125; // é‡‡ç”¨äº†èŠ‚æµå‡½æ•° function throttle(fun, delay, time) &#123; let timeout, startTime = new Date(); return function() &#123; let context = this, args = arguments, curTime = new Date(); clearTimeout(timeout); // å¦‚æžœè¾¾åˆ°äº†è§„å®šçš„è§¦å‘æ—¶é—´é—´éš”ï¼Œè§¦å‘ handler if (curTime - startTime &gt;= time) &#123; fun.apply(context, args); startTime = curTime; // æ²¡è¾¾åˆ°è§¦å‘é—´éš”ï¼Œé‡æ–°è®¾å®šå®šæ—¶å™¨ &#125; else &#123; timeout = setTimeout(fun, delay); &#125; &#125;; &#125; window.addEventListener("scroll", throttle(lazyload, 500, 1000)); &#125;)(); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>image-lazyload</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŽŸç”ŸJavaScriptä¹‹DOMæ“ä½œ]]></title>
    <url>%2F2017%2F06%2F11%2F%E5%8E%9F%E7%94%9FJavaScript%E4%B9%8BDOM%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[ç›´æŽ¥èŽ·å–å…ƒç´ 1234document.getElementById(selector); // èŽ·å–æŒ‡å®šidçš„å…ƒç´ document.getElementsByClassName(selector); // èŽ·å–æŒ‡å®šclassçš„å…ƒç´ çš„é›†åˆdocument.getElementsByTagName(selector); // èŽ·å–æŒ‡å®šæ ‡ç­¾åçš„å…ƒç´ é›†åˆdocument.getElementsByName(selector); // èŽ·å–å¸¦æœ‰æŒ‡å®šåç§°ï¼ˆnameå±žæ€§ï¼‰çš„å…ƒç´ é›†åˆ èŽ·å–çˆ¶å­å…„å¼Ÿå…ƒç´ 123456789101112el.parentNode; // èŽ·å–ç›´æŽ¥çˆ¶å…ƒç´ el.offsetParent; // ç”¨äºŽè®¡ç®—å®šä½çš„çˆ¶å…ƒç´ (positionå±žæ€§ä¸ºrelativeã€absoluteæˆ–fixedçš„æœ€è¿‘çš„çˆ¶å…ƒç´ ),è‹¥ä¸å­˜åœ¨è¿™æ ·çš„çˆ¶å…ƒç´ ï¼Œåˆ™ä¸ºbodyï¼Œä½†æ˜¯åœ¨ä½Žç‰ˆæœ¬IEä¸­å¯èƒ½ä¸ºhtmlel.childNodes; // æ‰€æœ‰å­èŠ‚ç‚¹çš„é›†åˆï¼ŒåŒ…å«æ–‡æœ¬èŠ‚ç‚¹(æ¢è¡Œæˆ–ç©ºç™½)el.children; // æ‰€æœ‰å­å…ƒç´ çš„é›†åˆï¼Œä¸åŒ…å«æ–‡æœ¬èŠ‚ç‚¹el.firstChild;el.lastChild;el.nextSibling;el.previousSibling; // ä»¥ä¸Šå››ä¸ªèŽ·å–çš„èŠ‚ç‚¹ï¼Œéƒ½åŒ…å«æ–‡æœ¬èŠ‚ç‚¹el.firstElementChild;el.lastElementChild;el.nextElementSibling;el.previousElementSibling; // ä»¥ä¸Šå››ä¸ªèŽ·å–çš„èŠ‚ç‚¹ï¼Œä¸åŒ…å«æ–‡æœ¬èŠ‚ç‚¹ï¼Œä½†æ˜¯åœ¨ä½Žç‰ˆæœ¬IEé‡Œä¸å…¼å®¹ å¢žåˆ æ”¹å…ƒç´ 12345678let element = document.createElement(TagName); // æ ¹æ®æ ‡ç­¾ååˆ›å»ºæ ‡ç­¾let textnode = document.createTextNode(content); // æ ¹æ®å†…å®¹åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹el.appendChild(element); // å°†elementæ ‡ç­¾æ·»åŠ ä¸ºelçš„å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä½äºŽæœ€åŽel.insertBefore(element, child); // å°†elementæ ‡ç­¾æ·»åŠ ä¸ºelçš„å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä½äºŽchildä¹‹å‰ï¼Œchildå‚æ•°ä¸ºç©ºåˆ™ä¸ŽappendChildæ–¹æ³•æ•ˆæžœä¸€è‡´el.removeChild(element); // åˆ é™¤elçš„å­èŠ‚ç‚¹el.replaceChild(new, old); // ç”¨newæ›¿æ¢oldï¼Œnewå¯ä»¥ä¸ºæ–°åˆ›å»ºçš„èŠ‚ç‚¹ä¹Ÿå¯ä»¥ä¸ºå·²å­˜åœ¨çš„èŠ‚ç‚¹el.hasChildNode(); // åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦åŒ…å«å­èŠ‚ç‚¹ï¼ŒåŒ…å«è¿”å›žtrueï¼Œä¸åŒ…å«è¿”å›žfalse.el.cloneChild(true/false); // é»˜è®¤ä¸ºfalseï¼Œåªå¤åˆ¶å½“å‰èŠ‚ç‚¹ï¼Œä¸ºtrueæ—¶å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹ä¹Ÿä¸€èµ·å¤åˆ¶ã€‚å®ƒä¹Ÿæ˜¯å­˜åœ¨å†…å­˜ä¸­ï¼Œä¹Ÿéœ€è¦å‘é¡µé¢é‡Œæ·»åŠ ã€‚ æ“ä½œå…ƒç´ å±žæ€§12345678let attr = document.createAttribute(name); // åˆ›å»ºä¸€ä¸ªå±žæ€§èŠ‚ç‚¹attr.value = "value"; // ä¸ºå±žæ€§èŠ‚ç‚¹æ·»åŠ å±žæ€§å€¼el.setAttributeNode(attr); // å°†ä¸€ä¸ªå±žæ€§èŠ‚ç‚¹æ·»åŠ åˆ°elä¸Šel.setAttribute(name, value); // è®¾ç½®elä¸Šçš„å±žæ€§ï¼Œè‹¥æ­¤å±žæ€§ä¸å­˜åœ¨åˆ™æ·»åŠ el.getAttribute(name); // èŽ·å–elä¸Šçš„å±žæ€§el.removeAttribute(name); // åˆ é™¤elä¸Šçš„å±žæ€§el.id; // å…ƒç´ çš„idåel.className; // å…ƒç´ çš„classå èŽ·å–å…ƒç´ çš„é«˜å®½123456789el.style.width / height; // èŽ·å–å…ƒç´ contentçš„å®½é«˜ï¼Œä½†æ˜¯è‹¥æœªè®¾ç½®styleä¼šå¾—åˆ°ç©ºï¼Œè¿™ä¸ªç•™å¾…åŽé¢å†è¯´el.clientWidth / clientHeight; // èŽ·å–å…ƒç´ å¯è§†åŒºçš„å®½é«˜ï¼Œå³ä¸ºcontent+padding å…ƒç´ ç›¸å¯¹äºŽè§†çª—å¯è§éƒ¨åˆ†çš„leftå’Œtopï¼Œel.offsetWidth / offsetHeight; // èŽ·å–å…ƒç´ å ä½å®½é«˜ï¼Œå³ä¸ºcontent+padding+border ç›¸å½“äºŽç»å¯¹å®šä½çš„ä½ç½®leftå’Œtopel.scrollWidth / scrollHeight; // ä¸ŽclientWidthç±»ä¼¼ï¼Œä¸è¿‡å¦‚æžœæœ‰æ»šè½®ä¼šåŒ…æ‹¬æ»šè½®çš„å®½åº¦ // æ»šè½®çš„leftå’Œtop// æ³¨æ„ï¼Œmarginä¸Žä»¥ä¸Šéƒ½æ— å…³let W = document.body.clientWidth || window.innerWidth || document.documentElement.clientWidth; // èŽ·å–æ•´ä¸ªæµè§ˆå™¨çš„å¯è§†åŒºå®½åº¦ï¼Œç”±äºŽIEä¸Žfirefoxçš„å®žçŽ°æœ‰å·®å¼‚ï¼Œæ‰€ä»¥éœ€è¦å…¼å®¹æ€§å†™æ³• æ–‡æ¡£ç¢Žç‰‡åŒ–å¤„ç†js æ“ä½œ dom æ˜¯ä¸€ä¸ªå¾ˆè€—æ€§èƒ½çš„è¿‡ç¨‹ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸å¾—ä¸è¿›è¡Œ dom å¾ªçŽ¯æ“ä½œï¼Œæˆ‘ä»¬æ¯æ¬¡å¯¹ dom çš„æ“ä½œéƒ½ä¼šè§¦å‘â€é‡æŽ’â€ï¼Œè¿™ä¸¥é‡å½±å“åˆ°èƒ½è€—ï¼Œä¸€èˆ¬é€šå¸¸é‡‡å–çš„åšæ³•æ˜¯å°½å¯èƒ½çš„å‡å°‘ dom æ“ä½œæ¥å‡å°‘â€é‡æŽ’â€ã€‚é¢å¯¹å¾ªçŽ¯æ“ä½œ dom çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æ–‡æ¡£ç¢Žç‰‡ï¼ˆcreatDocumentFragmentï¼‰ï¼Œå°†éœ€è¦æ·»åŠ åˆ° dom ä¸­çš„å†…å®¹éƒ½æ·»åŠ åˆ°æ–‡æ¡£ç¢Žç‰‡ä¸­ï¼Œç„¶åŽä¸€æ¬¡æ€§çš„å°†æ–‡æ¡£ç¢Žç‰‡æ·»åŠ åˆ° dom æ ‘ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆçš„å‡å°‘æ“ä½œ dom çš„æ¬¡æ•°ï¼Œå‡å°‘é‡æŽ’çš„å‘ç”Ÿã€‚ 1234567891011121314&lt;ul id="list"&gt;&lt;/ul&gt;&lt;script&gt; window.onload = function() &#123; var oFragment = document.createDocumentFragment(); var ul = document.getElementById("list"); var oLi = null; for (var i = 0; i &lt; 10; i++) &#123; oLi = document.createElement("li"); oLi.appendChild(document.createTextNode("item" + i)); oFragment.appendChild(oLi); &#125; ul.appendChild(oFragment); &#125;;&lt;/script&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>DOM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹éžæž„é€ å‡½æ•°çš„ç»§æ‰¿]]></title>
    <url>%2F2017%2F06%2F01%2FJavaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%9D%9E%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯â€éžæž„é€ å‡½æ•°â€çš„ç»§æ‰¿ï¼Ÿæ¯”å¦‚ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå«åšâ€ä¸­å›½äººâ€ã€‚ 123var Chinese = &#123; nation: "ä¸­å›½"&#125;; è¿˜æœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå«åšâ€åŒ»ç”Ÿâ€ã€‚ 123var Doctor = &#123; career: "åŒ»ç”Ÿ"&#125;; è¯·é—®æ€Žæ ·æ‰èƒ½è®©â€åŒ»ç”Ÿâ€åŽ»ç»§æ‰¿â€ä¸­å›½äººâ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘æ€Žæ ·æ‰èƒ½ç”Ÿæˆä¸€ä¸ªâ€ä¸­å›½åŒ»ç”Ÿâ€çš„å¯¹è±¡ï¼Ÿè¿™é‡Œè¦æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯æ™®é€šå¯¹è±¡ï¼Œä¸æ˜¯æž„é€ å‡½æ•°ï¼Œæ— æ³•ä½¿ç”¨æž„é€ å‡½æ•°æ–¹æ³•å®žçŽ°â€ç»§æ‰¿â€ã€‚ object()æ–¹æ³•json æ ¼å¼çš„å‘æ˜Žäºº Douglas Crockfordï¼Œæå‡ºäº†ä¸€ä¸ª object()å‡½æ•°ï¼Œå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ 12345function object(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125; è¿™ä¸ª object()å‡½æ•°ï¼Œå…¶å®žåªåšä¸€ä»¶äº‹ï¼Œå°±æ˜¯æŠŠå­å¯¹è±¡çš„ prototype å±žæ€§ï¼ŒæŒ‡å‘çˆ¶å¯¹è±¡ï¼Œä»Žè€Œä½¿å¾—å­å¯¹è±¡ä¸Žçˆ¶å¯¹è±¡è¿žåœ¨ä¸€èµ·ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œç¬¬ä¸€æ­¥å…ˆåœ¨çˆ¶å¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œç”Ÿæˆå­å¯¹è±¡ï¼š 1var Doctor = object(Chinese); ç„¶åŽï¼Œå†åŠ ä¸Šå­å¯¹è±¡æœ¬èº«çš„å±žæ€§ï¼š 1Doctor.career = "åŒ»ç”Ÿ"; è¿™æ—¶ï¼Œå­å¯¹è±¡å·²ç»ç»§æ‰¿äº†çˆ¶å¯¹è±¡çš„å±žæ€§äº†ã€‚ 1alert(Doctor.nation); //ä¸­å›½ æ·±æ‹·è´æ‰€è°“â€æ·±æ‹·è´â€ï¼Œå°±æ˜¯èƒ½å¤Ÿå®žçŽ°çœŸæ­£æ„ä¹‰ä¸Šçš„æ•°ç»„å’Œå¯¹è±¡çš„æ‹·è´ã€‚å®ƒçš„å®žçŽ°å¹¶ä¸éš¾ï¼Œåªè¦é€’å½’è°ƒç”¨â€æµ…æ‹·è´â€å°±è¡Œäº†ã€‚ 123456789101112function deepCopy(p, c) &#123; var c = c || &#123;&#125;; for (var i in p) &#123; if (typeof p[i] === "object") &#123; c[i] = p[i].constructor === Array ? [] : &#123;&#125;; deepCopy(p[i], c[i]); &#125; else &#123; c[i] = p[i]; &#125; &#125; return c;&#125; ä½¿ç”¨çš„æ—¶å€™è¿™æ ·å†™ï¼š 1var Doctor = deepCopy(Chinese); çŽ°åœ¨ï¼Œç»™çˆ¶å¯¹è±¡åŠ ä¸€ä¸ªå±žæ€§ï¼Œå€¼ä¸ºæ•°ç»„ã€‚ç„¶åŽï¼Œåœ¨å­å¯¹è±¡ä¸Šä¿®æ”¹è¿™ä¸ªå±žæ€§ï¼š 12Chinese.birthPlaces = ["åŒ—äº¬", "ä¸Šæµ·", "é¦™æ¸¯"];Doctor.birthPlaces.push("åŽ¦é—¨"); è¿™æ—¶ï¼Œçˆ¶å¯¹è±¡å°±ä¸ä¼šå—åˆ°å½±å“äº†ã€‚ 12alert(Doctor.birthPlaces); //åŒ—äº¬, ä¸Šæµ·, é¦™æ¸¯, åŽ¦é—¨alert(Chinese.birthPlaces); //åŒ—äº¬, ä¸Šæµ·, é¦™æ¸¯ ç›®å‰ï¼ŒjQuery åº“ä½¿ç”¨çš„å°±æ˜¯è¿™ç§ç»§æ‰¿æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹æž„é€ å‡½æ•°çš„ç»§æ‰¿]]></title>
    <url>%2F2017%2F05%2F27%2FJavaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E4%B9%8B%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E7%BB%A7%E6%89%BF%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä»Šå¤©è¦ä»‹ç»çš„æ˜¯ï¼Œå¯¹è±¡ä¹‹é—´çš„â€ç»§æ‰¿â€çš„äº”ç§æ–¹æ³•ã€‚æ¯”å¦‚ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªâ€åŠ¨ç‰©â€å¯¹è±¡çš„æž„é€ å‡½æ•°ã€‚ 123function Animal() &#123; this.species = "åŠ¨ç‰©";&#125; è¿˜æœ‰ä¸€ä¸ªâ€çŒ«â€å¯¹è±¡çš„æž„é€ å‡½æ•°ã€‚ 1234function Cat(name, color) &#123; this.name = name; this.color = color;&#125; æ€Žæ ·æ‰èƒ½ä½¿â€çŒ«â€ç»§æ‰¿â€åŠ¨ç‰©â€å‘¢ï¼Ÿ æž„é€ å‡½æ•°ç»‘å®šç¬¬ä¸€ç§æ–¹æ³•ä¹Ÿæ˜¯æœ€ç®€å•çš„æ–¹æ³•ï¼Œä½¿ç”¨ call æˆ– apply æ–¹æ³•ï¼Œå°†çˆ¶å¯¹è±¡çš„æž„é€ å‡½æ•°ç»‘å®šåœ¨å­å¯¹è±¡ä¸Šï¼Œå³åœ¨å­å¯¹è±¡æž„é€ å‡½æ•°ä¸­åŠ ä¸€è¡Œï¼š 1234567function Cat(name, color) &#123; Animal.apply(this, arguments); this.name = name; this.color = color;&#125;var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");alert(cat1.species); // åŠ¨ç‰© prototype æ¨¡å¼ç¬¬äºŒç§æ–¹æ³•æ›´å¸¸è§ï¼Œä½¿ç”¨ prototype å±žæ€§ã€‚å¦‚æžœâ€çŒ«â€çš„ prototype å¯¹è±¡ï¼ŒæŒ‡å‘ä¸€ä¸ª Animal çš„å®žä¾‹ï¼Œé‚£ä¹ˆæ‰€æœ‰â€çŒ«â€çš„å®žä¾‹ï¼Œå°±èƒ½ç»§æ‰¿ Animal äº†ã€‚ 1234Cat.prototype = new Animal();Cat.prototype.constructor = Cat;var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");alert(cat1.species); // åŠ¨ç‰© ä»£ç çš„ç¬¬ä¸€è¡Œï¼Œæˆ‘ä»¬å°† Cat çš„ prototype å¯¹è±¡æŒ‡å‘ä¸€ä¸ª Animal çš„å®žä¾‹ã€‚ 1Cat.prototype = new Animal(); å®ƒç›¸å½“äºŽå®Œå…¨åˆ é™¤äº† prototype å¯¹è±¡åŽŸå…ˆçš„å€¼ï¼Œç„¶åŽèµ‹äºˆä¸€ä¸ªæ–°å€¼ã€‚ä½†æ˜¯ï¼Œç¬¬äºŒè¡Œåˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ 1Cat.prototype.constructor = Cat; åŽŸæ¥ï¼Œä»»ä½•ä¸€ä¸ª prototype å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª constructor å±žæ€§ï¼ŒæŒ‡å‘å®ƒçš„æž„é€ å‡½æ•°ã€‚å¦‚æžœæ²¡æœ‰â€Cat.prototype = new Animal();â€è¿™ä¸€è¡Œï¼ŒCat.prototype.constructor æ˜¯æŒ‡å‘ Cat çš„ï¼›åŠ äº†è¿™ä¸€è¡Œä»¥åŽï¼ŒCat.prototype.constructor æŒ‡å‘ Animalã€‚ 1alert(Cat.prototype.constructor == Animal); //true æ›´é‡è¦çš„æ˜¯ï¼Œæ¯ä¸€ä¸ªå®žä¾‹ä¹Ÿæœ‰ä¸€ä¸ª constructor å±žæ€§ï¼Œé»˜è®¤è°ƒç”¨ prototype å¯¹è±¡çš„ constructor å±žæ€§ã€‚ 1alert(cat1.constructor == Cat.prototype.constructor); // true å› æ­¤ï¼Œåœ¨è¿è¡Œâ€Cat.prototype = new Animal();â€è¿™ä¸€è¡Œä¹‹åŽï¼Œcat1.constructor ä¹ŸæŒ‡å‘ Animalï¼ 1alert(cat1.constructor == Animal); // true è¿™æ˜¾ç„¶ä¼šå¯¼è‡´ç»§æ‰¿é“¾çš„ç´Šä¹±ï¼ˆcat1 æ˜Žæ˜Žæ˜¯ç”¨æž„é€ å‡½æ•° Cat ç”Ÿæˆçš„ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨çº æ­£ï¼Œå°† Cat.prototype å¯¹è±¡çš„ constructor å€¼æ”¹ä¸º Catã€‚è¿™å°±æ˜¯ç¬¬äºŒè¡Œçš„æ„æ€ã€‚è¿™æ˜¯å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œç¼–ç¨‹æ—¶åŠ¡å¿…è¦éµå®ˆã€‚ä¸‹æ–‡éƒ½éµå¾ªè¿™ä¸€ç‚¹ï¼Œå³å¦‚æžœæ›¿æ¢äº† prototype å¯¹è±¡ï¼Œ 1o.prototype = &#123;&#125;; é‚£ä¹ˆï¼Œä¸‹ä¸€æ­¥å¿…ç„¶æ˜¯ä¸ºæ–°çš„ prototype å¯¹è±¡åŠ ä¸Š constructor å±žæ€§ï¼Œå¹¶å°†è¿™ä¸ªå±žæ€§æŒ‡å›žåŽŸæ¥çš„æž„é€ å‡½æ•°ã€‚ 1o.prototype.constructor = o; ç›´æŽ¥ç»§æ‰¿ prototypeç¬¬ä¸‰ç§æ–¹æ³•æ˜¯å¯¹ç¬¬äºŒç§æ–¹æ³•çš„æ”¹è¿›ã€‚ç”±äºŽ Animal å¯¹è±¡ä¸­ï¼Œä¸å˜çš„å±žæ€§éƒ½å¯ä»¥ç›´æŽ¥å†™å…¥ Animal.prototypeã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®© Cat()è·³è¿‡ Animal()ï¼Œç›´æŽ¥ç»§æ‰¿ Animal.prototypeã€‚çŽ°åœ¨ï¼Œæˆ‘ä»¬å…ˆå°† Animal å¯¹è±¡æ”¹å†™ï¼š 12function Animal() &#123;&#125;Animal.prototype.species = "åŠ¨ç‰©"; ç„¶åŽï¼Œå°† Cat çš„ prototype å¯¹è±¡ï¼Œç„¶åŽæŒ‡å‘ Animal çš„ prototype å¯¹è±¡ï¼Œè¿™æ ·å°±å®Œæˆäº†ç»§æ‰¿ã€‚ 1234Cat.prototype = Animal.prototype;Cat.prototype.constructor = Cat;var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");alert(cat1.species); // åŠ¨ç‰© ä¸Žå‰ä¸€ç§æ–¹æ³•ç›¸æ¯”ï¼Œè¿™æ ·åšçš„ä¼˜ç‚¹æ˜¯æ•ˆçŽ‡æ¯”è¾ƒé«˜ï¼ˆä¸ç”¨æ‰§è¡Œå’Œå»ºç«‹ Animal çš„å®žä¾‹äº†ï¼‰ï¼Œæ¯”è¾ƒçœå†…å­˜ã€‚ç¼ºç‚¹æ˜¯ Cat.prototype å’Œ Animal.prototype çŽ°åœ¨æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä»»ä½•å¯¹ Cat.prototype çš„ä¿®æ”¹ï¼Œéƒ½ä¼šåæ˜ åˆ° Animal.prototypeã€‚æ‰€ä»¥ï¼Œä¸Šé¢è¿™ä¸€æ®µä»£ç å…¶å®žæ˜¯æœ‰é—®é¢˜çš„ã€‚è¯·çœ‹ç¬¬äºŒè¡Œ 1Cat.prototype.constructor = Cat; è¿™ä¸€å¥å®žé™…ä¸ŠæŠŠ Animal.prototype å¯¹è±¡çš„ constructor å±žæ€§ä¹Ÿæ”¹æŽ‰äº†ï¼ 1alert(Animal.prototype.constructor); // Cat åˆ©ç”¨ç©ºå¯¹è±¡ä½œä¸ºä¸­ä»‹ç”±äºŽâ€ç›´æŽ¥ç»§æ‰¿ prototypeâ€å­˜åœ¨ä¸Šè¿°çš„ç¼ºç‚¹ï¼Œæ‰€ä»¥å°±æœ‰ç¬¬å››ç§æ–¹æ³•ï¼Œåˆ©ç”¨ä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸ºä¸­ä»‹ã€‚ 1234var F = function() &#123;&#125;;F.prototype = Animal.prototype;Cat.prototype = new F();Cat.prototype.constructor = Cat; F æ˜¯ç©ºå¯¹è±¡ï¼Œæ‰€ä»¥å‡ ä¹Žä¸å å†…å­˜ã€‚è¿™æ—¶ï¼Œä¿®æ”¹ Cat çš„ prototype å¯¹è±¡ï¼Œå°±ä¸ä¼šå½±å“åˆ° Animal çš„ prototype å¯¹è±¡ã€‚ 1alert(Animal.prototype.constructor); // Animal æˆ‘ä»¬å°†ä¸Šé¢çš„æ–¹æ³•ï¼Œå°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œä¾¿äºŽä½¿ç”¨ã€‚ 1234567function extend(Child, Parent) &#123; var F = function() &#123;&#125;; F.prototype = Parent.prototype; Child.prototype = new F(); Child.prototype.constructor = Child; Child.uber = Parent.prototype;&#125; ä½¿ç”¨çš„æ—¶å€™ï¼Œæ–¹æ³•å¦‚ä¸‹ 123extend(Cat, Animal);var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");alert(cat1.species); // åŠ¨ç‰© è¿™ä¸ª extend å‡½æ•°ï¼Œå°±æ˜¯ YUI åº“å¦‚ä½•å®žçŽ°ç»§æ‰¿çš„æ–¹æ³•ã€‚å¦å¤–ï¼Œè¯´æ˜Žä¸€ç‚¹ï¼Œå‡½æ•°ä½“æœ€åŽä¸€è¡Œ 1Child.uber = Parent.prototype; æ„æ€æ˜¯ä¸ºå­å¯¹è±¡è®¾ä¸€ä¸ª uber å±žæ€§ï¼Œè¿™ä¸ªå±žæ€§ç›´æŽ¥æŒ‡å‘çˆ¶å¯¹è±¡çš„ prototype å±žæ€§ã€‚ï¼ˆuber æ˜¯ä¸€ä¸ªå¾·è¯­è¯ï¼Œæ„æ€æ˜¯â€å‘ä¸Šâ€ã€â€ä¸Šä¸€å±‚â€ã€‚ï¼‰è¿™ç­‰äºŽåœ¨å­å¯¹è±¡ä¸Šæ‰“å¼€ä¸€æ¡é€šé“ï¼Œå¯ä»¥ç›´æŽ¥è°ƒç”¨çˆ¶å¯¹è±¡çš„æ–¹æ³•ã€‚è¿™ä¸€è¡Œæ”¾åœ¨è¿™é‡Œï¼Œåªæ˜¯ä¸ºäº†å®žçŽ°ç»§æ‰¿çš„å®Œå¤‡æ€§ï¼Œçº¯å±žå¤‡ç”¨æ€§è´¨ã€‚ æ‹·è´ç»§æ‰¿ä¸Šé¢æ˜¯é‡‡ç”¨ prototype å¯¹è±¡ï¼Œå®žçŽ°ç»§æ‰¿ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¢ä¸€ç§æ€è·¯ï¼Œçº¯ç²¹é‡‡ç”¨â€æ‹·è´â€æ–¹æ³•å®žçŽ°ç»§æ‰¿ã€‚ç®€å•è¯´ï¼Œå¦‚æžœæŠŠçˆ¶å¯¹è±¡çš„æ‰€æœ‰å±žæ€§å’Œæ–¹æ³•ï¼Œæ‹·è´è¿›å­å¯¹è±¡ï¼Œä¸ä¹Ÿèƒ½å¤Ÿå®žçŽ°ç»§æ‰¿å—ï¼Ÿè¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ç¬¬äº”ç§æ–¹æ³•ã€‚é¦–å…ˆï¼Œè¿˜æ˜¯æŠŠ Animal çš„æ‰€æœ‰ä¸å˜å±žæ€§ï¼Œéƒ½æ”¾åˆ°å®ƒçš„ prototype å¯¹è±¡ä¸Šã€‚ 12function Animal() &#123;&#125;Animal.prototype.species = "åŠ¨ç‰©"; ç„¶åŽï¼Œå†å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®žçŽ°å±žæ€§æ‹·è´çš„ç›®çš„ã€‚ 12345678function extend2(Child, Parent) &#123; var p = Parent.prototype; var c = Child.prototype; for (var i in p) &#123; c[i] = p[i]; &#125; c.uber = p;&#125; è¿™ä¸ªå‡½æ•°çš„ä½œç”¨ï¼Œå°±æ˜¯å°†çˆ¶å¯¹è±¡çš„ prototype å¯¹è±¡ä¸­çš„å±žæ€§ï¼Œä¸€ä¸€æ‹·è´ç»™ Child å¯¹è±¡çš„ prototype å¯¹è±¡ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œè¿™æ ·å†™ï¼š 123extend2(Cat, Animal);var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");alert(cat1.species); // åŠ¨ç‰© åŽŸæ–‡ä¼ é€é—¨]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScripté¢å‘å¯¹è±¡ç¼–ç¨‹ä¹‹å°è£…]]></title>
    <url>%2F2017%2F05%2F24%2FJavaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E4%B9%8B%E5%B0%81%E8%A3%85%2F</url>
    <content type="text"><![CDATA[Javascript æ˜¯ä¸€ç§åŸºäºŽå¯¹è±¡ï¼ˆobject-basedï¼‰çš„è¯­è¨€ï¼Œä½ é‡åˆ°çš„æ‰€æœ‰ä¸œè¥¿å‡ ä¹Žéƒ½æ˜¯å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå®ƒåˆä¸æ˜¯ä¸€ç§çœŸæ­£çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰è¯­è¨€ï¼Œå› ä¸ºå®ƒçš„è¯­æ³•ä¸­æ²¡æœ‰classï¼ˆç±»ï¼‰ã€‚é‚£ä¹ˆï¼Œå¦‚æžœæˆ‘ä»¬è¦æŠŠâ€å±žæ€§â€ï¼ˆpropertyï¼‰å’Œâ€æ–¹æ³•â€ï¼ˆmethodï¼‰ï¼Œå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œç”šè‡³è¦ä»ŽåŽŸåž‹å¯¹è±¡ç”Ÿæˆä¸€ä¸ªå®žä¾‹å¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥æ€Žä¹ˆåšå‘¢ï¼Ÿ ç”Ÿæˆå®žä¾‹å¯¹è±¡çš„åŽŸå§‹æ¨¡å¼å‡å®šæˆ‘ä»¬æŠŠçŒ«çœ‹æˆä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæœ‰â€åå­—â€å’Œâ€é¢œè‰²â€ä¸¤ä¸ªå±žæ€§ã€‚ 1234var Cat = &#123; name: "", color: ""&#125;; çŽ°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è¿™ä¸ªåŽŸåž‹å¯¹è±¡çš„è§„æ ¼ï¼ˆschemaï¼‰ï¼Œç”Ÿæˆä¸¤ä¸ªå®žä¾‹å¯¹è±¡ã€‚ 123456var cat1 = &#123;&#125;; // åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡cat1.name = "å¤§æ¯›"; // æŒ‰ç…§åŽŸåž‹å¯¹è±¡çš„å±žæ€§èµ‹å€¼cat1.color = "é»„è‰²";var cat2 = &#123;&#125;;cat2.name = "äºŒæ¯›";cat2.color = "é»‘è‰²"; å¥½äº†ï¼Œè¿™å°±æ˜¯æœ€ç®€å•çš„å°è£…äº†ï¼ŒæŠŠä¸¤ä¸ªå±žæ€§å°è£…åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ã€‚ä½†æ˜¯ï¼Œè¿™æ ·çš„å†™æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯å¦‚æžœå¤šç”Ÿæˆå‡ ä¸ªå®žä¾‹ï¼Œå†™èµ·æ¥å°±éžå¸¸éº»çƒ¦ï¼›äºŒæ˜¯å®žä¾‹ä¸ŽåŽŸåž‹ä¹‹é—´ï¼Œæ²¡æœ‰ä»»ä½•åŠžæ³•ï¼Œå¯ä»¥çœ‹å‡ºæœ‰ä»€ä¹ˆè”ç³»ã€‚ åŽŸå§‹æ¨¡å¼çš„æ”¹è¿›æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°ï¼Œè§£å†³ä»£ç é‡å¤çš„é—®é¢˜ã€‚ 123456function Cat(name, color) &#123; return &#123; name: name, color: color &#125;;&#125; ç„¶åŽç”Ÿæˆå®žä¾‹å¯¹è±¡ï¼Œå°±ç­‰äºŽæ˜¯åœ¨è°ƒç”¨å‡½æ•°ï¼š 12var cat1 = Cat("å¤§æ¯›", "é»„è‰²");var cat2 = Cat("äºŒæ¯›", "é»‘è‰²"); è¿™ç§æ–¹æ³•çš„é—®é¢˜ä¾ç„¶æ˜¯ï¼Œcat1å’Œcat2ä¹‹é—´æ²¡æœ‰å†…åœ¨çš„è”ç³»ï¼Œä¸èƒ½åæ˜ å‡ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªåŽŸåž‹å¯¹è±¡çš„å®žä¾‹ã€‚ æž„é€ å‡½æ•°æ¨¡å¼ä¸ºäº†è§£å†³ä»ŽåŽŸåž‹å¯¹è±¡ç”Ÿæˆå®žä¾‹çš„é—®é¢˜ï¼ŒJavascript æä¾›äº†ä¸€ä¸ªæž„é€ å‡½æ•°ï¼ˆConstructorï¼‰æ¨¡å¼ã€‚æ‰€è°“â€æž„é€ å‡½æ•°â€ï¼Œå…¶å®žå°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯å†…éƒ¨ä½¿ç”¨äº†thiså˜é‡ã€‚å¯¹æž„é€ å‡½æ•°ä½¿ç”¨newè¿ç®—ç¬¦ï¼Œå°±èƒ½ç”Ÿæˆå®žä¾‹ï¼Œå¹¶ä¸”thiså˜é‡ä¼šç»‘å®šåœ¨å®žä¾‹å¯¹è±¡ä¸Šã€‚æ¯”å¦‚ï¼ŒçŒ«çš„åŽŸåž‹å¯¹è±¡çŽ°åœ¨å¯ä»¥è¿™æ ·å†™: 1234function Cat(name, color) &#123; this.name = name; this.color = color;&#125; æˆ‘ä»¬çŽ°åœ¨å°±å¯ä»¥ç”Ÿæˆå®žä¾‹å¯¹è±¡äº†ã€‚ 1234var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");var cat2 = new Cat("äºŒæ¯›", "é»‘è‰²");alert(cat1.name); // å¤§æ¯›alert(cat1.color); // é»„è‰² è¿™æ—¶cat1å’Œcat2ä¼šè‡ªåŠ¨å«æœ‰ä¸€ä¸ªconstructorå±žæ€§ï¼ŒæŒ‡å‘å®ƒä»¬çš„æž„é€ å‡½æ•°ã€‚ 12alert(cat1.constructor == Cat); //truealert(cat2.constructor == Cat); //true Javascript è¿˜æä¾›äº†ä¸€ä¸ªinstanceofè¿ç®—ç¬¦ï¼ŒéªŒè¯åŽŸåž‹å¯¹è±¡ä¸Žå®žä¾‹å¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚ 12alert(cat1 instanceof Cat); //truealert(cat2 instanceof Cat); //true æž„é€ å‡½æ•°æ¨¡å¼çš„é—®é¢˜æž„é€ å‡½æ•°æ–¹æ³•å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªæµªè´¹å†…å­˜çš„é—®é¢˜ã€‚è¯·çœ‹ï¼Œæˆ‘ä»¬çŽ°åœ¨ä¸ºCatå¯¹è±¡æ·»åŠ ä¸€ä¸ªä¸å˜çš„å±žæ€§typeï¼ˆç§ç±»ï¼‰ï¼Œå†æ·»åŠ ä¸€ä¸ªæ–¹æ³•eatï¼ˆåƒï¼‰ã€‚é‚£ä¹ˆï¼ŒåŽŸåž‹å¯¹è±¡Catå°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼š 12345678function Cat(name, color) &#123; this.name = name; this.color = color; this.type = "çŒ«ç§‘åŠ¨ç‰©"; this.eat = function() &#123; alert("åƒè€é¼ "); &#125;;&#125; è¿˜æ˜¯é‡‡ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œç”Ÿæˆå®žä¾‹ï¼š 1234var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");var cat2 = new Cat("äºŒæ¯›", "é»‘è‰²");alert(cat1.type); // çŒ«ç§‘åŠ¨ç‰©cat1.eat(); // åƒè€é¼  è¡¨é¢ä¸Šå¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å®žé™…ä¸Šè¿™æ ·åšï¼Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯ã€‚é‚£å°±æ˜¯å¯¹äºŽæ¯ä¸€ä¸ªå®žä¾‹å¯¹è±¡ï¼Œtypeå±žæ€§å’Œeat()æ–¹æ³•éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„å†…å®¹ï¼Œæ¯ä¸€æ¬¡ç”Ÿæˆä¸€ä¸ªå®žä¾‹ï¼Œéƒ½å¿…é¡»ä¸ºé‡å¤çš„å†…å®¹ï¼Œå¤šå ç”¨ä¸€äº›å†…å­˜ã€‚è¿™æ ·æ—¢ä¸çŽ¯ä¿ï¼Œä¹Ÿç¼ºä¹æ•ˆçŽ‡ã€‚ 1alert(cat1.eat == cat2.eat); //false èƒ½ä¸èƒ½è®©typeå±žæ€§å’Œeat()æ–¹æ³•åœ¨å†…å­˜ä¸­åªç”Ÿæˆä¸€æ¬¡ï¼Œç„¶åŽæ‰€æœ‰å®žä¾‹éƒ½æŒ‡å‘é‚£ä¸ªå†…å­˜åœ°å€å‘¢ï¼Ÿå›žç­”æ˜¯å¯ä»¥çš„ã€‚ Prototype æ¨¡å¼Javascript è§„å®šï¼Œæ¯ä¸€ä¸ªæž„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±žæ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±žæ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æž„é€ å‡½æ•°çš„å®žä¾‹ç»§æ‰¿ã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé‚£äº›ä¸å˜çš„å±žæ€§å’Œæ–¹æ³•ï¼Œç›´æŽ¥å®šä¹‰åœ¨prototypeå¯¹è±¡ä¸Šã€‚ 12345678function Cat(name, color) &#123; this.name = name; this.color = color;&#125;Cat.prototype.type = "çŒ«ç§‘åŠ¨ç‰©";Cat.prototype.eat = function() &#123; alert("åƒè€é¼ ");&#125;; ç„¶åŽï¼Œç”Ÿæˆå®žä¾‹ã€‚ 1234var cat1 = new Cat("å¤§æ¯›", "é»„è‰²");var cat2 = new Cat("äºŒæ¯›", "é»‘è‰²");alert(cat1.type); // çŒ«ç§‘åŠ¨ç‰©cat1.eat(); // åƒè€é¼  è¿™æ—¶æ‰€æœ‰å®žä¾‹çš„typeå±žæ€§å’Œeat()æ–¹æ³•ï¼Œå…¶å®žéƒ½æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼ŒæŒ‡å‘prototypeå¯¹è±¡ï¼Œå› æ­¤å°±æé«˜äº†è¿è¡Œæ•ˆçŽ‡ã€‚ 1alert(cat1.eat == cat2.eat); //true Prototype æ¨¡å¼çš„éªŒè¯æ–¹æ³•ä¸ºäº†é…åˆprototypeå±žæ€§ï¼ŒJavascript å®šä¹‰äº†ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼Œå¸®åŠ©æˆ‘ä»¬ä½¿ç”¨å®ƒã€‚ isPrototypeOf()è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­ï¼ŒæŸä¸ªproptotypeå¯¹è±¡å’ŒæŸä¸ªå®žä¾‹ä¹‹é—´çš„å…³ç³»ã€‚ 12alert(Cat.prototype.isPrototypeOf(cat1)); //truealert(Cat.prototype.isPrototypeOf(cat2)); //true hasOwnProperty()æ¯ä¸ªå®žä¾‹å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªhasOwnProperty()æ–¹æ³•ï¼Œç”¨æ¥åˆ¤æ–­æŸä¸€ä¸ªå±žæ€§åˆ°åº•æ˜¯æœ¬åœ°å±žæ€§ï¼Œè¿˜æ˜¯ç»§æ‰¿è‡ªprototypeå¯¹è±¡çš„å±žæ€§ã€‚ 12alert(cat1.hasOwnProperty("name")); // truealert(cat1.hasOwnProperty("type")); // false in è¿ç®—ç¬¦inè¿ç®—ç¬¦å¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼ŒæŸä¸ªå®žä¾‹æ˜¯å¦å«æœ‰æŸä¸ªå±žæ€§ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯æœ¬åœ°å±žæ€§ã€‚ 12alert("name" in cat1); // truealert("type" in cat1); // true inè¿ç®—ç¬¦è¿˜å¯ä»¥ç”¨æ¥éåŽ†æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å±žæ€§ã€‚ 12345for(var prop in cat1)&#123; alert("cat1["+prop+"]="+cat1[prop]);&#125;`[_åŽŸæ–‡ä¼ é€é—¨_](http://www.ruanyifeng.com/blog/2010/05/object-oriented_javascript_encapsulation.html)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQueryè®¾è®¡æ€æƒ³]]></title>
    <url>%2F2017%2F05%2F22%2FjQuery%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%2F</url>
    <content type="text"><![CDATA[jQuery æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ javascript å‡½æ•°åº“ã€‚ é€‰æ‹©ç½‘é¡µå…ƒç´ jQuery çš„åŸºæœ¬è®¾è®¡æ€æƒ³å’Œä¸»è¦ç”¨æ³•ï¼Œå°±æ˜¯ â€œé€‰æ‹©æŸä¸ªç½‘é¡µå…ƒç´ ï¼Œç„¶åŽå¯¹å…¶è¿›è¡ŒæŸç§æ“ä½œâ€ã€‚è¿™æ˜¯å®ƒåŒºåˆ«äºŽå…¶ä»– Javascript åº“çš„æ ¹æœ¬ç‰¹ç‚¹ã€‚ä½¿ç”¨ jQuery çš„ç¬¬ä¸€æ­¥ï¼Œå¾€å¾€å°±æ˜¯å°†ä¸€ä¸ªé€‰æ‹©è¡¨è¾¾å¼ï¼Œæ”¾è¿›æž„é€ å‡½æ•° jQuery()ï¼ˆç®€å†™ä¸º\$ï¼‰ï¼Œç„¶åŽå¾—åˆ°è¢«é€‰ä¸­çš„å…ƒç´ ã€‚ é€‰æ‹©è¡¨è¾¾å¼å¯ä»¥æ˜¯CSS é€‰æ‹©å™¨ï¼š 1234$(document); //é€‰æ‹©æ•´ä¸ªæ–‡æ¡£å¯¹è±¡$("#myId"); //é€‰æ‹©IDä¸ºmyIdçš„ç½‘é¡µå…ƒç´ $("div.myClass"); // é€‰æ‹©classä¸ºmyClassçš„divå…ƒç´ $("input[name=first]"); // é€‰æ‹©nameå±žæ€§ç­‰äºŽfirstçš„inputå…ƒç´  ä¹Ÿå¯ä»¥æ˜¯ jQueryç‰¹æœ‰çš„è¡¨è¾¾å¼ï¼š 123456$("a:first"); //é€‰æ‹©ç½‘é¡µä¸­ç¬¬ä¸€ä¸ªaå…ƒç´ $("tr:odd"); //é€‰æ‹©è¡¨æ ¼çš„å¥‡æ•°è¡Œ$("#myForm :input"); // é€‰æ‹©è¡¨å•ä¸­çš„inputå…ƒç´ $("div:visible"); //é€‰æ‹©å¯è§çš„divå…ƒç´ $("div:gt(2)"); // é€‰æ‹©æ‰€æœ‰çš„divå…ƒç´ ï¼Œé™¤äº†å‰ä¸‰ä¸ª$("div:animated"); // é€‰æ‹©å½“å‰å¤„äºŽåŠ¨ç”»çŠ¶æ€çš„divå…ƒç´  æ”¹å˜ç»“æžœé›†jQuery è®¾è®¡æ€æƒ³ä¹‹äºŒï¼Œå°±æ˜¯æä¾›å„ç§å¼ºå¤§çš„è¿‡æ»¤å™¨ï¼Œå¯¹ç»“æžœé›†è¿›è¡Œç­›é€‰ï¼Œç¼©å°é€‰æ‹©ç»“æžœã€‚ 12345$("div").has("p"); // é€‰æ‹©åŒ…å«på…ƒç´ çš„divå…ƒç´ $("div").not(".myClass"); //é€‰æ‹©classä¸ç­‰äºŽmyClassçš„divå…ƒç´ $("div").filter(".myClass"); //é€‰æ‹©classç­‰äºŽmyClassçš„divå…ƒç´ $("div").first(); //é€‰æ‹©ç¬¬1ä¸ªdivå…ƒç´ $("div").eq(5); //é€‰æ‹©ç¬¬6ä¸ªdivå…ƒç´  æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»Žç»“æžœé›†å‡ºå‘ï¼Œç§»åŠ¨åˆ°é™„è¿‘çš„ç›¸å…³å…ƒç´ ï¼ŒjQuery ä¹Ÿæä¾›äº†åœ¨ DOM æ ‘ä¸Šçš„ç§»åŠ¨æ–¹æ³•ï¼š 12345$("div").next("p"); //é€‰æ‹©divå…ƒç´ åŽé¢çš„ç¬¬ä¸€ä¸ªpå…ƒç´ $("div").parent(); //é€‰æ‹©divå…ƒç´ çš„çˆ¶å…ƒç´ $("div").closest("form"); //é€‰æ‹©ç¦»divæœ€è¿‘çš„é‚£ä¸ªformçˆ¶å…ƒç´ $("div").children(); //é€‰æ‹©divçš„æ‰€æœ‰å­å…ƒç´ $("div").siblings(); //é€‰æ‹©divçš„åŒçº§å…ƒç´  é“¾å¼æ“ä½œjQuery è®¾è®¡æ€æƒ³ä¹‹ä¸‰ï¼Œå°±æ˜¯æœ€ç»ˆé€‰ä¸­ç½‘é¡µå…ƒç´ ä»¥åŽï¼Œå¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œå¯ä»¥è¿žæŽ¥åœ¨ä¸€èµ·ï¼Œä»¥é“¾æ¡çš„å½¢å¼å†™å‡ºæ¥ï¼Œæ¯”å¦‚ï¼š 1234$("div") .find("h3") .eq(2) .html("Hello"); åˆ†è§£å¼€æ¥ï¼Œå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š 1234$("div") //æ‰¾åˆ°divå…ƒç´  .find("h3") //é€‰æ‹©å…¶ä¸­çš„h3å…ƒç´  .eq(2) //é€‰æ‹©ç¬¬3ä¸ªh3å…ƒç´  .html("Hello"); //å°†å®ƒçš„å†…å®¹æ”¹ä¸ºHello è¿™æ˜¯ jQuery æœ€ä»¤äººç§°é“ã€æœ€æ–¹ä¾¿çš„ç‰¹ç‚¹ã€‚å®ƒçš„åŽŸç†åœ¨äºŽæ¯ä¸€æ­¥çš„ jQuery æ“ä½œï¼Œè¿”å›žçš„éƒ½æ˜¯ä¸€ä¸ª jQuery å¯¹è±¡ï¼Œæ‰€ä»¥ä¸åŒæ“ä½œå¯ä»¥è¿žåœ¨ä¸€èµ·ã€‚jQuery è¿˜æä¾›äº†.end()æ–¹æ³•ï¼Œä½¿å¾—ç»“æžœé›†å¯ä»¥åŽé€€ä¸€æ­¥ï¼š 1234567$("div") .find("h3") .eq(2) .html("Hello") .end() //é€€å›žåˆ°é€‰ä¸­æ‰€æœ‰çš„h3å…ƒç´ çš„é‚£ä¸€æ­¥ .eq(0) //é€‰ä¸­ç¬¬ä¸€ä¸ªh3å…ƒç´  .html("World"); //å°†å®ƒçš„å†…å®¹æ”¹ä¸ºWorld å…ƒç´ çš„æ“ä½œï¼šå–å€¼å’Œèµ‹å€¼æ“ä½œç½‘é¡µå…ƒç´ ï¼Œæœ€å¸¸è§çš„éœ€æ±‚æ˜¯å–å¾—å®ƒä»¬çš„å€¼ï¼Œæˆ–è€…å¯¹å®ƒä»¬è¿›è¡Œèµ‹å€¼ã€‚jQuery è®¾è®¡æ€æƒ³ä¹‹å››ï¼Œå°±æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°ï¼Œæ¥å®Œæˆå–å€¼ï¼ˆgetterï¼‰å’Œèµ‹å€¼ï¼ˆsetterï¼‰ï¼Œå³â€å–å€¼å™¨â€ä¸Žâ€èµ‹å€¼å™¨â€åˆä¸€ã€‚åˆ°åº•æ˜¯å–å€¼è¿˜æ˜¯èµ‹å€¼ï¼Œç”±å‡½æ•°çš„å‚æ•°å†³å®šã€‚ 12$("h1").html(); //html()æ²¡æœ‰å‚æ•°ï¼Œè¡¨ç¤ºå–å‡ºh1çš„å€¼$("h1").html("Hello"); //html()æœ‰å‚æ•°Helloï¼Œè¡¨ç¤ºå¯¹h1è¿›è¡Œèµ‹å€¼ å¸¸è§çš„å–å€¼å’Œèµ‹å€¼å‡½æ•°å¦‚ä¸‹ï¼š 123456.html() //å–å‡ºæˆ–è®¾ç½®htmlå†…å®¹.text() //å–å‡ºæˆ–è®¾ç½®textå†…å®¹.attr() //å–å‡ºæˆ–è®¾ç½®HTMLæŸä¸ªæˆ‘ä»¬è‡ªå®šä¹‰DOMå±žæ€§çš„å€¼.prop() å–å‡ºæˆ–è®¾ç½®HTMLæŸä¸ªæœ¬èº«å›ºæœ‰å±žæ€§çš„å€¼.width() //å–å‡ºæˆ–è®¾ç½®æŸä¸ªå…ƒç´ çš„å®½åº¦.height() //å–å‡ºæˆ–è®¾ç½®æŸä¸ªå…ƒç´ çš„é«˜åº¦.val() //å–å‡ºæŸä¸ªè¡¨å•å…ƒç´ çš„å€¼ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æžœç»“æžœé›†åŒ…å«å¤šä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆèµ‹å€¼çš„æ—¶å€™ï¼Œå°†å¯¹å…¶ä¸­æ‰€æœ‰çš„å…ƒç´ èµ‹å€¼ï¼›å–å€¼çš„æ—¶å€™ï¼Œåˆ™æ˜¯åªå–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼ˆ.text()ä¾‹å¤–ï¼Œå®ƒå–å‡ºæ‰€æœ‰å…ƒç´ çš„ text å†…å®¹ï¼‰ã€‚ å…ƒç´ çš„æ“ä½œï¼šç§»åŠ¨jQuery è®¾è®¡æ€æƒ³ä¹‹äº”ï¼Œå°±æ˜¯æä¾›ä¸¤ç»„æ–¹æ³•ï¼Œæ¥æ“ä½œå…ƒç´ åœ¨ç½‘é¡µä¸­çš„ä½ç½®ç§»åŠ¨ã€‚ä¸€ç»„æ–¹æ³•æ˜¯ç›´æŽ¥ç§»åŠ¨è¯¥å…ƒç´ ï¼Œå¦ä¸€ç»„æ–¹æ³•æ˜¯ç§»åŠ¨å…¶ä»–å…ƒç´ ï¼Œä½¿å¾—ç›®æ ‡å…ƒç´ è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ä½ç½®ã€‚å‡å®šæˆ‘ä»¬é€‰ä¸­äº†ä¸€ä¸ª div å…ƒç´ ï¼Œéœ€è¦æŠŠå®ƒç§»åŠ¨åˆ° p å…ƒç´ åŽé¢ã€‚ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨.insertAfter()ï¼ŒæŠŠ div å…ƒç´ ç§»åŠ¨ p å…ƒç´ åŽé¢ï¼š 1$("div").insertAfter($("p")); ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨.after()ï¼ŒæŠŠ p å…ƒç´ åŠ åˆ° div å…ƒç´ å‰é¢ï¼š 1$("p").after($("div")); è¡¨é¢ä¸Šçœ‹ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„æ•ˆæžœæ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„ä¸åŒä¼¼ä¹Žåªæ˜¯æ“ä½œè§†è§’çš„ä¸åŒã€‚ä½†æ˜¯å®žé™…ä¸Šï¼Œå®ƒä»¬æœ‰ä¸€ä¸ªé‡å¤§å·®åˆ«ï¼Œé‚£å°±æ˜¯è¿”å›žçš„å…ƒç´ ä¸ä¸€æ ·ã€‚ç¬¬ä¸€ç§æ–¹æ³•è¿”å›ž div å…ƒç´ ï¼Œç¬¬äºŒç§æ–¹æ³•è¿”å›ž p å…ƒç´ ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦ï¼Œé€‰æ‹©åˆ°åº•ä½¿ç”¨å“ªä¸€ç§æ–¹æ³•ã€‚ä½¿ç”¨è¿™ç§æ¨¡å¼çš„æ“ä½œæ–¹æ³•ï¼Œä¸€å…±æœ‰å››å¯¹ï¼š 1234.insertAfter()å’Œ.after()ï¼š//åœ¨çŽ°å­˜å…ƒç´ çš„å¤–éƒ¨ï¼Œä»ŽåŽé¢æ’å…¥å…ƒç´ .insertBefore()å’Œ.before()ï¼š//åœ¨çŽ°å­˜å…ƒç´ çš„å¤–éƒ¨ï¼Œä»Žå‰é¢æ’å…¥å…ƒç´ .appendTo()å’Œ.append()ï¼š//åœ¨çŽ°å­˜å…ƒç´ çš„å†…éƒ¨ï¼Œä»ŽåŽé¢æ’å…¥å…ƒç´ .prependTo()å’Œ.prepend()ï¼š//åœ¨çŽ°å­˜å…ƒç´ çš„å†…éƒ¨ï¼Œä»Žå‰é¢æ’å…¥å…ƒç´  å…ƒç´ çš„æ“ä½œï¼šå¤åˆ¶ã€åˆ é™¤å’Œåˆ›å»ºé™¤äº†å…ƒç´ çš„ä½ç½®ç§»åŠ¨ä¹‹å¤–ï¼ŒjQuery è¿˜æä¾›å…¶ä»–å‡ ç§æ“ä½œå…ƒç´ çš„é‡è¦æ–¹æ³•ã€‚å¤åˆ¶å…ƒç´ ä½¿ç”¨.clone()ã€‚åˆ é™¤å…ƒç´ ä½¿ç”¨.remove()å’Œ.detach()ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºŽï¼Œå‰è€…ä¸ä¿ç•™è¢«åˆ é™¤å…ƒç´ çš„äº‹ä»¶ï¼ŒåŽè€…ä¿ç•™ï¼Œæœ‰åˆ©äºŽé‡æ–°æ’å…¥æ–‡æ¡£æ—¶ä½¿ç”¨ã€‚æ¸…ç©ºå…ƒç´ å†…å®¹ï¼ˆä½†æ˜¯ä¸åˆ é™¤è¯¥å…ƒç´ ï¼‰ä½¿ç”¨.empty()ã€‚åˆ›å»ºæ–°å…ƒç´ çš„æ–¹æ³•éžå¸¸ç®€å•ï¼Œåªè¦æŠŠæ–°å…ƒç´ ç›´æŽ¥ä¼ å…¥ jQuery çš„æž„é€ å‡½æ•°å°±è¡Œäº†ï¼š 123$("&lt;p&gt;Hello&lt;/p&gt;");$('&lt;li class="new"&gt;new list item&lt;/li&gt;');$("ul").append("&lt;li&gt;list item&lt;/li&gt;"); å·¥å…·æ–¹æ³•jQuery è®¾è®¡æ€æƒ³ä¹‹å…­ï¼šé™¤äº†å¯¹é€‰ä¸­çš„å…ƒç´ è¿›è¡Œæ“ä½œä»¥å¤–ï¼Œè¿˜æä¾›ä¸€äº›ä¸Žå…ƒç´ æ— å…³çš„å·¥å…·æ–¹æ³•ï¼ˆutilityï¼‰ã€‚ä¸å¿…é€‰ä¸­å…ƒç´ ï¼Œå°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚å¦‚æžœä½ æ‡‚å¾— Javascript è¯­è¨€çš„ç»§æ‰¿åŽŸç†ï¼Œé‚£ä¹ˆå°±èƒ½ç†è§£å·¥å…·æ–¹æ³•çš„å®žè´¨ã€‚å®ƒæ˜¯å®šä¹‰åœ¨ jQuery æž„é€ å‡½æ•°ä¸Šçš„æ–¹æ³•ï¼Œå³ jQuery.method()ï¼Œæ‰€ä»¥å¯ä»¥ç›´æŽ¥ä½¿ç”¨ã€‚è€Œé‚£äº›æ“ä½œå…ƒç´ çš„æ–¹æ³•ï¼Œæ˜¯å®šä¹‰åœ¨æž„é€ å‡½æ•°çš„ prototype å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼Œå³ jQuery.prototype.method()ï¼Œæ‰€ä»¥å¿…é¡»ç”Ÿæˆå®žä¾‹ï¼ˆå³é€‰ä¸­å…ƒç´ ï¼‰åŽä½¿ç”¨ã€‚å¦‚æžœä¸ç†è§£è¿™ç§åŒºåˆ«ï¼Œé—®é¢˜ä¹Ÿä¸å¤§ï¼Œåªè¦æŠŠå·¥å…·æ–¹æ³•ç†è§£æˆï¼Œæ˜¯åƒ javascript åŽŸç”Ÿå‡½æ•°é‚£æ ·ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨çš„æ–¹æ³•å°±è¡Œäº†ã€‚å¸¸ç”¨çš„å·¥å…·æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š 123456789101112$.trim(); //åŽ»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼ã€‚$.each(); //éåŽ†ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ã€‚$.inArray(); //è¿”å›žä¸€ä¸ªå€¼åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ã€‚å¦‚æžœè¯¥å€¼ä¸åœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›ž-1ã€‚$.grep(); //è¿”å›žæ•°ç»„ä¸­ç¬¦åˆæŸç§æ ‡å‡†çš„å…ƒç´ ã€‚$.extend(); //å°†å¤šä¸ªå¯¹è±¡ï¼Œåˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚$.makeArray(); //å°†å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„ã€‚$.type(); //åˆ¤æ–­å¯¹è±¡çš„ç±»åˆ«ï¼ˆå‡½æ•°å¯¹è±¡ã€æ—¥æœŸå¯¹è±¡ã€æ•°ç»„å¯¹è±¡ã€æ­£åˆ™å¯¹è±¡ç­‰ç­‰ï¼‰ã€‚$.isArray(); //åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºæ•°ç»„ã€‚$.isEmptyObject(); //åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼ˆä¸å«æœ‰ä»»ä½•å±žæ€§ï¼‰ã€‚$.isFunction(); //åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºå‡½æ•°ã€‚$.isPlainObject(); //åˆ¤æ–­æŸä¸ªå‚æ•°æ˜¯å¦ä¸ºç”¨"&#123;&#125;"æˆ–"new Object"å»ºç«‹çš„å¯¹è±¡ã€‚$.support(); //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªç‰¹æ€§ã€‚ äº‹ä»¶æ“ä½œjQuery è®¾è®¡æ€æƒ³ä¹‹ä¸ƒï¼Œå°±æ˜¯æŠŠäº‹ä»¶ç›´æŽ¥ç»‘å®šåœ¨ç½‘é¡µå…ƒç´ ä¹‹ä¸Šã€‚ 123$("p").click(function() &#123; alert("Hello");&#125;); ç›®å‰ï¼ŒjQuery ä¸»è¦æ”¯æŒä»¥ä¸‹äº‹ä»¶ï¼š 1234567891011121314151617181920212223242526.blur() //è¡¨å•å…ƒç´ å¤±åŽ»ç„¦ç‚¹ã€‚.change() //è¡¨å•å…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–.click() //é¼ æ ‡å•å‡».dblclick() //é¼ æ ‡åŒå‡».focus() //è¡¨å•å…ƒç´ èŽ·å¾—ç„¦ç‚¹.focusin() //å­å…ƒç´ èŽ·å¾—ç„¦ç‚¹.focusout() //å­å…ƒç´ å¤±åŽ»ç„¦ç‚¹.hover() //åŒæ—¶ä¸ºmouseenterå’Œmouseleaveäº‹ä»¶æŒ‡å®šå¤„ç†å‡½æ•°.keydown() //æŒ‰ä¸‹é”®ç›˜ï¼ˆé•¿æ—¶é—´æŒ‰é”®ï¼Œåªè¿”å›žä¸€ä¸ªäº‹ä»¶ï¼‰.keypress() //æŒ‰ä¸‹é”®ç›˜ï¼ˆé•¿æ—¶é—´æŒ‰é”®ï¼Œå°†è¿”å›žå¤šä¸ªäº‹ä»¶ï¼‰.keyup() //æ¾å¼€é”®ç›˜.load() //å…ƒç´ åŠ è½½å®Œæ¯•.mousedown() //æŒ‰ä¸‹é¼ æ ‡.mouseenter() //é¼ æ ‡è¿›å…¥ï¼ˆè¿›å…¥å­å…ƒç´ ä¸è§¦å‘ï¼‰.mouseleave() //é¼ æ ‡ç¦»å¼€ï¼ˆç¦»å¼€å­å…ƒç´ ä¸è§¦å‘ï¼‰.mousemove() //é¼ æ ‡åœ¨å…ƒç´ å†…éƒ¨ç§»åŠ¨.mouseout() //é¼ æ ‡ç¦»å¼€ï¼ˆç¦»å¼€å­å…ƒç´ ä¹Ÿè§¦å‘ï¼‰.mouseover() //é¼ æ ‡è¿›å…¥ï¼ˆè¿›å…¥å­å…ƒç´ ä¹Ÿè§¦å‘ï¼‰.mouseup()//æ¾å¼€é¼ æ ‡.ready() //DOMåŠ è½½å®Œæˆ.resize() //æµè§ˆå™¨çª—å£çš„å¤§å°å‘ç”Ÿæ”¹å˜.scroll() //æ»šåŠ¨æ¡çš„ä½ç½®å‘ç”Ÿå˜åŒ–.select() //ç”¨æˆ·é€‰ä¸­æ–‡æœ¬æ¡†ä¸­çš„å†…å®¹.submit() //ç”¨æˆ·é€’äº¤è¡¨å•.toggle() //æ ¹æ®é¼ æ ‡ç‚¹å‡»çš„æ¬¡æ•°ï¼Œä¾æ¬¡è¿è¡Œå¤šä¸ªå‡½æ•°.unload() //ç”¨æˆ·ç¦»å¼€é¡µé¢ ä»¥ä¸Šè¿™äº›äº‹ä»¶åœ¨ jQuery å†…éƒ¨ï¼Œéƒ½æ˜¯.bind()çš„ä¾¿æ·æ–¹å¼ã€‚ä½¿ç”¨.bind()å¯ä»¥æ›´çµæ´»åœ°æŽ§åˆ¶äº‹ä»¶ï¼Œæ¯”å¦‚ä¸ºå¤šä¸ªäº‹ä»¶ç»‘å®šåŒä¸€ä¸ªå‡½æ•°ï¼š 123456$("input").bind( "click change", //åŒæ—¶ç»‘å®šclickå’Œchangeäº‹ä»¶ function() &#123; alert("Hello"); &#125;); çŽ°åœ¨åº”è¯¥æ˜¯ä½¿ç”¨ on ä»£æ›¿ bind äº†ã€‚ã€‚æœ‰æ—¶ï¼Œä½ åªæƒ³è®©äº‹ä»¶è¿è¡Œä¸€æ¬¡ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨.one()æ–¹æ³•ã€‚ 123$("p").one("click", function() &#123; alert("Hello"); //åªè¿è¡Œä¸€æ¬¡ï¼Œä»¥åŽçš„ç‚¹å‡»ä¸ä¼šè¿è¡Œ&#125;); .unbind()ç”¨æ¥è§£é™¤äº‹ä»¶ç»‘å®šã€‚ 1$("p").unbind("click"); æ‰€æœ‰çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œéƒ½å¯ä»¥æŽ¥å—ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼ˆevent objectï¼‰ä½œä¸ºå‚æ•°ï¼Œæ¯”å¦‚ä¸‹é¢ä¾‹å­ä¸­çš„ eï¼š 123$("p").click(function(e) &#123; alert(e.type); // "click"&#125;); è¿™ä¸ªäº‹ä»¶å¯¹è±¡æœ‰ä¸€äº›å¾ˆæœ‰ç”¨çš„å±žæ€§å’Œæ–¹æ³•ï¼š 12345678event.pageX; //äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé¼ æ ‡è·ç¦»ç½‘é¡µå·¦ä¸Šè§’çš„æ°´å¹³è·ç¦»event.pageY; //äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé¼ æ ‡è·ç¦»ç½‘é¡µå·¦ä¸Šè§’çš„åž‚ç›´è·ç¦»event.type; //äº‹ä»¶çš„ç±»åž‹ï¼ˆæ¯”å¦‚clickï¼‰event.which; //æŒ‰ä¸‹äº†å“ªä¸€ä¸ªé”®event.data; //åœ¨äº‹ä»¶å¯¹è±¡ä¸Šç»‘å®šæ•°æ®ï¼Œç„¶åŽä¼ å…¥äº‹ä»¶å¤„ç†å‡½æ•°event.target; //äº‹ä»¶é’ˆå¯¹çš„ç½‘é¡µå…ƒç´ event.preventDefault(); //é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆæ¯”å¦‚ç‚¹å‡»é“¾æŽ¥ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æ–°é¡µé¢ï¼‰event.stopPropagation(); //åœæ­¢äº‹ä»¶å‘ä¸Šå±‚å…ƒç´ å†’æ³¡ åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œå¯ä»¥ç”¨ this å…³é”®å­—ï¼Œè¿”å›žäº‹ä»¶é’ˆå¯¹çš„ DOM å…ƒç´ ï¼š 1234567891011$("a").click(function(e) &#123; if ( $(this) .attr("href") .match("evil") ) &#123; //å¦‚æžœç¡®è®¤ä¸ºæœ‰å®³é“¾æŽ¥ e.preventDefault(); //é˜»æ­¢æ‰“å¼€ $(this).addClass("evil"); //åŠ ä¸Šè¡¨ç¤ºæœ‰å®³çš„class &#125;&#125;); æœ‰ä¸¤ç§æ–¹æ³•ï¼Œå¯ä»¥è‡ªåŠ¨è§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚ä¸€ç§æ˜¯ç›´æŽ¥ä½¿ç”¨äº‹ä»¶å‡½æ•°ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨.trigger()æˆ–.triggerHandler()ã€‚ 12$("a").click();$("a").trigger("click"); ç‰¹æ®Šæ•ˆæžœæœ€åŽï¼ŒjQuery å…è®¸å¯¹è±¡å‘ˆçŽ°æŸäº›ç‰¹æ®Šæ•ˆæžœã€‚å¸¸ç”¨çš„ç‰¹æ®Šæ•ˆæžœå¦‚ä¸‹ï¼š 123456789.fadeIn() //æ·¡å…¥.fadeOut() //æ·¡å‡º.fadeTo() //è°ƒæ•´é€æ˜Žåº¦.hide() //éšè—å…ƒç´ .show() //æ˜¾ç¤ºå…ƒç´ .slideDown() //å‘ä¸‹å±•å¼€.slideUp() //å‘ä¸Šå·èµ·.slideToggle() //ä¾æ¬¡å±•å¼€æˆ–å·èµ·æŸä¸ªå…ƒç´ .toggle() //ä¾æ¬¡å±•ç¤ºæˆ–éšè—æŸä¸ªå…ƒç´  é™¤äº†.show()å’Œ.hide()ï¼Œæ‰€æœ‰å…¶ä»–ç‰¹æ•ˆçš„é»˜è®¤æ‰§è¡Œæ—¶é—´éƒ½æ˜¯ 400msï¼ˆæ¯«ç§’ï¼‰ï¼Œä½†æ˜¯ä½ å¯ä»¥æ”¹å˜è¿™ä¸ªè®¾ç½®ã€‚ 12$("h1").fadeIn(300); // 300æ¯«ç§’å†…æ·¡å…¥$("h1").fadeOut("slow"); // ç¼“æ…¢åœ°æ·¡å‡º åœ¨ç‰¹æ•ˆç»“æŸåŽï¼Œå¯ä»¥æŒ‡å®šæ‰§è¡ŒæŸä¸ªå‡½æ•°ã€‚ 123$("p").fadeOut(300, function() &#123; $(this).remove();&#125;); æ›´å¤æ‚çš„ç‰¹æ•ˆï¼Œå¯ä»¥ç”¨.animate()è‡ªå®šä¹‰ã€‚ 12345678910$("div").animate( &#123; left: "+=50", //ä¸æ–­å³ç§» opacity: 0.25 //æŒ‡å®šé€æ˜Žåº¦ &#125;, 300, // æŒç»­æ—¶é—´ function() &#123; alert("done!"); &#125; //å›žè°ƒå‡½æ•°); .stop()å’Œ.delay()ç”¨æ¥åœæ­¢æˆ–å»¶ç¼“ç‰¹æ•ˆçš„æ‰§è¡Œã€‚\$.fx.off å¦‚æžœè®¾ç½®ä¸º trueï¼Œåˆ™å…³é—­æ‰€æœ‰ç½‘é¡µç‰¹æ•ˆã€‚åŽŸæ–‡ä¼ é€é—¨]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptçš„thisç”¨æ³•]]></title>
    <url>%2F2017%2F05%2F21%2FJavaScript%E7%9A%84this%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[this æ˜¯ Javascript è¯­è¨€çš„ä¸€ä¸ªå…³é”®å­—ã€‚å®ƒä»£è¡¨å‡½æ•°è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚æ¯”å¦‚: 123function test() &#123; this.x = 1;&#125; éšç€å‡½æ•°ä½¿ç”¨åœºåˆçš„ä¸åŒï¼Œthis çš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªæ€»çš„åŽŸåˆ™ï¼Œé‚£å°±æ˜¯thisæŒ‡çš„æ˜¯ï¼Œè°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡ã€‚ä¸‹é¢åˆ†å››ç§æƒ…å†µï¼Œè¯¦ç»†è®¨è®º this çš„ç”¨æ³•ã€‚ çº¯ç²¹çš„å‡½æ•°è°ƒç”¨è¿™æ˜¯å‡½æ•°çš„æœ€é€šå¸¸ç”¨æ³•ï¼Œå±žäºŽå…¨å±€æ€§è°ƒç”¨ï¼Œå› æ­¤ this å°±ä»£è¡¨å…¨å±€å¯¹è±¡ Globalã€‚è¯·çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼Œå®ƒçš„è¿è¡Œç»“æžœæ˜¯ 1ã€‚ 12345function test() &#123; this.x = 1; alert(this.x);&#125;test(); // 1 ä¸ºäº†è¯æ˜Ž this å°±æ˜¯å…¨å±€å¯¹è±¡ï¼Œæˆ‘å¯¹ä»£ç åšä¸€äº›æ”¹å˜ï¼š 12345var x = 1;function test() &#123; alert(this.x);&#125;test(); // 1 è¿è¡Œç»“æžœè¿˜æ˜¯ 1ã€‚å†å˜ä¸€ä¸‹ï¼š 123456var x = 1;function test() &#123; this.x = 0;&#125;test();alert(x); //0 ä½œä¸ºå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨å‡½æ•°è¿˜å¯ä»¥ä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼Œè¿™æ—¶ this å°±æŒ‡è¿™ä¸ªä¸Šçº§å¯¹è±¡ã€‚ 1234567function test() &#123; alert(this.x);&#125;var o = &#123;&#125;;o.x = 1;o.m = test;o.m(); // 1 ä½œä¸ºæž„é€ å‡½æ•°è°ƒç”¨æ‰€è°“æž„é€ å‡½æ•°ï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆobjectï¼‰ã€‚è¿™æ—¶ï¼Œthis å°±æŒ‡è¿™ä¸ªæ–°å¯¹è±¡ã€‚ 12345function test() &#123; this.x = 1;&#125;var o = new test();alert(o.x); // 1 è¿è¡Œç»“æžœä¸º 1ã€‚ä¸ºäº†è¡¨æ˜Žè¿™æ—¶ this ä¸æ˜¯å…¨å±€å¯¹è±¡ï¼Œæˆ‘å¯¹ä»£ç åšä¸€äº›æ”¹å˜ï¼š 123456var x = 2;function test() &#123; this.x = 1;&#125;var o = new test();alert(x); //2 è¿è¡Œç»“æžœä¸º 2ï¼Œè¡¨æ˜Žå…¨å±€å˜é‡ x çš„å€¼æ ¹æœ¬æ²¡å˜ã€‚ apply è°ƒç”¨apply()æ˜¯å‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°çš„è°ƒç”¨å¯¹è±¡ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å°±è¡¨ç¤ºæ”¹å˜åŽçš„è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œthis æŒ‡çš„å°±æ˜¯è¿™ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ 12345678var x = 0;function test() &#123; alert(this.x);&#125;var o = &#123;&#125;;o.x = 1;o.m = test;o.m.apply(); //0 apply()çš„å‚æ•°ä¸ºç©ºæ—¶ï¼Œé»˜è®¤è°ƒç”¨å…¨å±€å¯¹è±¡ã€‚å› æ­¤ï¼Œè¿™æ—¶çš„è¿è¡Œç»“æžœä¸º 0ï¼Œè¯æ˜Ž this æŒ‡çš„æ˜¯å…¨å±€å¯¹è±¡ã€‚å¦‚æžœæŠŠæœ€åŽä¸€è¡Œä»£ç ä¿®æ”¹ä¸º 1o.m.apply(o); // 1 è¿è¡Œç»“æžœå°±å˜æˆäº† 1ï¼Œè¯æ˜Žäº†è¿™æ—¶ this ä»£è¡¨çš„æ˜¯å¯¹è±¡ oã€‚ åŽŸæ–‡ä¼ é€é—¨]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ç¼“å­˜è§£å†³jsé€’å½’è°ƒç”¨æ€§èƒ½é—®é¢˜]]></title>
    <url>%2F2017%2F05%2F20%2F%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E8%A7%A3%E5%86%B3js%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿°æ–æ³¢é‚£å¥‘åºåˆ—é€šå¸¸æ˜¯ç”¨æ¥è§£é‡Šé€’å½’è°ƒç”¨ã€‚ 1234function fibonacci(n) &#123; if (n == 0 || n == 1) return n; return fibonacci(n - 1) + fibonacci(n - 2);&#125; è¿™ä¸ªç®—æ³•ä»¥æ•™å­¦ä¸ºç›®çš„,ä½†éžå¸¸ä½Žæ•ˆçš„,ä¸ä»…å› ä¸ºé€’å½’,è€Œä¸”ä¸¤æ¬¡è°ƒç”¨ fibonacci å‡½æ•°,åœ¨å‡½æ•°é‡Œé¢å³ä¾§è°ƒç”¨çš„ fibonacci(n-2) åœ¨è¡¨è¾¾å¼å·¦ä¾§è°ƒç”¨ fibonacci(n-1)æ—¶å°±å·²å®Œå…¨è®¡ç®—è¿‡ä¸€éã€‚ è¿™ä¸ªç®—æ³•æ•ˆçŽ‡æ˜¯å¦‚æ­¤ä¹‹ä½Ž,æ–æ³¢çº³å¥‘æ•°è¶…è¿‡ 50 çš„å®žåœ¨å¤ªå¤šäº†ã€‚ä½ å¯ä»¥åŽ»å–æ¯å’–å•¡æˆ–åŽ»ç¡åˆè§‰æ—¶ç­‰å¾…ç­”æ¡ˆã€‚ä½†å¦‚æžœä½ å°±ç”¨è¿™ä¸ªä»£ç åœ¨ codewars ä¸Šå¾ˆå¯èƒ½å¾—åˆ°ä¸€ä¸ªè¶…æ—¶é”™è¯¯ã€‚ å¯¹äºŽè¿™ä¸ªç‰¹å®šå¡å¡”(ç±»ä¼¼æ‰“æ€ªå‡çº§é‡Œé¢çš„çº§æ•°)ï¼Œæˆ‘ä»¬æƒ³å®žçŽ°ç¼“å­˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æ˜¯ç‰¹åˆ«é…·çš„,å› ä¸ºå®ƒå°†è®©æˆ‘ä»¬ç»§ç»­ä½¿ç”¨é€’å½’ç®—æ³•,åŒæ—¶ä»ç„¶ä¿æŒè¶³å¤Ÿè¿…é€Ÿçš„å¾—åˆ°ä¸€ä¸ªç­”æ¡ˆã€‚ memoize çš„ç‰ˆæœ¬çš„è¯€çªæ˜¯,ä¿æŒä¸€ä¸ªç¼“å­˜æ•°æ®ç»“æž„(æœ€æœ‰å¯èƒ½çš„å…³è”æ•°ç»„),å°†æ–æ³¢çº³å¥‘æ•°åˆ—çš„å€¼ç¼“å­˜ã€‚å½“èŽ·å–ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—å€¼æ—¶,é¦–å…ˆåœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æžœæœ‰åˆ™ç›´æŽ¥è¿”å›žå€¼,å¦‚æžœæ²¡æœ‰,å†è®¡ç®—å¹¶æŠŠå®ƒæ”¾è¿›ç¼“å­˜ã€‚ ä½¿ç”¨ memoize çš„æ•°æ®ç»“æž„é‡æž„å‡½æ•°çš„é€’å½’ Fibonacci ä»¥é¿å…é€’å½’è°ƒç”¨çš„ç¼ºé™·ã€‚ åˆ†æžæ–æ³¢é‚£å¥‘æ•°åˆ—é‡Œé¢ä¸æ–­çš„é€’å½’è°ƒç”¨è‡ªèº«ï¼Œåˆ—å…¥è¾“å…¥çš„æ˜¯ 70ï¼Œé‚£ä¹ˆéœ€è¦è®¡ç®— 69 å’Œ 68 çš„å€¼ã€‚åœ¨è®¡ç®— 69 çš„è¿‡ç¨‹ä¸­åˆè®¡ç®—äº† 68ã€67ã€ã€ã€ã€ã€1ã€‚ è®¡ç®— 68 çš„è¿‡ç¨‹åˆè®¡ç®—äº† 67ã€66ã€ã€ã€ã€ã€ã€ã€1 çš„å€¼ï¼Œå¦‚æ­¤é‡å¤è®¡ç®—çš„å€¼å¤ªå¤šäº†ï¼ŒèŠ±è´¹çš„æ—¶é—´ä¹Ÿå°±æ¯”è¾ƒå¤šã€‚ ç¼“å­˜æ€æƒ³æ°å¥½å¯ä»¥å‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—ã€‚å½“ç¬¬ä¸€éè®¡ç®— 69 çš„å€¼æ—¶å°±é€’å½’è®¡ç®—äº† 68ã€67ã€66ã€ã€ã€1 çš„å€¼ï¼Œä¹‹åŽçš„æ¯æ¬¡éƒ½å…ˆæŸ¥çœ‹æ˜¯å¦æœ‰ç¼“å­˜ï¼Œæœ‰å°±ç›´æŽ¥è¿”å›žç¼“å­˜å€¼ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚ ä»£ç 123456789let cache = &#123;&#125;;let fibonacci = function(n) &#123; if (n == 0 || n == 1) return n; if (cache[n]) &#123; return cache[n]; &#125; return (cache[n] = fibonacci(n - 1) + fibonacci(n - 2));&#125;; æ€§èƒ½æµ‹è¯•123456789101112131415161718192021222324252627//æ²¡æœ‰ç¼“å­˜æ—¶let tesetNum = 40;console.time("NoCache");function fibonacci1(n) &#123; if (n == 0 || n == 1) return n; return fibonacci1(n - 1) + fibonacci1(n - 2);&#125;fibonacci1(tesetNum);console.timeEnd("NoCache");// ä½¿ç”¨ç¼“å­˜æ—¶console.time("HasCache");let cache = &#123;&#125;;let fibonacci = function(n) &#123; if (n == 0 || n == 1) return n; if (cache[n]) &#123; return cache[n]; &#125; return (cache[n] = fibonacci(n - 1) + fibonacci(n - 2));&#125;;fibonacci(tesetNum);console.timeEnd("HasCache");// è¾“å‡º// NoCache: 1717.834ms// HasCache: 0.159ms é€šè¿‡æ€§èƒ½æµ‹è¯•å¯ä»¥çœ‹åˆ°ï¼Œå½“æµ‹è¯•æ•°æ˜¯ 40 æ—¶ä¸é€‚ç”¨ç¼“å­˜æ¶ˆè€—çš„æ—¶é—´å°±æ˜¯ä½¿ç”¨ç¼“å­˜çš„ 1700 å¤šå€(å¥½å¯æ€•çš„æ•°æ®)ï¼Œæˆ‘è¯•äº†ä¸‹å½“æµ‹è¯•æ•°æ®æ˜¯ 300 æ—¶ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œæˆ‘å°±ç­‰ä¸æ€¥å®ƒçš„æ‰§è¡Œäº†ã€‚ ä½¿ç”¨åœºæ™¯å½“é€’å½’è°ƒç”¨é‡Œæœ‰å¤§é‡é‡å¤è®¡ç®—çš„æƒ…æ™¯ï¼Œæˆ–è€…ç»„ä»¶ã€æ•°æ®ç­‰é‡å¤åŠ è½½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç¼“å­˜æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©(å…¸åž‹çš„ä»¥ç©ºé—´æ¢æ—¶é—´)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptæ•°ç»„æ“ä½œæ€»ç»“]]></title>
    <url>%2F2017%2F04%2F30%2FJavaScript%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[æ•°ç»„çš„åˆ›å»ºæ•°ç»„çš„åˆ›å»ºæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€šè¿‡å­—é¢é‡ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡ Array æž„é€ å‡½æ•°ã€‚ å­—é¢é‡1var num1 = [1, 2, 3]; å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåˆ©ç”¨å­—é¢é‡åˆ›å»ºæ•°ç»„æ—¶ï¼Œä¸å¯åœ¨æœ€åŽä¸€ä¸ªæ•°ç»„å…ƒç´ æ·»åŠ â€œ,â€ï¼Œå› ä¸ºåœ¨è€ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ï¼Œä¼šå‡ºçŽ° bugã€‚ Array æž„é€ å‡½æ•°1var num2 = new Array(); //ç©ºæ•°ç»„ Array()å¯æŽ¥æ”¶åŒ…å«é¡¹ä½œä¸ºå‚æ•°ï¼Œè¿™æ—¶ï¼Œä¼šåˆ›å»ºåŒ…å«ä¼ å…¥é¡¹çš„æ•°ç»„ï¼Œå¦‚ num3ã€‚ä¹Ÿå¯æŽ¥æ”¶ä¸€ä¸ªç±»åž‹ä¸º number çš„æ•°å­—ä½œä¸ºå‚æ•°ï¼Œè¿™æ—¶ï¼Œä¼šåˆ›å»ºæ•°ç»„é•¿åº¦ä¸ºè¯¥æ•°å­—çš„æ•°ç»„ï¼Œå¦‚ num5ã€‚ 123var num3 = new Array("1", "2", "3"); //ç›¸å½“äºŽ["1","2","3"]var num4 = new Array(3); //lengthä¸º3ï¼Œå…ƒç´ å‡ä¸ºundefinedçš„æ•°ç»„var num5 = new Array(3).fill("1", 0, 2); //["1","1","1",undefined] æ•°ç»„çš„è½¬æ¢å…³äºŽæ•°ç»„çš„è½¬æ¢ï¼Œè¿™é‡Œåªææ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²çš„ä¸¤ç§æ–¹æ³•ã€‚åˆ†åˆ«æ˜¯ toString()å’Œ join()ã€‚ toString()è¯¥æ–¹æ³•ä¼šè¿”å›žæ•°ç»„å„ä¸ªé¡¹ä»¥é€—å·éš”å¼€çš„å­—ç¬¦ä¸²ã€‚åœ¨ä½¿ç”¨ alert(array)æ–¹æ³•æ‰“å°æ•°ç»„æ—¶ï¼Œä¼šéšæ€§è°ƒç”¨ toString()æ–¹æ³•ã€‚ 123var num6 = [1, 2, 3];var num6Str = num6.toString(); //"1,2,3"alert(num6); //"1,2,3" join()join()åªæŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¸ºæ•°ç»„ä¸­å„é¡¹æ‹¼æŽ¥çš„å­—ç¬¦ä¸²ï¼Œè‹¥ä¸ä¼ å‚ï¼Œé»˜è®¤ä¸ºç”¨â€œ,â€ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ•ˆæžœç›¸å½“äºŽ toString()æ–¹æ³•ã€‚ 123var num7 = [1, 2, 3];num7.join("$"); //"1$2$3"num7.join(); //"1,2,3" æ ˆæ–¹æ³•æ ˆæ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æž„ï¼Œè€Œæ•°ç»„æä¾›çš„ push()å’Œ pop()æ–¹æ³•ç±»ä¼¼æ ˆçš„è¡Œä¸ºï¼Œæ‰€ä»¥å«æ ˆæ–¹æ³•ã€‚ push()push()æ–¹æ³•å¯ä»¥æŽ¥æ”¶å¤šä¸ªå‚æ•°ï¼ŒæŠŠå®ƒä»¬ä¾æ¬¡æ·»åŠ è‡³æ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›žä¿®æ”¹åŽæ•°ç»„é•¿åº¦ã€‚ 1234var num8 = [1, 2, 3];var num8Length = num8.push(4, 5);alert(num8); //1,2,3,4,5alert(num8Length); //5 pop()pop()æ–¹æ³•æ˜¯å°†æ•°ç»„çš„æœ€åŽä¸€é¡¹ç§»é™¤ï¼Œå¹¶è¿”å›žç§»é™¤é¡¹ã€‚ 12var num9 = [1, 2, 3];var last = num9.pop(); //3 é˜Ÿåˆ—æ–¹æ³•shift()shift()æ–¹æ³•æ˜¯å°†æ•°ç»„çš„ç¬¬ä¸€é¡¹ç§»é™¤ï¼Œå¹¶è¿”å›žç§»é™¤é¡¹ã€‚ 12var num10 = [1, 2, 3];var first = num10.shift(); //1 unshift()unshift()æ–¹æ³•ä¸Ž shift()æ–¹æ³•ç”¨é€”ç›¸åï¼Œè¯¥æ–¹æ³•å¯ä»¥æŽ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œå°†å‚æ•°ä¾æ¬¡åŠ å…¥æ•°ç»„çš„å‰ç«¯ï¼Œå¹¶è¿”å›žä¿®æ”¹åŽæ•°ç»„çš„é•¿åº¦ã€‚ 12var num11 = [1, 2, 3];var addArray = num11.unshift("-1", "0"); //5 é‡æŽ’åºæ–¹æ³•reverse()reverse()æ–¹æ³•æ˜¯ä½¿æ•°ç»„ä¸­çš„é¡¹è¿›è¡Œåè½¬ï¼Œå¹¶è¿”å›žç»è¿‡æŽ’åºåŽçš„æ•°ç»„ã€‚ 12var num12 = [1, 2, 3];num12.reverse(); //[3,2,1] sort()sort()æ–¹æ³•æ˜¯é»˜è®¤ä¸ºæŒ‰ç…§ ASCII ç è¿›è¡Œé¡ºåºæŽ’åºã€‚åœ¨ä½¿ç”¨ sort()æ–¹æ³•æ—¶ï¼Œä¼šå…ˆéšæ€§è°ƒç”¨ toString()æ–¹æ³•å°†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿›è¡Œå­—ç¬¦ä¸²è½¬åŒ–ï¼Œå®žé™…ä¸Šæ˜¯è¿›è¡Œå­—ç¬¦ä¸² ASCII è¿›è¡ŒæŽ’åºï¼Œå¹¶è¿”å›žæŽ’åºåŽçš„æ•°ç»„ã€‚ å¯¹äºŽæ•°ç»„é¡¹ä¸­å‡ä¸º number ç±»åž‹çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ sort()ä¸­ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œè¯¥æ¯”è¾ƒå‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‰ä¸€é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåŽä¸€é¡¹ã€‚å°†ä¸¤ä¸ªå‚æ•°è¿›è¡Œå¯¹æ¯”ï¼Œè‹¥ return çš„å€¼&gt;0,åˆ™å°†ä¸¤ä¸ªå¯¹æ¯”é¡¹è¿›è¡Œè°ƒæ¢ä½ç½®ï¼Œè°ƒæ¢ä½ç½®çš„é¡¹ï¼Œå†ä¸Žè¾ƒå‰çš„ä¸€é¡¹è¿›è¡Œå¯¹æ¯”ï¼Œä¾æ¬¡ç±»æŽ¨ï¼Œç›´åˆ° return å€¼è¿”å›žä¸º 0 æˆ–è€…&lt;0 ä¸ºæ­¢ã€‚ åœ¨æ¯”è¾ƒå‡½æ•°ä¸­ï¼Œreturn å€¼&gt;0ï¼Œæ•°ç»„é¡¹è°ƒæ¢ä½ç½®ï¼›return å€¼&lt;0ï¼Œæ•°ç»„é¡¹ä¸è°ƒæ¢ä½ç½®ï¼›return å€¼=0ï¼Œæ„å‘³ç€ä¸¤é¡¹ç›¸ç­‰ï¼Œæ•°ç»„é¡¹ä¸è°ƒæ¢ä½ç½®ã€‚ 12345var num13 = [3, 2, 7, 14, 111, 0];num13.sort(function(value1, value2) &#123; return value1 - value2;&#125;);alert(num13); //0,2,3,7,14,111 æ“ä½œæ–¹æ³•concat()concat()æ–¹æ³•æ˜¯å°†æ•°ç»„ä¸Žæ•°ç»„è¿›è¡Œè¿žç»“æˆ–è€…å°†æ•°ç»„é¡¹æ·»åŠ è‡³æ•°ç»„æœ«å°¾ã€‚ concat()ä¼šåˆ›å»ºå½“å‰æ•°ç»„çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åŽå°†æŽ¥æ”¶åˆ°çš„å‚æ•°ä¾æ¬¡æ·»åŠ åˆ°è¿™ä¸ªå‰¯æœ¬çš„æœ«å°¾ã€‚å¦‚æžœæ²¡æœ‰ä¼ å…¥å‚æ•°ï¼Œåˆ™è¿”å›žçš„æ˜¯å½“å‰æ•°ç»„çš„å‰¯æœ¬ï¼Œç›¸å½“äºŽæ•°ç»„çš„å¤åˆ¶ï¼›å¦‚æžœä¼ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„å‚æ•°ï¼Œåˆ™ä¼šåœ¨å‰¯æœ¬çš„æœ«å°¾ä¾æ¬¡æ·»åŠ æ•°ç»„å‚æ•°ä¸­çš„æ¯ä¸€ä¸ªé¡¹ï¼›å¦‚æžœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªéžæ•°ç»„ç±»åž‹çš„æ•°æ®ï¼Œåˆ™è¿™äº›å€¼ä¼šä¾æ¬¡è¢«æ·»åŠ è‡³å‰¯æœ¬çš„æœ«å°¾ã€‚ æ³¨ï¼šå¯åˆ©ç”¨ concat()æ–¹æ³•è¿”å›žä¸€ä¸ªæ–°æ•°ç»„çš„ç‰¹æ€§ç”¨äºŽæ•°ç»„çš„å¤åˆ¶ã€‚ 12345var num14 = [1, 2, 3];var num15 = num14.concat([4, 5], [6, 7]);alert("å‚æ•°ä¸ºå¤šä¸ªæ•°ç»„æ—¶ï¼š" + num15); //1,2,3,4,5,6,7var num16 = num14.concat(4, 5);alert("å‚æ•°ä¸ºéžæ•°ç»„æ—¶ï¼š" + num16); //1,2,3,4,5 slice()slice()å¯ä»¥åŸºäºŽå½“å‰æ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¹¶è¿”å›žæ–°çš„æ•°ç»„ã€‚ slice()å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°ï¼Œå³è¦è¿”å›žé¡¹çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œä¼šè¿”å›žä»Žè¯¥å‚æ•°æŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ°æ•°ç»„çš„æœ«å°¾ä½ç½®ï¼›ä¼ å…¥ä¸¤ä¸ªå‚æ•°æ—¶ï¼Œä¼šè¿”å›žä»Žèµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®å‰ä¸€é¡¹çš„æ•°ç»„é¡¹ã€‚ æ³¨ï¼šå¯åˆ©ç”¨ slice(0)æ–¹æ³•è¿”å›žä¸€ä¸ªæ–°æ•°ç»„çš„ç‰¹æ€§ç”¨äºŽæ•°ç»„çš„å¤åˆ¶ã€‚ 123var num17 = [1, 2, 3];num17.slice(1); //[2,3]num17.slice(1, 2); //[2] splice()splice()æ–¹æ³•æ˜¯æ¯”è¾ƒå¼ºå¤§çš„æ•°ç»„æ“ä½œæ–¹æ³•ã€‚å› ä¸ºå¯ä»¥åˆ©ç”¨è¯¥æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œåˆ é™¤ï¼Œæ’å…¥å’Œæ›¿æ¢æ“ä½œã€‚åˆ é™¤ï¼šsplice(index,number)ï¼Œåªéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œindex ä¸ºåˆ é™¤çš„ç¬¬ä¸€é¡¹ä½ç½®ï¼Œnumber ä¸ºåˆ é™¤çš„é¡¹æ•°ã€‚æ’å…¥ï¼šsplice(index,0,value1,value2,â€¦)ï¼Œéœ€è¦è‡³å°‘ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œindex ä¸ºä»Žä½ç½® index å¤„æ’å…¥ value1,value2â€¦ã€‚æ›¿æ¢ï¼šsplice(index,number,value1,value2â€¦)ï¼Œéœ€è¦è‡³å°‘ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œindex ä¸ºå¼€å§‹æ›¿æ¢çš„ä½ç½®ï¼Œnumber ä¸ºæ›¿æ¢çš„é¡¹æ•°ï¼Œvalue1ï¼Œvalue2 ç­‰æ˜¯æ›¿æ¢çš„é¡¹ã€‚è¿”å›žå€¼ï¼šsplice()æ–¹æ³•è¿”å›žçš„å§‹ç»ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè‹¥æœ‰åˆ é™¤é¡¹ï¼Œåˆ™è¿”å›žå«æœ‰æ‰€æœ‰è¢«åˆ é™¤é¡¹çš„æ•°ç»„ï¼Œè‹¥æ²¡æœ‰åˆ é™¤é¡¹ï¼Œè¿™è¿”å›žç©ºæ•°ç»„ã€‚ 1234567var num18 = [1, 2, 3];//åˆ é™¤æ“ä½œnum18.splice(0, 2); //è¿”å›ž[1,2]ï¼Œæ­¤æ—¶num18 = [3]//æ’å…¥æ“ä½œnum18.splice(1, 0, 4, 5, 6); //è¿”å›ž[]ï¼Œæ­¤æ—¶num18 =[3,4,5,6]//æ›¿æ¢æ“ä½œnum18.splice(2, 2, 3, 3); //è¿”å›ž[5,6]ï¼Œæ­¤æ—¶num18 = [3,4,3,3] ä½ç½®æ–¹æ³•ä½ç½®æ–¹æ³•åŒ…å«äº†ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«ä¸º indexOf()å’Œ lastIndexOf()ï¼Œä¸¤ä¸ªæ–¹æ³•éƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŸ¥æ‰¾é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰ä¸ºæŸ¥æ‰¾çš„èµ·å§‹ä½ç½®ï¼Œéƒ½è¿”å›žæŸ¥æ‰¾é¡¹æ‰€å‡ºçŽ°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›ž-1ã€‚æŸ¥æ‰¾é¡¹å’Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œä½¿ç”¨ä½¿ç”¨çš„æ˜¯å…¨ç­‰æ“ä½œç¬¦===ï¼Œæ•…éœ€è¦å€¼å’Œæ•°æ®ç±»åž‹ä¸€è‡´ã€‚ indexOf()indexOf(value)è¯¥æ–¹æ³•æ˜¯ä»Žæ•°ç»„çš„å¼€å¤´å¼€å§‹æŸ¥æ‰¾å€¼ä¸º value çš„é¡¹ã€‚indexOf(value,index)è¯¥æ–¹æ³•æ˜¯ä»Žä¸‹æ ‡ä¸º index çš„é¡¹å¼€å§‹æŸ¥æ‰¾å€¼ä¸º value çš„é¡¹ã€‚ 123var num19 = [1, 2, 3];num19.indexOf(1); //è¿”å›ž0num19.indexOf(3, 1); //è¿”å›ž2 lastIndexOf()lastIndexOf(value)è¯¥æ–¹æ³•æ˜¯ä»Žæ•°ç»„çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾å€¼ä¸º value çš„é¡¹ã€‚lastIndexOf(value,index)è¯¥æ–¹æ³•æ˜¯ä»Žæ•°ç»„æœ«å°¾å¼€å§‹å¾€å‰ï¼ˆä»Ž 0 å¼€å§‹ï¼‰index çš„é¡¹å¼€å§‹å‘æ•°ç»„å¼€å¤´æŸ¥æ‰¾å€¼ä¸º value çš„é¡¹ã€‚ 123var num20 = [1, 2, 3];num20.lastIndexOf(1); //è¿”å›ž0num20.lastIndexOf(1, 1); //è¿”å›ž0 è¿­ä»£æ–¹æ³•every()every(function(item,index,array){reutrnâ€¦;})å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œå¦‚è¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å›ž trueï¼Œåˆ™è¿”å›ž trueï¼Œå¦åˆ™ä¸º falseã€‚ï¼ˆç±»ä¼¼ä¸”æ“ä½œç¬¦ï¼‰ 1234567var num21 = [1, 2, 3];var every = num21.every(function(item, index, array) &#123; return item &gt; 0;&#125;); //truevar every1 = num21.every(function(item, index, array) &#123; return item &gt; 2;&#125;); //false some()some(function(item,index,array){returnâ€¦})å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œå¦‚å‡½æ•°å¯¹æŸä¸€é¡¹è¿”å›ž trueï¼Œåˆ™è¿”å›ž trueï¼Œå¦åˆ™ä¸º falseã€‚ï¼ˆç±»ä¼¼æˆ–æ“ä½œç¬¦ï¼‰ 1234567var num22 = [1, 2, 3];var some = num21.some(function(item, index, array) &#123; return item &gt; 2;&#125;); //truevar some1 = num22.some(function(item, index, array) &#123; return item &gt; 6;&#125;); //false forEach()forEach(function(item,index,array){})å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚ï¼ˆç±»ä¼¼ for å¾ªçŽ¯ï¼‰ 1234var num23 = [1, 2, 3];num23.forEach(function(item, index, array) &#123; console.log(item);&#125;); map()map(function(item,index,array){})å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œè¿”å›žå€¼ä¸ºå¯¹æ•°ç»„æ“ä½œåŽçš„æ•°ç»„ã€‚ 1234var num24 = [1, 2, 3];num24.map(function(item, index, array) &#123; return item + 2;&#125;); //[3,4,5] filter()filter(function(item,index,array){})å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œè¿”å›žå€¼ä¸ºç»™å®šå‡½æ•°è¿”å›žä¸º true çš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚ 1234var num25 = [1, 2, 3];num25.filter(function(item, index, array) &#123; return item &gt; 2;&#125;); //[3] å½’å¹¶æ–¹æ³•å½’å¹¶æ–¹æ³•æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«ä¸º reduce()å’Œ reduceRight()ã€‚è¯¥ä¸¤ä¸ªæ–¹æ³•æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºç»™å®šå‡½æ•°å’Œ pre åˆå§‹å€¼ï¼ˆå¯é€‰ï¼‰ã€‚å‡è¿­ä»£æ•°ç»„çš„æ¯ä¸€é¡¹ä¼ å…¥ç»™å®šå‡½æ•°ï¼Œå¹¶æž„é€ ä¸€ä¸ªæœ€ç»ˆè¿”å›žå€¼ã€‚ reduce()reduce(function(pre,cur,index,array){returnâ€¦})ä»Žç¬¬ä¸€é¡¹å¼€å§‹ï¼Œè¿­ä»£æ—¶ï¼Œä¼šå°†ç»™å®šå‡½æ•°è¿”å›žçš„å€¼ä½œä¸º pre å‚æ•°ç»™åˆ°ä¸‹ä¸€æ¬¡è¿­ä»£ï¼Œç›´åˆ°æœ€åŽã€‚cur æŒ‡å½“å‰é¡¹ï¼Œindex ä¸ºå½“å‰é¡¹ä¸‹æ ‡ï¼Œarray ä¸ºè°ƒç”¨çš„æ•°ç»„ã€‚ 123456789var num26 = [1, 2, 3];//åªä¼ ç»™å®šå‡½æ•°num26.reduce(function(pre, cur, index, array) &#123; return pre + cur;&#125;); //6//ä¼ å…¥ç»™å®šå‡½æ•°å’Œpreåˆå§‹å€¼num26.reduce(function(pre, cur, index, array) &#123; return pre + cur;&#125;, 4); //10 reduceRight()reduceRight()å’Œ reduce()æ–¹æ³•é™¤äº†ä»Žæ•°ç»„çš„æœ«å°¾è¿˜æ˜¯å¼€å§‹å¼€å§‹éåŽ†ä¸åŒå¤–ï¼Œå…¶ä»–éƒ½ä¸€è‡´ã€‚reduceRight()æ˜¯ä»Žæ•°ç»„æœ«å°¾å¼€å§‹éåŽ†ã€‚]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Array</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub Pages + hexo + next]]></title>
    <url>%2F2017%2F04%2F19%2FgithubPages%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•é…ç½®hexo + github page,è¯·ç‚¹å‡» Github Pages + Hexo æ­å»ºåšå®¢å¦‚ä½•æ­å»ºä¸€ä¸ªç‹¬ç«‹åšå®¢â€”â€”ç®€æ˜ŽGithub Pagesä¸ŽHexoæ•™ç¨‹Markdownè¯­æ³•æ•™ç¨‹ä½¿ç”¨hexoï¼Œå¦‚æžœæ¢äº†ç”µè„‘æ€Žä¹ˆæ›´æ–°åšå®¢ï¼Ÿ letâ€™s go!]]></content>
      <categories>
        <category>GitHub Pages</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2016%2F02%2F07%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" #æ–°å»ºæ–‡ä»¶ More info: Writing Generate static files1$ hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• More info: Generating Run server1$ hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ'ctrl + c'å…³é—­serverï¼‰ More info: Server Deploy to remote sites1$ hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub More info: Deployment by my self1$ hexo clean #æ¸…é™¤ç¼“å­˜ ç½‘é¡µæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥å¿½ç•¥æ­¤æ¡å‘½ä»¤ hexoçš„ç®€å†™å½¢å¼1234hexo n "æˆ‘çš„åšå®¢" == hexo new "æˆ‘çš„åšå®¢"hexo g == hexo generatehexo s == hexo serverhexo d == hexo deploy]]></content>
  </entry>
</search>